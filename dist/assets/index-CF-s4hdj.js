function SA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ug(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mm={exports:{}},hu={},gm={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function AA(){if(R0)return rt;R0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function A(H,Z,he){this.props=H,this.context=Z,this.refs=b,this.updater=he||w}A.prototype.isReactComponent={},A.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=A.prototype;function V(H,Z,he){this.props=H,this.context=Z,this.refs=b,this.updater=he||w}var F=V.prototype=new k;F.constructor=V,T(F,A.prototype),F.isPureReactComponent=!0;var z=Array.isArray,q=Object.prototype.hasOwnProperty,J={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(H,Z,he){var ge,be={},ve=null,Se=null;if(Z!=null)for(ge in Z.ref!==void 0&&(Se=Z.ref),Z.key!==void 0&&(ve=""+Z.key),Z)q.call(Z,ge)&&!O.hasOwnProperty(ge)&&(be[ge]=Z[ge]);var Be=arguments.length-2;if(Be===1)be.children=he;else if(1<Be){for(var je=Array(Be),st=0;st<Be;st++)je[st]=arguments[st+2];be.children=je}if(H&&H.defaultProps)for(ge in Be=H.defaultProps,Be)be[ge]===void 0&&(be[ge]=Be[ge]);return{$$typeof:t,type:H,key:ve,ref:Se,props:be,_owner:J.current}}function N(H,Z){return{$$typeof:t,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return Z[he]})}var M=/\/+/g;function D(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):Z.toString(36)}function we(H,Z,he,ge,be){var ve=typeof H;(ve==="undefined"||ve==="boolean")&&(H=null);var Se=!1;if(H===null)Se=!0;else switch(ve){case"string":case"number":Se=!0;break;case"object":switch(H.$$typeof){case t:case e:Se=!0}}if(Se)return Se=H,be=be(Se),H=ge===""?"."+D(Se,0):ge,z(be)?(he="",H!=null&&(he=H.replace(M,"$&/")+"/"),we(be,Z,he,"",function(st){return st})):be!=null&&(L(be)&&(be=N(be,he+(!be.key||Se&&Se.key===be.key?"":(""+be.key).replace(M,"$&/")+"/")+H)),Z.push(be)),1;if(Se=0,ge=ge===""?".":ge+":",z(H))for(var Be=0;Be<H.length;Be++){ve=H[Be];var je=ge+D(ve,Be);Se+=we(ve,Z,he,je,be)}else if(je=E(H),typeof je=="function")for(H=je.call(H),Be=0;!(ve=H.next()).done;)ve=ve.value,je=ge+D(ve,Be++),Se+=we(ve,Z,he,je,be);else if(ve==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Se}function Le(H,Z,he){if(H==null)return H;var ge=[],be=0;return we(H,ge,"","",function(ve){return Z.call(he,ve,be++)}),ge}function Ce(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var xe={current:null},re={transition:null},ne={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:re,ReactCurrentOwner:J};function ae(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:Le,forEach:function(H,Z,he){Le(H,function(){Z.apply(this,arguments)},he)},count:function(H){var Z=0;return Le(H,function(){Z++}),Z},toArray:function(H){return Le(H,function(Z){return Z})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},rt.Component=A,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=V,rt.StrictMode=r,rt.Suspense=h,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,rt.act=ae,rt.cloneElement=function(H,Z,he){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ge=T({},H.props),be=H.key,ve=H.ref,Se=H._owner;if(Z!=null){if(Z.ref!==void 0&&(ve=Z.ref,Se=J.current),Z.key!==void 0&&(be=""+Z.key),H.type&&H.type.defaultProps)var Be=H.type.defaultProps;for(je in Z)q.call(Z,je)&&!O.hasOwnProperty(je)&&(ge[je]=Z[je]===void 0&&Be!==void 0?Be[je]:Z[je])}var je=arguments.length-2;if(je===1)ge.children=he;else if(1<je){Be=Array(je);for(var st=0;st<je;st++)Be[st]=arguments[st+2];ge.children=Be}return{$$typeof:t,type:H.type,key:be,ref:ve,props:ge,_owner:Se}},rt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},rt.createElement=I,rt.createFactory=function(H){var Z=I.bind(null,H);return Z.type=H,Z},rt.createRef=function(){return{current:null}},rt.forwardRef=function(H){return{$$typeof:c,render:H}},rt.isValidElement=L,rt.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Ce}},rt.memo=function(H,Z){return{$$typeof:p,type:H,compare:Z===void 0?null:Z}},rt.startTransition=function(H){var Z=re.transition;re.transition={};try{H()}finally{re.transition=Z}},rt.unstable_act=ae,rt.useCallback=function(H,Z){return xe.current.useCallback(H,Z)},rt.useContext=function(H){return xe.current.useContext(H)},rt.useDebugValue=function(){},rt.useDeferredValue=function(H){return xe.current.useDeferredValue(H)},rt.useEffect=function(H,Z){return xe.current.useEffect(H,Z)},rt.useId=function(){return xe.current.useId()},rt.useImperativeHandle=function(H,Z,he){return xe.current.useImperativeHandle(H,Z,he)},rt.useInsertionEffect=function(H,Z){return xe.current.useInsertionEffect(H,Z)},rt.useLayoutEffect=function(H,Z){return xe.current.useLayoutEffect(H,Z)},rt.useMemo=function(H,Z){return xe.current.useMemo(H,Z)},rt.useReducer=function(H,Z,he){return xe.current.useReducer(H,Z,he)},rt.useRef=function(H){return xe.current.useRef(H)},rt.useState=function(H){return xe.current.useState(H)},rt.useSyncExternalStore=function(H,Z,he){return xe.current.useSyncExternalStore(H,Z,he)},rt.useTransition=function(){return xe.current.useTransition()},rt.version="18.3.1",rt}var I0;function nh(){return I0||(I0=1,gm.exports=AA()),gm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function RA(){if(k0)return hu;k0=1;var t=nh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,v={},E=null,w=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:c,key:E,ref:w,props:v,_owner:i.current}}return hu.Fragment=n,hu.jsx=l,hu.jsxs=l,hu}var P0;function IA(){return P0||(P0=1,mm.exports=RA()),mm.exports}var S=IA(),C=nh();const se=Ug(C),kA=SA({__proto__:null,default:se},[C]);var Hd={},ym={exports:{}},Jn={},vm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function PA(){return N0||(N0=1,function(t){function e(re,ne){var ae=re.length;re.push(ne);e:for(;0<ae;){var H=ae-1>>>1,Z=re[H];if(0<i(Z,ne))re[H]=ne,re[ae]=Z,ae=H;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ne=re[0],ae=re.pop();if(ae!==ne){re[0]=ae;e:for(var H=0,Z=re.length,he=Z>>>1;H<he;){var ge=2*(H+1)-1,be=re[ge],ve=ge+1,Se=re[ve];if(0>i(be,ae))ve<Z&&0>i(Se,be)?(re[H]=Se,re[ve]=ae,H=ve):(re[H]=be,re[ge]=ae,H=ge);else if(ve<Z&&0>i(Se,ae))re[H]=Se,re[ve]=ae,H=ve;else break e}}return ne}function i(re,ne){var ae=re.sortIndex-ne.sortIndex;return ae!==0?ae:re.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,v=null,E=3,w=!1,T=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(re){for(var ne=n(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=re)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(p)}}function z(re){if(b=!1,F(re),!T)if(n(h)!==null)T=!0,Ce(q);else{var ne=n(p);ne!==null&&xe(z,ne.startTime-re)}}function q(re,ne){T=!1,b&&(b=!1,k(I),I=-1),w=!0;var ae=E;try{for(F(ne),v=n(h);v!==null&&(!(v.expirationTime>ne)||re&&!U());){var H=v.callback;if(typeof H=="function"){v.callback=null,E=v.priorityLevel;var Z=H(v.expirationTime<=ne);ne=t.unstable_now(),typeof Z=="function"?v.callback=Z:v===n(h)&&r(h),F(ne)}else r(h);v=n(h)}if(v!==null)var he=!0;else{var ge=n(p);ge!==null&&xe(z,ge.startTime-ne),he=!1}return he}finally{v=null,E=ae,w=!1}}var J=!1,O=null,I=-1,N=5,L=-1;function U(){return!(t.unstable_now()-L<N)}function M(){if(O!==null){var re=t.unstable_now();L=re;var ne=!0;try{ne=O(!0,re)}finally{ne?D():(J=!1,O=null)}}else J=!1}var D;if(typeof V=="function")D=function(){V(M)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Le=we.port2;we.port1.onmessage=M,D=function(){Le.postMessage(null)}}else D=function(){A(M,0)};function Ce(re){O=re,J||(J=!0,D())}function xe(re,ne){I=A(function(){re(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){T||w||(T=!0,Ce(q))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var ae=E;E=ne;try{return re()}finally{E=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ne){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=E;E=re;try{return ne()}finally{E=ae}},t.unstable_scheduleCallback=function(re,ne,ae){var H=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?H+ae:H):ae=H,re){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,re={id:g++,callback:ne,priorityLevel:re,startTime:ae,expirationTime:Z,sortIndex:-1},ae>H?(re.sortIndex=ae,e(p,re),n(h)===null&&re===n(p)&&(b?(k(I),I=-1):b=!0,xe(z,ae-H))):(re.sortIndex=Z,e(h,re),T||w||(T=!0,Ce(q))),re},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(re){var ne=E;return function(){var ae=E;E=ne;try{return re.apply(this,arguments)}finally{E=ae}}}}(_m)),_m}var O0;function NA(){return O0||(O0=1,vm.exports=PA()),vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function OA(){if(D0)return Jn;D0=1;var t=nh(),e=NA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function w(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,o,u,f){if(o===null||typeof o>"u"||w(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,u,f,m,_,R){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=R}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];A[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(k,V);A[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(k,V);A[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(k,V);A[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,u,f){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(T(o,u,m,f)&&(u=null),f||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),J=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),re=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,H;function Z(s){if(H===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+s}var he=!1;function ge(s,o){if(!s||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){f=X}s.call(o.prototype)}else{try{throw Error()}catch(X){f=X}s()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var m=X.stack.split(`
`),_=f.stack.split(`
`),R=m.length-1,j=_.length-1;1<=R&&0<=j&&m[R]!==_[j];)j--;for(;1<=R&&0<=j;R--,j--)if(m[R]!==_[j]){if(R!==1||j!==1)do if(R--,j--,0>j||m[R]!==_[j]){var B=`
`+m[R].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=R&&0<=j);break}}}finally{he=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function be(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case J:return"Portal";case N:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case Ce:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}function Se(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function st(s){var o=je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(R){f=""+R,_.call(this,R)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ht(s){s._valueTracker||(s._valueTracker=st(s))}function pt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=je(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function yt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function zt(s,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function $t(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Be(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function $n(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function or(s,o){$n(s,o);var u=Be(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?K(s,o.type,u):o.hasOwnProperty("defaultValue")&&K(s,o.type,Be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function $(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function K(s,o,u){(o!=="number"||yt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ee=Array.isArray;function ye(s,o,u,f){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Be(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function pe(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function le(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(ee(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Be(u)}}function ke(s,o){var u=Be(o.value),f=Be(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function qe(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function ze(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?ze(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qt,Ms=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Qt=Qt||document.createElement("div"),Qt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Qt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function fn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_r=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(s){_r.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ar[o]=ar[s]})});function wr(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ar.hasOwnProperty(s)&&ar[s]?(""+o).trim():o+"px"}function Bn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=wr(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var Mr=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(s,o){if(o){if(Mr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function _o(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=null;function Ls(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var js=null,zn=null,Hn=null;function On(s){if(s=Xl(s)){if(typeof js!="function")throw Error(n(280));var o=s.stateNode;o&&(o=id(o),js(s.stateNode,s.type,o))}}function xr(s){zn?Hn?Hn.push(s):Hn=[s]:zn=s}function He(){if(zn){var s=zn,o=Hn;if(Hn=zn=null,On(s),o)for(s=0;s<o.length;s++)On(o[s])}}function it(s,o){return s(o)}function vt(){}var Ht=!1;function hn(s,o,u){if(Ht)return s(o,u);Ht=!0;try{return it(s,o,u)}finally{Ht=!1,(zn!==null||Hn!==null)&&(vt(),He())}}function _t(s,o){var u=s.stateNode;if(u===null)return null;var f=id(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Wn=!1;if(c)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{Wn=!1}function xn(s,o,u,f,m,_,R,j,B){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(ce){this.onError(ce)}}var wo=!1,oa=null,Vr=!1,Nl=null,zh={onError:function(s){wo=!0,oa=s}};function aa(s,o,u,f,m,_,R,j,B){wo=!1,oa=null,xn.apply(zh,arguments)}function kc(s,o,u,f,m,_,R,j,B){if(aa.apply(this,arguments),wo){if(wo){var X=oa;wo=!1,oa=null}else throw Error(n(198));Vr||(Vr=!0,Nl=X)}}function Lr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Eo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function jr(s){if(Lr(s)!==s)throw Error(n(188))}function Pc(s){var o=s.alternate;if(!o){if(o=Lr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,f=o;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return jr(m),s;if(_===f)return jr(m),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=_;else{for(var R=!1,j=m.child;j;){if(j===u){R=!0,u=m,f=_;break}if(j===f){R=!0,f=m,u=_;break}j=j.sibling}if(!R){for(j=_.child;j;){if(j===u){R=!0,u=_,f=m;break}if(j===f){R=!0,f=_,u=m;break}j=j.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Ol(s){return s=Pc(s),s!==null?la(s):null}function la(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=la(s);if(o!==null)return o;s=s.sibling}return null}var ua=e.unstable_scheduleCallback,Dl=e.unstable_cancelCallback,Nc=e.unstable_shouldYield,Hh=e.unstable_requestPaint,Ct=e.unstable_now,Oc=e.unstable_getCurrentPriorityLevel,xo=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,Tr=e.unstable_NormalPriority,Ml=e.unstable_LowPriority,Dc=e.unstable_IdlePriority,To=null,lr=null;function Mc(s){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(To,s,void 0,(s.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:Lc,Vl=Math.log,Vc=Math.LN2;function Lc(s){return s>>>=0,s===0?32:31-(Vl(s)/Vc|0)|0}var ca=64,da=4194304;function pi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function bo(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,R=u&268435455;if(R!==0){var j=R&~m;j!==0?f=pi(j):(_&=R,_!==0&&(f=pi(_)))}else R=u&~m,R!==0?f=pi(R):_!==0&&(f=pi(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-Dn(o),m=1<<u,f|=s[u],o&=~m;return f}function Wh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var R=31-Dn(_),j=1<<R,B=m[R];B===-1?((j&u)===0||(j&f)!==0)&&(m[R]=Wh(j,o)):B<=o&&(s.expiredLanes|=j),_&=~j}}function ur(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Co(){var s=ca;return ca<<=1,(ca&4194240)===0&&(ca=64),s}function mi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function gi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Dn(o),s[o]=u}function Tt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-Dn(u),_=1<<m;o[m]=0,f[m]=-1,s[m]=-1,u&=~_}}function yi(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-Dn(u),m=1<<f;m&o|s[f]&o&&(s[f]|=o),u&=~m}}var at=0;function vi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var jc,fa,Fc,Uc,$c,Ll=!1,ds=[],pn=null,Fr=null,Ur=null,_i=new Map,br=new Map,fs=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(s,o){switch(s){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":_i.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(o.pointerId)}}function qn(s,o,u,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},o!==null&&(o=Xl(o),o!==null&&fa(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Gh(s,o,u,f,m){switch(o){case"focusin":return pn=qn(pn,s,o,u,f,m),!0;case"dragenter":return Fr=qn(Fr,s,o,u,f,m),!0;case"mouseover":return Ur=qn(Ur,s,o,u,f,m),!0;case"pointerover":var _=m.pointerId;return _i.set(_,qn(_i.get(_)||null,s,o,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,br.set(_,qn(br.get(_)||null,s,o,u,f,m)),!0}return!1}function zc(s){var o=ko(s.target);if(o!==null){var u=Lr(o);if(u!==null){if(o=u.tag,o===13){if(o=Eo(u),o!==null){s.blockedOn=o,$c(s.priority,function(){Fc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Us(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ha(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Vs=f,u.target.dispatchEvent(f),Vs=null}else return o=Xl(u),o!==null&&fa(o),s.blockedOn=u,!1;o.shift()}return!0}function So(s,o,u){Us(s)&&u.delete(o)}function Hc(){Ll=!1,pn!==null&&Us(pn)&&(pn=null),Fr!==null&&Us(Fr)&&(Fr=null),Ur!==null&&Us(Ur)&&(Ur=null),_i.forEach(So),br.forEach(So)}function $r(s,o){s.blockedOn===o&&(s.blockedOn=null,Ll||(Ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hc)))}function Br(s){function o(m){return $r(m,s)}if(0<ds.length){$r(ds[0],s);for(var u=1;u<ds.length;u++){var f=ds[u];f.blockedOn===s&&(f.blockedOn=null)}}for(pn!==null&&$r(pn,s),Fr!==null&&$r(Fr,s),Ur!==null&&$r(Ur,s),_i.forEach(o),br.forEach(o),u=0;u<fs.length;u++)f=fs[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<fs.length&&(u=fs[0],u.blockedOn===null);)zc(u),u.blockedOn===null&&fs.shift()}var $s=z.ReactCurrentBatchConfig,wi=!0;function Nt(s,o,u,f){var m=at,_=$s.transition;$s.transition=null;try{at=1,jl(s,o,u,f)}finally{at=m,$s.transition=_}}function Kh(s,o,u,f){var m=at,_=$s.transition;$s.transition=null;try{at=4,jl(s,o,u,f)}finally{at=m,$s.transition=_}}function jl(s,o,u,f){if(wi){var m=ha(s,o,u,f);if(m===null)ip(s,o,f,Ao,u),Bc(s,f);else if(Gh(m,s,o,u,f))f.stopPropagation();else if(Bc(s,f),o&4&&-1<qh.indexOf(s)){for(;m!==null;){var _=Xl(m);if(_!==null&&jc(_),_=ha(s,o,u,f),_===null&&ip(s,o,f,Ao,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else ip(s,o,f,null,u)}}var Ao=null;function ha(s,o,u,f){if(Ao=null,s=Ls(f),s=ko(s),s!==null)if(o=Lr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Eo(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ao=s,null}function Fl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oc()){case xo:return 1;case hi:return 4;case Tr:case Ml:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var cr=null,pa=null,Gn=null;function Ul(){if(Gn)return Gn;var s,o=pa,u=o.length,f,m="value"in cr?cr.value:cr.textContent,_=m.length;for(s=0;s<u&&o[s]===m[s];s++);var R=u-s;for(f=1;f<=R&&o[u-f]===m[_-f];f++);return Gn=m.slice(s,1<f?1-f:void 0)}function ma(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function hs(){return!0}function $l(){return!1}function mn(s){function o(u,f,m,_,R){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(u=s[j],this[j]=u?u(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?hs:$l,this.isPropagationStopped=$l,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),o}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=mn(zr),ps=ae({},zr,{view:0,detail:0}),Qh=mn(ps),ya,Bs,Ei,Ro=ae({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ei&&(Ei&&s.type==="mousemove"?(ya=s.screenX-Ei.screenX,Bs=s.screenY-Ei.screenY):Bs=ya=0,Ei=s),ya)},movementY:function(s){return"movementY"in s?s.movementY:Bs}}),va=mn(Ro),Bl=ae({},Ro,{dataTransfer:0}),Wc=mn(Bl),_a=ae({},ps,{relatedTarget:0}),wa=mn(_a),qc=ae({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=mn(qc),Gc=ae({},zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kc=mn(Gc),Qc=ae({},zr,{data:0}),zl=mn(Qc),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Yc[s])?!!o[s]:!1}function ms(){return Zc}var d=ae({},ps,{key:function(s){if(s.key){var o=Ea[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ma(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(s){return s.type==="keypress"?ma(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ma(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=mn(d),x=ae({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=mn(x),G=ae({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),te=mn(G),_e=ae({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=mn(_e),en=ae({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=mn(en),an=[9,13,27,32],Yt=c&&"CompositionEvent"in window,Cr=null;c&&"documentMode"in document&&(Cr=document.documentMode);var dr=c&&"TextEvent"in window&&!Cr,Io=c&&(!Yt||Cr&&8<Cr&&11>=Cr),xa=" ",xv=!1;function Tv(s,o){switch(s){case"keyup":return an.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ta=!1;function TS(s,o){switch(s){case"compositionend":return bv(o);case"keypress":return o.which!==32?null:(xv=!0,xa);case"textInput":return s=o.data,s===xa&&xv?null:s;default:return null}}function bS(s,o){if(Ta)return s==="compositionend"||!Yt&&Tv(s,o)?(s=Ul(),Gn=pa=cr=null,Ta=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Io&&o.locale!=="ko"?null:o.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!CS[s.type]:o==="textarea"}function Sv(s,o,u,f){xr(f),o=nd(o,"onChange"),0<o.length&&(u=new ga("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var Hl=null,Wl=null;function SS(s){Hv(s,0)}function Xc(s){var o=Ra(s);if(pt(o))return s}function AS(s,o){if(s==="change")return o}var Av=!1;if(c){var Yh;if(c){var Zh="oninput"in document;if(!Zh){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),Zh=typeof Rv.oninput=="function"}Yh=Zh}else Yh=!1;Av=Yh&&(!document.documentMode||9<document.documentMode)}function Iv(){Hl&&(Hl.detachEvent("onpropertychange",kv),Wl=Hl=null)}function kv(s){if(s.propertyName==="value"&&Xc(Wl)){var o=[];Sv(o,Wl,s,Ls(s)),hn(SS,o)}}function RS(s,o,u){s==="focusin"?(Iv(),Hl=o,Wl=u,Hl.attachEvent("onpropertychange",kv)):s==="focusout"&&Iv()}function IS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xc(Wl)}function kS(s,o){if(s==="click")return Xc(o)}function PS(s,o){if(s==="input"||s==="change")return Xc(o)}function NS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Hr=typeof Object.is=="function"?Object.is:NS;function ql(s,o){if(Hr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!Hr(s[m],o[m]))return!1}return!0}function Pv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Nv(s,o){var u=Pv(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Pv(u)}}function Ov(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ov(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Dv(){for(var s=window,o=yt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=yt(s.document)}return o}function Xh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function OS(s){var o=Dv(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ov(u.ownerDocument.documentElement,u)){if(f!==null&&Xh(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=Nv(u,_);var R=Nv(u,f);m&&R&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(o),s.extend(R.node,R.offset)):(o.setEnd(R.node,R.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var DS=c&&"documentMode"in document&&11>=document.documentMode,ba=null,Jh=null,Gl=null,ep=!1;function Mv(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ep||ba==null||ba!==yt(f)||(f=ba,"selectionStart"in f&&Xh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Gl&&ql(Gl,f)||(Gl=f,f=nd(Jh,"onSelect"),0<f.length&&(o=new ga("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=ba)))}function Jc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ca={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},tp={},Vv={};c&&(Vv=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function ed(s){if(tp[s])return tp[s];if(!Ca[s])return s;var o=Ca[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Vv)return tp[s]=o[u];return s}var Lv=ed("animationend"),jv=ed("animationiteration"),Fv=ed("animationstart"),Uv=ed("transitionend"),$v=new Map,Bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(s,o){$v.set(s,o),a(o,[s])}for(var np=0;np<Bv.length;np++){var rp=Bv[np],MS=rp.toLowerCase(),VS=rp[0].toUpperCase()+rp.slice(1);xi(MS,"on"+VS)}xi(Lv,"onAnimationEnd"),xi(jv,"onAnimationIteration"),xi(Fv,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Uv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function zv(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,kc(f,o,void 0,s),s.currentTarget=null}function Hv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var R=f.length-1;0<=R;R--){var j=f[R],B=j.instance,X=j.currentTarget;if(j=j.listener,B!==_&&m.isPropagationStopped())break e;zv(m,j,X),_=B}else for(R=0;R<f.length;R++){if(j=f[R],B=j.instance,X=j.currentTarget,j=j.listener,B!==_&&m.isPropagationStopped())break e;zv(m,j,X),_=B}}}if(Vr)throw s=Nl,Vr=!1,Nl=null,s}function At(s,o){var u=o[dp];u===void 0&&(u=o[dp]=new Set);var f=s+"__bubble";u.has(f)||(Wv(o,s,2,!1),u.add(f))}function sp(s,o,u){var f=0;o&&(f|=4),Wv(u,s,f,o)}var td="_reactListening"+Math.random().toString(36).slice(2);function Ql(s){if(!s[td]){s[td]=!0,r.forEach(function(u){u!=="selectionchange"&&(LS.has(u)||sp(u,!1,s),sp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[td]||(o[td]=!0,sp("selectionchange",!1,o))}}function Wv(s,o,u,f){switch(Fl(o)){case 1:var m=Nt;break;case 4:m=Kh;break;default:m=jl}u=m.bind(null,o,u,s),m=void 0,!Wn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function ip(s,o,u,f,m){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var j=f.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(R===4)for(R=f.return;R!==null;){var B=R.tag;if((B===3||B===4)&&(B=R.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;R=R.return}for(;j!==null;){if(R=ko(j),R===null)return;if(B=R.tag,B===5||B===6){f=_=R;continue e}j=j.parentNode}}f=f.return}hn(function(){var X=_,ce=Ls(u),de=[];e:{var ue=$v.get(s);if(ue!==void 0){var Ae=ga,Oe=s;switch(s){case"keypress":if(ma(u)===0)break e;case"keydown":case"keyup":Ae=y;break;case"focusin":Oe="focus",Ae=wa;break;case"focusout":Oe="blur",Ae=wa;break;case"beforeblur":case"afterblur":Ae=wa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=te;break;case Lv:case jv:case Fv:Ae=zs;break;case Uv:Ae=xt;break;case"scroll":Ae=Qh;break;case"wheel":Ae=ut;break;case"copy":case"cut":case"paste":Ae=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=P}var De=(o&4)!==0,Wt=!De&&s==="scroll",Q=De?ue!==null?ue+"Capture":null:ue;De=[];for(var W=X,Y;W!==null;){Y=W;var me=Y.stateNode;if(Y.tag===5&&me!==null&&(Y=me,Q!==null&&(me=_t(W,Q),me!=null&&De.push(Yl(W,me,Y)))),Wt)break;W=W.return}0<De.length&&(ue=new Ae(ue,Oe,null,u,ce),de.push({event:ue,listeners:De}))}}if((o&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",Ae=s==="mouseout"||s==="pointerout",ue&&u!==Vs&&(Oe=u.relatedTarget||u.fromElement)&&(ko(Oe)||Oe[Hs]))break e;if((Ae||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ae?(Oe=u.relatedTarget||u.toElement,Ae=X,Oe=Oe?ko(Oe):null,Oe!==null&&(Wt=Lr(Oe),Oe!==Wt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ae=null,Oe=X),Ae!==Oe)){if(De=va,me="onMouseLeave",Q="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(De=P,me="onPointerLeave",Q="onPointerEnter",W="pointer"),Wt=Ae==null?ue:Ra(Ae),Y=Oe==null?ue:Ra(Oe),ue=new De(me,W+"leave",Ae,u,ce),ue.target=Wt,ue.relatedTarget=Y,me=null,ko(ce)===X&&(De=new De(Q,W+"enter",Oe,u,ce),De.target=Y,De.relatedTarget=Wt,me=De),Wt=me,Ae&&Oe)t:{for(De=Ae,Q=Oe,W=0,Y=De;Y;Y=Sa(Y))W++;for(Y=0,me=Q;me;me=Sa(me))Y++;for(;0<W-Y;)De=Sa(De),W--;for(;0<Y-W;)Q=Sa(Q),Y--;for(;W--;){if(De===Q||Q!==null&&De===Q.alternate)break t;De=Sa(De),Q=Sa(Q)}De=null}else De=null;Ae!==null&&qv(de,ue,Ae,De,!1),Oe!==null&&Wt!==null&&qv(de,Wt,Oe,De,!0)}}e:{if(ue=X?Ra(X):window,Ae=ue.nodeName&&ue.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ue.type==="file")var Me=AS;else if(Cv(ue))if(Av)Me=PS;else{Me=IS;var Ue=RS}else(Ae=ue.nodeName)&&Ae.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Me=kS);if(Me&&(Me=Me(s,X))){Sv(de,Me,u,ce);break e}Ue&&Ue(s,ue,X),s==="focusout"&&(Ue=ue._wrapperState)&&Ue.controlled&&ue.type==="number"&&K(ue,"number",ue.value)}switch(Ue=X?Ra(X):window,s){case"focusin":(Cv(Ue)||Ue.contentEditable==="true")&&(ba=Ue,Jh=X,Gl=null);break;case"focusout":Gl=Jh=ba=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,Mv(de,u,ce);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":Mv(de,u,ce)}var $e;if(Yt)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ta?Tv(s,u)&&(Qe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Qe="onCompositionStart");Qe&&(Io&&u.locale!=="ko"&&(Ta||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ta&&($e=Ul()):(cr=ce,pa="value"in cr?cr.value:cr.textContent,Ta=!0)),Ue=nd(X,Qe),0<Ue.length&&(Qe=new zl(Qe,s,null,u,ce),de.push({event:Qe,listeners:Ue}),$e?Qe.data=$e:($e=bv(u),$e!==null&&(Qe.data=$e)))),($e=dr?TS(s,u):bS(s,u))&&(X=nd(X,"onBeforeInput"),0<X.length&&(ce=new zl("onBeforeInput","beforeinput",null,u,ce),de.push({event:ce,listeners:X}),ce.data=$e))}Hv(de,o)})}function Yl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function nd(s,o){for(var u=o+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=_t(s,u),_!=null&&f.unshift(Yl(s,_,m)),_=_t(s,o),_!=null&&f.push(Yl(s,_,m))),s=s.return}return f}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function qv(s,o,u,f,m){for(var _=o._reactName,R=[];u!==null&&u!==f;){var j=u,B=j.alternate,X=j.stateNode;if(B!==null&&B===f)break;j.tag===5&&X!==null&&(j=X,m?(B=_t(u,_),B!=null&&R.unshift(Yl(u,B,j))):m||(B=_t(u,_),B!=null&&R.push(Yl(u,B,j)))),u=u.return}R.length!==0&&s.push({event:o,listeners:R})}var jS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function Gv(s){return(typeof s=="string"?s:""+s).replace(jS,`
`).replace(FS,"")}function rd(s,o,u){if(o=Gv(o),Gv(s)!==o&&u)throw Error(n(425))}function sd(){}var op=null,ap=null;function lp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var up=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(s){return Kv.resolve(null).then(s).catch(BS)}:up;function BS(s){setTimeout(function(){throw s})}function cp(s,o){var u=o,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),Br(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Br(o)}function Ti(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Qv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),gs="__reactFiber$"+Aa,Zl="__reactProps$"+Aa,Hs="__reactContainer$"+Aa,dp="__reactEvents$"+Aa,zS="__reactListeners$"+Aa,HS="__reactHandles$"+Aa;function ko(s){var o=s[gs];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Hs]||u[gs]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Qv(s);s!==null;){if(u=s[gs])return u;s=Qv(s)}return o}s=u,u=s.parentNode}return null}function Xl(s){return s=s[gs]||s[Hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ra(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function id(s){return s[Zl]||null}var fp=[],Ia=-1;function bi(s){return{current:s}}function Rt(s){0>Ia||(s.current=fp[Ia],fp[Ia]=null,Ia--)}function St(s,o){Ia++,fp[Ia]=s.current,s.current=o}var Ci={},Tn=bi(Ci),Kn=bi(!1),Po=Ci;function ka(s,o){var u=s.type.contextTypes;if(!u)return Ci;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=o[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function Qn(s){return s=s.childContextTypes,s!=null}function od(){Rt(Kn),Rt(Tn)}function Yv(s,o,u){if(Tn.current!==Ci)throw Error(n(168));St(Tn,o),St(Kn,u)}function Zv(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,Se(s)||"Unknown",m));return ae({},u,f)}function ad(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ci,Po=Tn.current,St(Tn,s),St(Kn,Kn.current),!0}function Xv(s,o,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=Zv(s,o,Po),f.__reactInternalMemoizedMergedChildContext=s,Rt(Kn),Rt(Tn),St(Tn,s)):Rt(Kn),St(Kn,u)}var Ws=null,ld=!1,hp=!1;function Jv(s){Ws===null?Ws=[s]:Ws.push(s)}function WS(s){ld=!0,Jv(s)}function Si(){if(!hp&&Ws!==null){hp=!0;var s=0,o=at;try{var u=Ws;for(at=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Ws=null,ld=!1}catch(m){throw Ws!==null&&(Ws=Ws.slice(s+1)),ua(xo,Si),m}finally{at=o,hp=!1}}return null}var Pa=[],Na=0,ud=null,cd=0,Sr=[],Ar=0,No=null,qs=1,Gs="";function Oo(s,o){Pa[Na++]=cd,Pa[Na++]=ud,ud=s,cd=o}function e_(s,o,u){Sr[Ar++]=qs,Sr[Ar++]=Gs,Sr[Ar++]=No,No=s;var f=qs;s=Gs;var m=32-Dn(f)-1;f&=~(1<<m),u+=1;var _=32-Dn(o)+m;if(30<_){var R=m-m%5;_=(f&(1<<R)-1).toString(32),f>>=R,m-=R,qs=1<<32-Dn(o)+m|u<<m|f,Gs=_+s}else qs=1<<_|u<<m|f,Gs=s}function pp(s){s.return!==null&&(Oo(s,1),e_(s,1,0))}function mp(s){for(;s===ud;)ud=Pa[--Na],Pa[Na]=null,cd=Pa[--Na],Pa[Na]=null;for(;s===No;)No=Sr[--Ar],Sr[Ar]=null,Gs=Sr[--Ar],Sr[Ar]=null,qs=Sr[--Ar],Sr[Ar]=null}var fr=null,hr=null,Ot=!1,Wr=null;function t_(s,o){var u=Pr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function n_(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,fr=s,hr=Ti(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,fr=s,hr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=No!==null?{id:qs,overflow:Gs}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Pr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,fr=s,hr=null,!0):!1;default:return!1}}function gp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function yp(s){if(Ot){var o=hr;if(o){var u=o;if(!n_(s,o)){if(gp(s))throw Error(n(418));o=Ti(u.nextSibling);var f=fr;o&&n_(s,o)?t_(f,u):(s.flags=s.flags&-4097|2,Ot=!1,fr=s)}}else{if(gp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ot=!1,fr=s}}}function r_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;fr=s}function dd(s){if(s!==fr)return!1;if(!Ot)return r_(s),Ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!lp(s.type,s.memoizedProps)),o&&(o=hr)){if(gp(s))throw s_(),Error(n(418));for(;o;)t_(s,o),o=Ti(o.nextSibling)}if(r_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){hr=Ti(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}hr=null}}else hr=fr?Ti(s.stateNode.nextSibling):null;return!0}function s_(){for(var s=hr;s;)s=Ti(s.nextSibling)}function Oa(){hr=fr=null,Ot=!1}function vp(s){Wr===null?Wr=[s]:Wr.push(s)}var qS=z.ReactCurrentBatchConfig;function Jl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var m=f,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(R){var j=m.refs;R===null?delete j[_]:j[_]=R},o._stringRef=_,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function fd(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function i_(s){var o=s._init;return o(s._payload)}function o_(s){function o(Q,W){if(s){var Y=Q.deletions;Y===null?(Q.deletions=[W],Q.flags|=16):Y.push(W)}}function u(Q,W){if(!s)return null;for(;W!==null;)o(Q,W),W=W.sibling;return null}function f(Q,W){for(Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function m(Q,W){return Q=Di(Q,W),Q.index=0,Q.sibling=null,Q}function _(Q,W,Y){return Q.index=Y,s?(Y=Q.alternate,Y!==null?(Y=Y.index,Y<W?(Q.flags|=2,W):Y):(Q.flags|=2,W)):(Q.flags|=1048576,W)}function R(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function j(Q,W,Y,me){return W===null||W.tag!==6?(W=um(Y,Q.mode,me),W.return=Q,W):(W=m(W,Y),W.return=Q,W)}function B(Q,W,Y,me){var Me=Y.type;return Me===O?ce(Q,W,Y.props.children,me,Y.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Ce&&i_(Me)===W.type)?(me=m(W,Y.props),me.ref=Jl(Q,W,Y),me.return=Q,me):(me=Vd(Y.type,Y.key,Y.props,null,Q.mode,me),me.ref=Jl(Q,W,Y),me.return=Q,me)}function X(Q,W,Y,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=cm(Y,Q.mode,me),W.return=Q,W):(W=m(W,Y.children||[]),W.return=Q,W)}function ce(Q,W,Y,me,Me){return W===null||W.tag!==7?(W=$o(Y,Q.mode,me,Me),W.return=Q,W):(W=m(W,Y),W.return=Q,W)}function de(Q,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=um(""+W,Q.mode,Y),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case q:return Y=Vd(W.type,W.key,W.props,null,Q.mode,Y),Y.ref=Jl(Q,null,W),Y.return=Q,Y;case J:return W=cm(W,Q.mode,Y),W.return=Q,W;case Ce:var me=W._init;return de(Q,me(W._payload),Y)}if(ee(W)||ne(W))return W=$o(W,Q.mode,Y,null),W.return=Q,W;fd(Q,W)}return null}function ue(Q,W,Y,me){var Me=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Me!==null?null:j(Q,W,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return Y.key===Me?B(Q,W,Y,me):null;case J:return Y.key===Me?X(Q,W,Y,me):null;case Ce:return Me=Y._init,ue(Q,W,Me(Y._payload),me)}if(ee(Y)||ne(Y))return Me!==null?null:ce(Q,W,Y,me,null);fd(Q,Y)}return null}function Ae(Q,W,Y,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number")return Q=Q.get(Y)||null,j(W,Q,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case q:return Q=Q.get(me.key===null?Y:me.key)||null,B(W,Q,me,Me);case J:return Q=Q.get(me.key===null?Y:me.key)||null,X(W,Q,me,Me);case Ce:var Ue=me._init;return Ae(Q,W,Y,Ue(me._payload),Me)}if(ee(me)||ne(me))return Q=Q.get(Y)||null,ce(W,Q,me,Me,null);fd(W,me)}return null}function Oe(Q,W,Y,me){for(var Me=null,Ue=null,$e=W,Qe=W=0,cn=null;$e!==null&&Qe<Y.length;Qe++){$e.index>Qe?(cn=$e,$e=null):cn=$e.sibling;var gt=ue(Q,$e,Y[Qe],me);if(gt===null){$e===null&&($e=cn);break}s&&$e&&gt.alternate===null&&o(Q,$e),W=_(gt,W,Qe),Ue===null?Me=gt:Ue.sibling=gt,Ue=gt,$e=cn}if(Qe===Y.length)return u(Q,$e),Ot&&Oo(Q,Qe),Me;if($e===null){for(;Qe<Y.length;Qe++)$e=de(Q,Y[Qe],me),$e!==null&&(W=_($e,W,Qe),Ue===null?Me=$e:Ue.sibling=$e,Ue=$e);return Ot&&Oo(Q,Qe),Me}for($e=f(Q,$e);Qe<Y.length;Qe++)cn=Ae($e,Q,Qe,Y[Qe],me),cn!==null&&(s&&cn.alternate!==null&&$e.delete(cn.key===null?Qe:cn.key),W=_(cn,W,Qe),Ue===null?Me=cn:Ue.sibling=cn,Ue=cn);return s&&$e.forEach(function(Mi){return o(Q,Mi)}),Ot&&Oo(Q,Qe),Me}function De(Q,W,Y,me){var Me=ne(Y);if(typeof Me!="function")throw Error(n(150));if(Y=Me.call(Y),Y==null)throw Error(n(151));for(var Ue=Me=null,$e=W,Qe=W=0,cn=null,gt=Y.next();$e!==null&&!gt.done;Qe++,gt=Y.next()){$e.index>Qe?(cn=$e,$e=null):cn=$e.sibling;var Mi=ue(Q,$e,gt.value,me);if(Mi===null){$e===null&&($e=cn);break}s&&$e&&Mi.alternate===null&&o(Q,$e),W=_(Mi,W,Qe),Ue===null?Me=Mi:Ue.sibling=Mi,Ue=Mi,$e=cn}if(gt.done)return u(Q,$e),Ot&&Oo(Q,Qe),Me;if($e===null){for(;!gt.done;Qe++,gt=Y.next())gt=de(Q,gt.value,me),gt!==null&&(W=_(gt,W,Qe),Ue===null?Me=gt:Ue.sibling=gt,Ue=gt);return Ot&&Oo(Q,Qe),Me}for($e=f(Q,$e);!gt.done;Qe++,gt=Y.next())gt=Ae($e,Q,Qe,gt.value,me),gt!==null&&(s&&gt.alternate!==null&&$e.delete(gt.key===null?Qe:gt.key),W=_(gt,W,Qe),Ue===null?Me=gt:Ue.sibling=gt,Ue=gt);return s&&$e.forEach(function(CA){return o(Q,CA)}),Ot&&Oo(Q,Qe),Me}function Wt(Q,W,Y,me){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:e:{for(var Me=Y.key,Ue=W;Ue!==null;){if(Ue.key===Me){if(Me=Y.type,Me===O){if(Ue.tag===7){u(Q,Ue.sibling),W=m(Ue,Y.props.children),W.return=Q,Q=W;break e}}else if(Ue.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Ce&&i_(Me)===Ue.type){u(Q,Ue.sibling),W=m(Ue,Y.props),W.ref=Jl(Q,Ue,Y),W.return=Q,Q=W;break e}u(Q,Ue);break}else o(Q,Ue);Ue=Ue.sibling}Y.type===O?(W=$o(Y.props.children,Q.mode,me,Y.key),W.return=Q,Q=W):(me=Vd(Y.type,Y.key,Y.props,null,Q.mode,me),me.ref=Jl(Q,W,Y),me.return=Q,Q=me)}return R(Q);case J:e:{for(Ue=Y.key;W!==null;){if(W.key===Ue)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){u(Q,W.sibling),W=m(W,Y.children||[]),W.return=Q,Q=W;break e}else{u(Q,W);break}else o(Q,W);W=W.sibling}W=cm(Y,Q.mode,me),W.return=Q,Q=W}return R(Q);case Ce:return Ue=Y._init,Wt(Q,W,Ue(Y._payload),me)}if(ee(Y))return Oe(Q,W,Y,me);if(ne(Y))return De(Q,W,Y,me);fd(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(u(Q,W.sibling),W=m(W,Y),W.return=Q,Q=W):(u(Q,W),W=um(Y,Q.mode,me),W.return=Q,Q=W),R(Q)):u(Q,W)}return Wt}var Da=o_(!0),a_=o_(!1),hd=bi(null),pd=null,Ma=null,_p=null;function wp(){_p=Ma=pd=null}function Ep(s){var o=hd.current;Rt(hd),s._currentValue=o}function xp(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Va(s,o){pd=s,_p=Ma=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Yn=!0),s.firstContext=null)}function Rr(s){var o=s._currentValue;if(_p!==s)if(s={context:s,memoizedValue:o,next:null},Ma===null){if(pd===null)throw Error(n(308));Ma=s,pd.dependencies={lanes:0,firstContext:s}}else Ma=Ma.next=s;return o}var Do=null;function Tp(s){Do===null?Do=[s]:Do.push(s)}function l_(s,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Tp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Ks(s,f)}function Ks(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ai=!1;function bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u_(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Ks(s,u)}return m=f.interleaved,m===null?(o.next=o,Tp(f)):(o.next=m.next,m.next=o),f.interleaved=o,Ks(s,u)}function md(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,yi(s,u)}}function c_(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=R:_=_.next=R,u=u.next}while(u!==null);_===null?m=_=o:_=_.next=o}else m=_=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function gd(s,o,u,f){var m=s.updateQueue;Ai=!1;var _=m.firstBaseUpdate,R=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var B=j,X=B.next;B.next=null,R===null?_=X:R.next=X,R=B;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==R&&(j===null?ce.firstBaseUpdate=X:j.next=X,ce.lastBaseUpdate=B))}if(_!==null){var de=m.baseState;R=0,ce=X=B=null,j=_;do{var ue=j.lane,Ae=j.eventTime;if((f&ue)===ue){ce!==null&&(ce=ce.next={eventTime:Ae,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Oe=s,De=j;switch(ue=o,Ae=u,De.tag){case 1:if(Oe=De.payload,typeof Oe=="function"){de=Oe.call(Ae,de,ue);break e}de=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=De.payload,ue=typeof Oe=="function"?Oe.call(Ae,de,ue):Oe,ue==null)break e;de=ae({},de,ue);break e;case 2:Ai=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,ue=m.effects,ue===null?m.effects=[j]:ue.push(j))}else Ae={eventTime:Ae,lane:ue,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(X=ce=Ae,B=de):ce=ce.next=Ae,R|=ue;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;ue=j,j=ue.next,ue.next=null,m.lastBaseUpdate=ue,m.shared.pending=null}}while(!0);if(ce===null&&(B=de),m.baseState=B,m.firstBaseUpdate=X,m.lastBaseUpdate=ce,o=m.shared.interleaved,o!==null){m=o;do R|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);Lo|=R,s.lanes=R,s.memoizedState=de}}function d_(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var eu={},ys=bi(eu),tu=bi(eu),nu=bi(eu);function Mo(s){if(s===eu)throw Error(n(174));return s}function Cp(s,o){switch(St(nu,o),St(tu,s),St(ys,eu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ye(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ye(o,s)}Rt(ys),St(ys,o)}function La(){Rt(ys),Rt(tu),Rt(nu)}function f_(s){Mo(nu.current);var o=Mo(ys.current),u=Ye(o,s.type);o!==u&&(St(tu,s),St(ys,u))}function Sp(s){tu.current===s&&(Rt(ys),Rt(tu))}var Vt=bi(0);function yd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ap=[];function Rp(){for(var s=0;s<Ap.length;s++)Ap[s]._workInProgressVersionPrimary=null;Ap.length=0}var vd=z.ReactCurrentDispatcher,Ip=z.ReactCurrentBatchConfig,Vo=0,Lt=null,tn=null,ln=null,_d=!1,ru=!1,su=0,GS=0;function bn(){throw Error(n(321))}function kp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Hr(s[u],o[u]))return!1;return!0}function Pp(s,o,u,f,m,_){if(Vo=_,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vd.current=s===null||s.memoizedState===null?ZS:XS,s=u(f,m),ru){_=0;do{if(ru=!1,su=0,25<=_)throw Error(n(301));_+=1,ln=tn=null,o.updateQueue=null,vd.current=JS,s=u(f,m)}while(ru)}if(vd.current=xd,o=tn!==null&&tn.next!==null,Vo=0,ln=tn=Lt=null,_d=!1,o)throw Error(n(300));return s}function Np(){var s=su!==0;return su=0,s}function vs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Lt.memoizedState=ln=s:ln=ln.next=s,ln}function Ir(){if(tn===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=tn.next;var o=ln===null?Lt.memoizedState:ln.next;if(o!==null)ln=o,tn=s;else{if(s===null)throw Error(n(310));tn=s,s={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},ln===null?Lt.memoizedState=ln=s:ln=ln.next=s}return ln}function iu(s,o){return typeof o=="function"?o(s):o}function Op(s){var o=Ir(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=tn,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var R=m.next;m.next=_.next,_.next=R}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var j=R=null,B=null,X=_;do{var ce=X.lane;if((Vo&ce)===ce)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:s(f,X.action);else{var de={lane:ce,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(j=B=de,R=f):B=B.next=de,Lt.lanes|=ce,Lo|=ce}X=X.next}while(X!==null&&X!==_);B===null?R=f:B.next=j,Hr(f,o.memoizedState)||(Yn=!0),o.memoizedState=f,o.baseState=R,o.baseQueue=B,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do _=m.lane,Lt.lanes|=_,Lo|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Dp(s){var o=Ir(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,_=o.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do _=s(_,R.action),R=R.next;while(R!==m);Hr(_,o.memoizedState)||(Yn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function h_(){}function p_(s,o){var u=Lt,f=Ir(),m=o(),_=!Hr(f.memoizedState,m);if(_&&(f.memoizedState=m,Yn=!0),f=f.queue,Mp(y_.bind(null,u,f,s),[s]),f.getSnapshot!==o||_||ln!==null&&ln.memoizedState.tag&1){if(u.flags|=2048,ou(9,g_.bind(null,u,f,m,o),void 0,null),un===null)throw Error(n(349));(Vo&30)!==0||m_(u,o,m)}return m}function m_(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function g_(s,o,u,f){o.value=u,o.getSnapshot=f,v_(o)&&__(s)}function y_(s,o,u){return u(function(){v_(o)&&__(s)})}function v_(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Hr(s,u)}catch{return!0}}function __(s){var o=Ks(s,1);o!==null&&Qr(o,s,1,-1)}function w_(s){var o=vs();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:s},o.queue=s,s=s.dispatch=YS.bind(null,Lt,s),[o.memoizedState,s]}function ou(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function E_(){return Ir().memoizedState}function wd(s,o,u,f){var m=vs();Lt.flags|=s,m.memoizedState=ou(1|o,u,void 0,f===void 0?null:f)}function Ed(s,o,u,f){var m=Ir();f=f===void 0?null:f;var _=void 0;if(tn!==null){var R=tn.memoizedState;if(_=R.destroy,f!==null&&kp(f,R.deps)){m.memoizedState=ou(o,u,_,f);return}}Lt.flags|=s,m.memoizedState=ou(1|o,u,_,f)}function x_(s,o){return wd(8390656,8,s,o)}function Mp(s,o){return Ed(2048,8,s,o)}function T_(s,o){return Ed(4,2,s,o)}function b_(s,o){return Ed(4,4,s,o)}function C_(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function S_(s,o,u){return u=u!=null?u.concat([s]):null,Ed(4,4,C_.bind(null,o,s),u)}function Vp(){}function A_(s,o){var u=Ir();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&kp(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function R_(s,o){var u=Ir();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&kp(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function I_(s,o,u){return(Vo&21)===0?(s.baseState&&(s.baseState=!1,Yn=!0),s.memoizedState=u):(Hr(u,o)||(u=Co(),Lt.lanes|=u,Lo|=u,s.baseState=!0),o)}function KS(s,o){var u=at;at=u!==0&&4>u?u:4,s(!0);var f=Ip.transition;Ip.transition={};try{s(!1),o()}finally{at=u,Ip.transition=f}}function k_(){return Ir().memoizedState}function QS(s,o,u){var f=Ni(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},P_(s))N_(o,u);else if(u=l_(s,o,u,f),u!==null){var m=Ln();Qr(u,s,f,m),O_(u,o,f)}}function YS(s,o,u){var f=Ni(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(P_(s))N_(o,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var R=o.lastRenderedState,j=_(R,u);if(m.hasEagerState=!0,m.eagerState=j,Hr(j,R)){var B=o.interleaved;B===null?(m.next=m,Tp(o)):(m.next=B.next,B.next=m),o.interleaved=m;return}}catch{}finally{}u=l_(s,o,m,f),u!==null&&(m=Ln(),Qr(u,s,f,m),O_(u,o,f))}}function P_(s){var o=s.alternate;return s===Lt||o!==null&&o===Lt}function N_(s,o){ru=_d=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function O_(s,o,u){if((u&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,yi(s,u)}}var xd={readContext:Rr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},ZS={readContext:Rr,useCallback:function(s,o){return vs().memoizedState=[s,o===void 0?null:o],s},useContext:Rr,useEffect:x_,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,wd(4194308,4,C_.bind(null,o,s),u)},useLayoutEffect:function(s,o){return wd(4194308,4,s,o)},useInsertionEffect:function(s,o){return wd(4,2,s,o)},useMemo:function(s,o){var u=vs();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=vs();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=QS.bind(null,Lt,s),[f.memoizedState,s]},useRef:function(s){var o=vs();return s={current:s},o.memoizedState=s},useState:w_,useDebugValue:Vp,useDeferredValue:function(s){return vs().memoizedState=s},useTransition:function(){var s=w_(!1),o=s[0];return s=KS.bind(null,s[1]),vs().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=Lt,m=vs();if(Ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),un===null)throw Error(n(349));(Vo&30)!==0||m_(f,o,u)}m.memoizedState=u;var _={value:u,getSnapshot:o};return m.queue=_,x_(y_.bind(null,f,_,s),[s]),f.flags|=2048,ou(9,g_.bind(null,f,_,u,o),void 0,null),u},useId:function(){var s=vs(),o=un.identifierPrefix;if(Ot){var u=Gs,f=qs;u=(f&~(1<<32-Dn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=su++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=GS++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},XS={readContext:Rr,useCallback:A_,useContext:Rr,useEffect:Mp,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:R_,useReducer:Op,useRef:E_,useState:function(){return Op(iu)},useDebugValue:Vp,useDeferredValue:function(s){var o=Ir();return I_(o,tn.memoizedState,s)},useTransition:function(){var s=Op(iu)[0],o=Ir().memoizedState;return[s,o]},useMutableSource:h_,useSyncExternalStore:p_,useId:k_,unstable_isNewReconciler:!1},JS={readContext:Rr,useCallback:A_,useContext:Rr,useEffect:Mp,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:R_,useReducer:Dp,useRef:E_,useState:function(){return Dp(iu)},useDebugValue:Vp,useDeferredValue:function(s){var o=Ir();return tn===null?o.memoizedState=s:I_(o,tn.memoizedState,s)},useTransition:function(){var s=Dp(iu)[0],o=Ir().memoizedState;return[s,o]},useMutableSource:h_,useSyncExternalStore:p_,useId:k_,unstable_isNewReconciler:!1};function qr(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Lp(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:ae({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Td={isMounted:function(s){return(s=s._reactInternals)?Lr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=Ln(),m=Ni(s),_=Qs(f,m);_.payload=o,u!=null&&(_.callback=u),o=Ri(s,_,m),o!==null&&(Qr(o,s,m,f),md(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=Ln(),m=Ni(s),_=Qs(f,m);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ri(s,_,m),o!==null&&(Qr(o,s,m,f),md(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Ln(),f=Ni(s),m=Qs(u,f);m.tag=2,o!=null&&(m.callback=o),o=Ri(s,m,f),o!==null&&(Qr(o,s,f,u),md(o,s,f))}};function D_(s,o,u,f,m,_,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,R):o.prototype&&o.prototype.isPureReactComponent?!ql(u,f)||!ql(m,_):!0}function M_(s,o,u){var f=!1,m=Ci,_=o.contextType;return typeof _=="object"&&_!==null?_=Rr(_):(m=Qn(o)?Po:Tn.current,f=o.contextTypes,_=(f=f!=null)?ka(s,m):Ci),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Td,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),o}function V_(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&Td.enqueueReplaceState(o,o.state,null)}function jp(s,o,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},bp(s);var _=o.contextType;typeof _=="object"&&_!==null?m.context=Rr(_):(_=Qn(o)?Po:Tn.current,m.context=ka(s,_)),m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Lp(s,o,_,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Td.enqueueReplaceState(m,m.state,null),gd(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ja(s,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:m,digest:null}}function Fp(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Up(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var eA=typeof WeakMap=="function"?WeakMap:Map;function L_(s,o,u){u=Qs(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){kd||(kd=!0,tm=f),Up(s,o)},u}function j_(s,o,u){u=Qs(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Up(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Up(s,o),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})}),u}function F_(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new eA;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),s=pA.bind(null,s,o,u),o.then(s,s))}function U_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function $_(s,o,u,f,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Qs(-1,1),o.tag=2,Ri(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var tA=z.ReactCurrentOwner,Yn=!1;function Vn(s,o,u,f){o.child=s===null?a_(o,null,u,f):Da(o,s.child,u,f)}function B_(s,o,u,f,m){u=u.render;var _=o.ref;return Va(o,m),f=Pp(s,o,u,f,_,m),u=Np(),s!==null&&!Yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ys(s,o,m)):(Ot&&u&&pp(o),o.flags|=1,Vn(s,o,f,m),o.child)}function z_(s,o,u,f,m){if(s===null){var _=u.type;return typeof _=="function"&&!lm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,H_(s,o,_,f,m)):(s=Vd(u.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&m)===0){var R=_.memoizedProps;if(u=u.compare,u=u!==null?u:ql,u(R,f)&&s.ref===o.ref)return Ys(s,o,m)}return o.flags|=1,s=Di(_,f),s.ref=o.ref,s.return=o,o.child=s}function H_(s,o,u,f,m){if(s!==null){var _=s.memoizedProps;if(ql(_,f)&&s.ref===o.ref)if(Yn=!1,o.pendingProps=f=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Yn=!0);else return o.lanes=s.lanes,Ys(s,o,m)}return $p(s,o,u,f,m)}function W_(s,o,u){var f=o.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Ua,pr),pr|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,St(Ua,pr),pr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,St(Ua,pr),pr|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,St(Ua,pr),pr|=f;return Vn(s,o,m,u),o.child}function q_(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function $p(s,o,u,f,m){var _=Qn(u)?Po:Tn.current;return _=ka(o,_),Va(o,m),u=Pp(s,o,u,f,_,m),f=Np(),s!==null&&!Yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ys(s,o,m)):(Ot&&f&&pp(o),o.flags|=1,Vn(s,o,u,m),o.child)}function G_(s,o,u,f,m){if(Qn(u)){var _=!0;ad(o)}else _=!1;if(Va(o,m),o.stateNode===null)Cd(s,o),M_(o,u,f),jp(o,u,f,m),f=!0;else if(s===null){var R=o.stateNode,j=o.memoizedProps;R.props=j;var B=R.context,X=u.contextType;typeof X=="object"&&X!==null?X=Rr(X):(X=Qn(u)?Po:Tn.current,X=ka(o,X));var ce=u.getDerivedStateFromProps,de=typeof ce=="function"||typeof R.getSnapshotBeforeUpdate=="function";de||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==f||B!==X)&&V_(o,R,f,X),Ai=!1;var ue=o.memoizedState;R.state=ue,gd(o,f,R,m),B=o.memoizedState,j!==f||ue!==B||Kn.current||Ai?(typeof ce=="function"&&(Lp(o,u,ce,f),B=o.memoizedState),(j=Ai||D_(o,u,j,f,ue,B,X))?(de||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(o.flags|=4194308)):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),R.props=f,R.state=B,R.context=X,f=j):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{R=o.stateNode,u_(s,o),j=o.memoizedProps,X=o.type===o.elementType?j:qr(o.type,j),R.props=X,de=o.pendingProps,ue=R.context,B=u.contextType,typeof B=="object"&&B!==null?B=Rr(B):(B=Qn(u)?Po:Tn.current,B=ka(o,B));var Ae=u.getDerivedStateFromProps;(ce=typeof Ae=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==de||ue!==B)&&V_(o,R,f,B),Ai=!1,ue=o.memoizedState,R.state=ue,gd(o,f,R,m);var Oe=o.memoizedState;j!==de||ue!==Oe||Kn.current||Ai?(typeof Ae=="function"&&(Lp(o,u,Ae,f),Oe=o.memoizedState),(X=Ai||D_(o,u,X,f,ue,Oe,B)||!1)?(ce||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,Oe,B),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,Oe,B)),typeof R.componentDidUpdate=="function"&&(o.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof R.componentDidUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Oe),R.props=f,R.state=Oe,R.context=B,f=X):(typeof R.componentDidUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),f=!1)}return Bp(s,o,u,f,_,m)}function Bp(s,o,u,f,m,_){q_(s,o);var R=(o.flags&128)!==0;if(!f&&!R)return m&&Xv(o,u,!1),Ys(s,o,_);f=o.stateNode,tA.current=o;var j=R&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&R?(o.child=Da(o,s.child,null,_),o.child=Da(o,null,j,_)):Vn(s,o,j,_),o.memoizedState=f.state,m&&Xv(o,u,!0),o.child}function K_(s){var o=s.stateNode;o.pendingContext?Yv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Yv(s,o.context,!1),Cp(s,o.containerInfo)}function Q_(s,o,u,f,m){return Oa(),vp(m),o.flags|=256,Vn(s,o,u,f),o.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Y_(s,o,u){var f=o.pendingProps,m=Vt.current,_=!1,R=(o.flags&128)!==0,j;if((j=R)||(j=s!==null&&s.memoizedState===null?!1:(m&2)!==0),j?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),St(Vt,m&1),s===null)return yp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(R=f.children,s=f.fallback,_?(f=o.mode,_=o.child,R={mode:"hidden",children:R},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=R):_=Ld(R,f,0,null),s=$o(s,f,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Hp(u),o.memoizedState=zp,s):Wp(o,R));if(m=s.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return nA(s,o,R,f,j,m,u);if(_){_=f.fallback,R=o.mode,m=s.child,j=m.sibling;var B={mode:"hidden",children:f.children};return(R&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=Di(m,B),f.subtreeFlags=m.subtreeFlags&14680064),j!==null?_=Di(j,_):(_=$o(_,R,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,R=s.child.memoizedState,R=R===null?Hp(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=s.childLanes&~u,o.memoizedState=zp,f}return _=s.child,s=_.sibling,f=Di(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function Wp(s,o){return o=Ld({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function bd(s,o,u,f){return f!==null&&vp(f),Da(o,s.child,null,u),s=Wp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function nA(s,o,u,f,m,_,R){if(u)return o.flags&256?(o.flags&=-257,f=Fp(Error(n(422))),bd(s,o,R,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=f.fallback,m=o.mode,f=Ld({mode:"visible",children:f.children},m,0,null),_=$o(_,m,R,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Da(o,s.child,null,R),o.child.memoizedState=Hp(R),o.memoizedState=zp,_);if((o.mode&1)===0)return bd(s,o,R,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var j=f.dgst;return f=j,_=Error(n(419)),f=Fp(_,f,void 0),bd(s,o,R,f)}if(j=(R&s.childLanes)!==0,Yn||j){if(f=un,f!==null){switch(R&-R){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|R))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Ks(s,m),Qr(f,s,m,-1))}return am(),f=Fp(Error(n(421))),bd(s,o,R,f)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=mA.bind(null,s),m._reactRetry=o,null):(s=_.treeContext,hr=Ti(m.nextSibling),fr=o,Ot=!0,Wr=null,s!==null&&(Sr[Ar++]=qs,Sr[Ar++]=Gs,Sr[Ar++]=No,qs=s.id,Gs=s.overflow,No=o),o=Wp(o,f.children),o.flags|=4096,o)}function Z_(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),xp(s.return,o,u)}function qp(s,o,u,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function X_(s,o,u){var f=o.pendingProps,m=f.revealOrder,_=f.tail;if(Vn(s,o,f.children,u),f=Vt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Z_(s,u,o);else if(s.tag===19)Z_(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(St(Vt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&yd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),qp(o,!1,m,u,_);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&yd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}qp(o,!0,u,null,_);break;case"together":qp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Cd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ys(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Lo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Di(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Di(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function rA(s,o,u){switch(o.tag){case 3:K_(o),Oa();break;case 5:f_(o);break;case 1:Qn(o.type)&&ad(o);break;case 4:Cp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;St(hd,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(St(Vt,Vt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Y_(s,o,u):(St(Vt,Vt.current&1),s=Ys(s,o,u),s!==null?s.sibling:null);St(Vt,Vt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(s.flags&128)!==0){if(f)return X_(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),St(Vt,Vt.current),f)break;return null;case 22:case 23:return o.lanes=0,W_(s,o,u)}return Ys(s,o,u)}var J_,Gp,e0,t0;J_=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Gp=function(){},e0=function(s,o,u,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,Mo(ys.current);var _=null;switch(u){case"input":m=zt(s,m),f=zt(s,f),_=[];break;case"select":m=ae({},m,{value:void 0}),f=ae({},f,{value:void 0}),_=[];break;case"textarea":m=pe(s,m),f=pe(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=sd)}Er(u,f);var R;u=null;for(X in m)if(!f.hasOwnProperty(X)&&m.hasOwnProperty(X)&&m[X]!=null)if(X==="style"){var j=m[X];for(R in j)j.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in f){var B=f[X];if(j=m!=null?m[X]:void 0,f.hasOwnProperty(X)&&B!==j&&(B!=null||j!=null))if(X==="style")if(j){for(R in j)!j.hasOwnProperty(R)||B&&B.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in B)B.hasOwnProperty(R)&&j[R]!==B[R]&&(u||(u={}),u[R]=B[R])}else u||(_||(_=[]),_.push(X,u)),u=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,j=j?j.__html:void 0,B!=null&&j!==B&&(_=_||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(_=_||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&At("scroll",s),_||j===B||(_=[])):(_=_||[]).push(X,B))}u&&(_=_||[]).push("style",u);var X=_;(o.updateQueue=X)&&(o.flags|=4)}},t0=function(s,o,u,f){u!==f&&(o.flags|=4)};function au(s,o){if(!Ot)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Cn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function sA(s,o,u){var f=o.pendingProps;switch(mp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(o),null;case 1:return Qn(o.type)&&od(),Cn(o),null;case 3:return f=o.stateNode,La(),Rt(Kn),Rt(Tn),Rp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(dd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Wr!==null&&(sm(Wr),Wr=null))),Gp(s,o),Cn(o),null;case 5:Sp(o);var m=Mo(nu.current);if(u=o.type,s!==null&&o.stateNode!=null)e0(s,o,u,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Cn(o),null}if(s=Mo(ys.current),dd(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[gs]=o,f[Zl]=_,s=(o.mode&1)!==0,u){case"dialog":At("cancel",f),At("close",f);break;case"iframe":case"object":case"embed":At("load",f);break;case"video":case"audio":for(m=0;m<Kl.length;m++)At(Kl[m],f);break;case"source":At("error",f);break;case"img":case"image":case"link":At("error",f),At("load",f);break;case"details":At("toggle",f);break;case"input":$t(f,_),At("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},At("invalid",f);break;case"textarea":le(f,_),At("invalid",f)}Er(u,_),m=null;for(var R in _)if(_.hasOwnProperty(R)){var j=_[R];R==="children"?typeof j=="string"?f.textContent!==j&&(_.suppressHydrationWarning!==!0&&rd(f.textContent,j,s),m=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&rd(f.textContent,j,s),m=["children",""+j]):i.hasOwnProperty(R)&&j!=null&&R==="onScroll"&&At("scroll",f)}switch(u){case"input":ht(f),$(f,_,!0);break;case"textarea":ht(f),qe(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=sd)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{R=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ze(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=R.createElement(u,{is:f.is}):(s=R.createElement(u),u==="select"&&(R=s,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):s=R.createElementNS(s,u),s[gs]=o,s[Zl]=f,J_(s,o,!1,!1),o.stateNode=s;e:{switch(R=_o(u,f),u){case"dialog":At("cancel",s),At("close",s),m=f;break;case"iframe":case"object":case"embed":At("load",s),m=f;break;case"video":case"audio":for(m=0;m<Kl.length;m++)At(Kl[m],s);m=f;break;case"source":At("error",s),m=f;break;case"img":case"image":case"link":At("error",s),At("load",s),m=f;break;case"details":At("toggle",s),m=f;break;case"input":$t(s,f),m=zt(s,f),At("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=ae({},f,{value:void 0}),At("invalid",s);break;case"textarea":le(s,f),m=pe(s,f),At("invalid",s);break;default:m=f}Er(u,m),j=m;for(_ in j)if(j.hasOwnProperty(_)){var B=j[_];_==="style"?Bn(s,B):_==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ms(s,B)):_==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&fn(s,B):typeof B=="number"&&fn(s,""+B):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?B!=null&&_==="onScroll"&&At("scroll",s):B!=null&&F(s,_,B,R))}switch(u){case"input":ht(s),$(s,f,!1);break;case"textarea":ht(s),qe(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Be(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?ye(s,!!f.multiple,_,!1):f.defaultValue!=null&&ye(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=sd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Cn(o),null;case 6:if(s&&o.stateNode!=null)t0(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Mo(nu.current),Mo(ys.current),dd(o)){if(f=o.stateNode,u=o.memoizedProps,f[gs]=o,(_=f.nodeValue!==u)&&(s=fr,s!==null))switch(s.tag){case 3:rd(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&rd(f.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[gs]=o,o.stateNode=f}return Cn(o),null;case 13:if(Rt(Vt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ot&&hr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)s_(),Oa(),o.flags|=98560,_=!1;else if(_=dd(o),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[gs]=o}else Oa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cn(o),_=!1}else Wr!==null&&(sm(Wr),Wr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Vt.current&1)!==0?nn===0&&(nn=3):am())),o.updateQueue!==null&&(o.flags|=4),Cn(o),null);case 4:return La(),Gp(s,o),s===null&&Ql(o.stateNode.containerInfo),Cn(o),null;case 10:return Ep(o.type._context),Cn(o),null;case 17:return Qn(o.type)&&od(),Cn(o),null;case 19:if(Rt(Vt),_=o.memoizedState,_===null)return Cn(o),null;if(f=(o.flags&128)!==0,R=_.rendering,R===null)if(f)au(_,!1);else{if(nn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(R=yd(s),R!==null){for(o.flags|=128,au(_,!1),f=R.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,s=f,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,s=R.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return St(Vt,Vt.current&1|2),o.child}s=s.sibling}_.tail!==null&&Ct()>$a&&(o.flags|=128,f=!0,au(_,!1),o.lanes=4194304)}else{if(!f)if(s=yd(R),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),au(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!Ot)return Cn(o),null}else 2*Ct()-_.renderingStartTime>$a&&u!==1073741824&&(o.flags|=128,f=!0,au(_,!1),o.lanes=4194304);_.isBackwards?(R.sibling=o.child,o.child=R):(u=_.last,u!==null?u.sibling=R:o.child=R,_.last=R)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ct(),o.sibling=null,u=Vt.current,St(Vt,f?u&1|2:u&1),o):(Cn(o),null);case 22:case 23:return om(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(pr&1073741824)!==0&&(Cn(o),o.subtreeFlags&6&&(o.flags|=8192)):Cn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function iA(s,o){switch(mp(o),o.tag){case 1:return Qn(o.type)&&od(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return La(),Rt(Kn),Rt(Tn),Rp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Sp(o),null;case 13:if(Rt(Vt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Oa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Rt(Vt),null;case 4:return La(),null;case 10:return Ep(o.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var Sd=!1,Sn=!1,oA=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Fa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Bt(s,o,f)}else u.current=null}function Kp(s,o,u){try{u()}catch(f){Bt(s,o,f)}}var n0=!1;function aA(s,o){if(op=wi,s=Dv(),Xh(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var R=0,j=-1,B=-1,X=0,ce=0,de=s,ue=null;t:for(;;){for(var Ae;de!==u||m!==0&&de.nodeType!==3||(j=R+m),de!==_||f!==0&&de.nodeType!==3||(B=R+f),de.nodeType===3&&(R+=de.nodeValue.length),(Ae=de.firstChild)!==null;)ue=de,de=Ae;for(;;){if(de===s)break t;if(ue===u&&++X===m&&(j=R),ue===_&&++ce===f&&(B=R),(Ae=de.nextSibling)!==null)break;de=ue,ue=de.parentNode}de=Ae}u=j===-1||B===-1?null:{start:j,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(ap={focusedElem:s,selectionRange:u},wi=!1,Pe=o;Pe!==null;)if(o=Pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Pe=s;else for(;Pe!==null;){o=Pe;try{var Oe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var De=Oe.memoizedProps,Wt=Oe.memoizedState,Q=o.stateNode,W=Q.getSnapshotBeforeUpdate(o.elementType===o.type?De:qr(o.type,De),Wt);Q.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Bt(o,o.return,me)}if(s=o.sibling,s!==null){s.return=o.return,Pe=s;break}Pe=o.return}return Oe=n0,n0=!1,Oe}function lu(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&Kp(o,u,_)}m=m.next}while(m!==f)}}function Ad(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Qp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function r0(s){var o=s.alternate;o!==null&&(s.alternate=null,r0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[gs],delete o[Zl],delete o[dp],delete o[zS],delete o[HS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function s0(s){return s.tag===5||s.tag===3||s.tag===4}function i0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||s0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yp(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=sd));else if(f!==4&&(s=s.child,s!==null))for(Yp(s,o,u),s=s.sibling;s!==null;)Yp(s,o,u),s=s.sibling}function Zp(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Zp(s,o,u),s=s.sibling;s!==null;)Zp(s,o,u),s=s.sibling}var gn=null,Gr=!1;function Ii(s,o,u){for(u=u.child;u!==null;)o0(s,o,u),u=u.sibling}function o0(s,o,u){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(To,u)}catch{}switch(u.tag){case 5:Sn||Fa(u,o);case 6:var f=gn,m=Gr;gn=null,Ii(s,o,u),gn=f,Gr=m,gn!==null&&(Gr?(s=gn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):gn.removeChild(u.stateNode));break;case 18:gn!==null&&(Gr?(s=gn,u=u.stateNode,s.nodeType===8?cp(s.parentNode,u):s.nodeType===1&&cp(s,u),Br(s)):cp(gn,u.stateNode));break;case 4:f=gn,m=Gr,gn=u.stateNode.containerInfo,Gr=!0,Ii(s,o,u),gn=f,Gr=m;break;case 0:case 11:case 14:case 15:if(!Sn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,R=_.destroy;_=_.tag,R!==void 0&&((_&2)!==0||(_&4)!==0)&&Kp(u,o,R),m=m.next}while(m!==f)}Ii(s,o,u);break;case 1:if(!Sn&&(Fa(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(j){Bt(u,o,j)}Ii(s,o,u);break;case 21:Ii(s,o,u);break;case 22:u.mode&1?(Sn=(f=Sn)||u.memoizedState!==null,Ii(s,o,u),Sn=f):Ii(s,o,u);break;default:Ii(s,o,u)}}function a0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new oA),o.forEach(function(f){var m=gA.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Kr(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=s,R=o,j=R;e:for(;j!==null;){switch(j.tag){case 5:gn=j.stateNode,Gr=!1;break e;case 3:gn=j.stateNode.containerInfo,Gr=!0;break e;case 4:gn=j.stateNode.containerInfo,Gr=!0;break e}j=j.return}if(gn===null)throw Error(n(160));o0(_,R,m),gn=null,Gr=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(X){Bt(m,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)l0(o,s),o=o.sibling}function l0(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Kr(o,s),_s(s),f&4){try{lu(3,s,s.return),Ad(3,s)}catch(De){Bt(s,s.return,De)}try{lu(5,s,s.return)}catch(De){Bt(s,s.return,De)}}break;case 1:Kr(o,s),_s(s),f&512&&u!==null&&Fa(u,u.return);break;case 5:if(Kr(o,s),_s(s),f&512&&u!==null&&Fa(u,u.return),s.flags&32){var m=s.stateNode;try{fn(m,"")}catch(De){Bt(s,s.return,De)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,R=u!==null?u.memoizedProps:_,j=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&$n(m,_),_o(j,R);var X=_o(j,_);for(R=0;R<B.length;R+=2){var ce=B[R],de=B[R+1];ce==="style"?Bn(m,de):ce==="dangerouslySetInnerHTML"?Ms(m,de):ce==="children"?fn(m,de):F(m,ce,de,X)}switch(j){case"input":or(m,_);break;case"textarea":ke(m,_);break;case"select":var ue=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var Ae=_.value;Ae!=null?ye(m,!!_.multiple,Ae,!1):ue!==!!_.multiple&&(_.defaultValue!=null?ye(m,!!_.multiple,_.defaultValue,!0):ye(m,!!_.multiple,_.multiple?[]:"",!1))}m[Zl]=_}catch(De){Bt(s,s.return,De)}}break;case 6:if(Kr(o,s),_s(s),f&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(De){Bt(s,s.return,De)}}break;case 3:if(Kr(o,s),_s(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Br(o.containerInfo)}catch(De){Bt(s,s.return,De)}break;case 4:Kr(o,s),_s(s);break;case 13:Kr(o,s),_s(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(em=Ct())),f&4&&a0(s);break;case 22:if(ce=u!==null&&u.memoizedState!==null,s.mode&1?(Sn=(X=Sn)||ce,Kr(o,s),Sn=X):Kr(o,s),_s(s),f&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ce&&(s.mode&1)!==0)for(Pe=s,ce=s.child;ce!==null;){for(de=Pe=ce;Pe!==null;){switch(ue=Pe,Ae=ue.child,ue.tag){case 0:case 11:case 14:case 15:lu(4,ue,ue.return);break;case 1:Fa(ue,ue.return);var Oe=ue.stateNode;if(typeof Oe.componentWillUnmount=="function"){f=ue,u=ue.return;try{o=f,Oe.props=o.memoizedProps,Oe.state=o.memoizedState,Oe.componentWillUnmount()}catch(De){Bt(f,u,De)}}break;case 5:Fa(ue,ue.return);break;case 22:if(ue.memoizedState!==null){d0(de);continue}}Ae!==null?(Ae.return=ue,Pe=Ae):d0(de)}ce=ce.sibling}e:for(ce=null,de=s;;){if(de.tag===5){if(ce===null){ce=de;try{m=de.stateNode,X?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=de.stateNode,B=de.memoizedProps.style,R=B!=null&&B.hasOwnProperty("display")?B.display:null,j.style.display=wr("display",R))}catch(De){Bt(s,s.return,De)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=X?"":de.memoizedProps}catch(De){Bt(s,s.return,De)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Kr(o,s),_s(s),f&4&&a0(s);break;case 21:break;default:Kr(o,s),_s(s)}}function _s(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(s0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(fn(m,""),f.flags&=-33);var _=i0(s);Zp(s,_,m);break;case 3:case 4:var R=f.stateNode.containerInfo,j=i0(s);Yp(s,j,R);break;default:throw Error(n(161))}}catch(B){Bt(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function lA(s,o,u){Pe=s,u0(s)}function u0(s,o,u){for(var f=(s.mode&1)!==0;Pe!==null;){var m=Pe,_=m.child;if(m.tag===22&&f){var R=m.memoizedState!==null||Sd;if(!R){var j=m.alternate,B=j!==null&&j.memoizedState!==null||Sn;j=Sd;var X=Sn;if(Sd=R,(Sn=B)&&!X)for(Pe=m;Pe!==null;)R=Pe,B=R.child,R.tag===22&&R.memoizedState!==null?f0(m):B!==null?(B.return=R,Pe=B):f0(m);for(;_!==null;)Pe=_,u0(_),_=_.sibling;Pe=m,Sd=j,Sn=X}c0(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,Pe=_):c0(s)}}function c0(s){for(;Pe!==null;){var o=Pe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Sn||Ad(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Sn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:qr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&d_(o,_,f);break;case 3:var R=o.updateQueue;if(R!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}d_(o,R,u)}break;case 5:var j=o.stateNode;if(u===null&&o.flags&4){u=j;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ce=X.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&Br(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||o.flags&512&&Qp(o)}catch(ue){Bt(o,o.return,ue)}}if(o===s){Pe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Pe=u;break}Pe=o.return}}function d0(s){for(;Pe!==null;){var o=Pe;if(o===s){Pe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Pe=u;break}Pe=o.return}}function f0(s){for(;Pe!==null;){var o=Pe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ad(4,o)}catch(B){Bt(o,u,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(B){Bt(o,m,B)}}var _=o.return;try{Qp(o)}catch(B){Bt(o,_,B)}break;case 5:var R=o.return;try{Qp(o)}catch(B){Bt(o,R,B)}}}catch(B){Bt(o,o.return,B)}if(o===s){Pe=null;break}var j=o.sibling;if(j!==null){j.return=o.return,Pe=j;break}Pe=o.return}}var uA=Math.ceil,Rd=z.ReactCurrentDispatcher,Xp=z.ReactCurrentOwner,kr=z.ReactCurrentBatchConfig,mt=0,un=null,Zt=null,yn=0,pr=0,Ua=bi(0),nn=0,uu=null,Lo=0,Id=0,Jp=0,cu=null,Zn=null,em=0,$a=1/0,Zs=null,kd=!1,tm=null,ki=null,Pd=!1,Pi=null,Nd=0,du=0,nm=null,Od=-1,Dd=0;function Ln(){return(mt&6)!==0?Ct():Od!==-1?Od:Od=Ct()}function Ni(s){return(s.mode&1)===0?1:(mt&2)!==0&&yn!==0?yn&-yn:qS.transition!==null?(Dd===0&&(Dd=Co()),Dd):(s=at,s!==0||(s=window.event,s=s===void 0?16:Fl(s.type)),s)}function Qr(s,o,u,f){if(50<du)throw du=0,nm=null,Error(n(185));gi(s,u,f),((mt&2)===0||s!==un)&&(s===un&&((mt&2)===0&&(Id|=u),nn===4&&Oi(s,yn)),Xn(s,f),u===1&&mt===0&&(o.mode&1)===0&&($a=Ct()+500,ld&&Si()))}function Xn(s,o){var u=s.callbackNode;Fs(s,o);var f=bo(s,s===un?yn:0);if(f===0)u!==null&&Dl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&Dl(u),o===1)s.tag===0?WS(p0.bind(null,s)):Jv(p0.bind(null,s)),$S(function(){(mt&6)===0&&Si()}),u=null;else{switch(vi(f)){case 1:u=xo;break;case 4:u=hi;break;case 16:u=Tr;break;case 536870912:u=Dc;break;default:u=Tr}u=x0(u,h0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function h0(s,o){if(Od=-1,Dd=0,(mt&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Ba()&&s.callbackNode!==u)return null;var f=bo(s,s===un?yn:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Md(s,f);else{o=f;var m=mt;mt|=2;var _=g0();(un!==s||yn!==o)&&(Zs=null,$a=Ct()+500,Fo(s,o));do try{fA();break}catch(j){m0(s,j)}while(!0);wp(),Rd.current=_,mt=m,Zt!==null?o=0:(un=null,yn=0,o=nn)}if(o!==0){if(o===2&&(m=ur(s),m!==0&&(f=m,o=rm(s,m))),o===1)throw u=uu,Fo(s,0),Oi(s,f),Xn(s,Ct()),u;if(o===6)Oi(s,f);else{if(m=s.current.alternate,(f&30)===0&&!cA(m)&&(o=Md(s,f),o===2&&(_=ur(s),_!==0&&(f=_,o=rm(s,_))),o===1))throw u=uu,Fo(s,0),Oi(s,f),Xn(s,Ct()),u;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Uo(s,Zn,Zs);break;case 3:if(Oi(s,f),(f&130023424)===f&&(o=em+500-Ct(),10<o)){if(bo(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){Ln(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=up(Uo.bind(null,s,Zn,Zs),o);break}Uo(s,Zn,Zs);break;case 4:if(Oi(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var R=31-Dn(f);_=1<<R,R=o[R],R>m&&(m=R),f&=~_}if(f=m,f=Ct()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*uA(f/1960))-f,10<f){s.timeoutHandle=up(Uo.bind(null,s,Zn,Zs),f);break}Uo(s,Zn,Zs);break;case 5:Uo(s,Zn,Zs);break;default:throw Error(n(329))}}}return Xn(s,Ct()),s.callbackNode===u?h0.bind(null,s):null}function rm(s,o){var u=cu;return s.current.memoizedState.isDehydrated&&(Fo(s,o).flags|=256),s=Md(s,o),s!==2&&(o=Zn,Zn=u,o!==null&&sm(o)),s}function sm(s){Zn===null?Zn=s:Zn.push.apply(Zn,s)}function cA(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!Hr(_(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oi(s,o){for(o&=~Jp,o&=~Id,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Dn(o),f=1<<u;s[u]=-1,o&=~f}}function p0(s){if((mt&6)!==0)throw Error(n(327));Ba();var o=bo(s,0);if((o&1)===0)return Xn(s,Ct()),null;var u=Md(s,o);if(s.tag!==0&&u===2){var f=ur(s);f!==0&&(o=f,u=rm(s,f))}if(u===1)throw u=uu,Fo(s,0),Oi(s,o),Xn(s,Ct()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Uo(s,Zn,Zs),Xn(s,Ct()),null}function im(s,o){var u=mt;mt|=1;try{return s(o)}finally{mt=u,mt===0&&($a=Ct()+500,ld&&Si())}}function jo(s){Pi!==null&&Pi.tag===0&&(mt&6)===0&&Ba();var o=mt;mt|=1;var u=kr.transition,f=at;try{if(kr.transition=null,at=1,s)return s()}finally{at=f,kr.transition=u,mt=o,(mt&6)===0&&Si()}}function om(){pr=Ua.current,Rt(Ua)}function Fo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,US(u)),Zt!==null)for(u=Zt.return;u!==null;){var f=u;switch(mp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&od();break;case 3:La(),Rt(Kn),Rt(Tn),Rp();break;case 5:Sp(f);break;case 4:La();break;case 13:Rt(Vt);break;case 19:Rt(Vt);break;case 10:Ep(f.type._context);break;case 22:case 23:om()}u=u.return}if(un=s,Zt=s=Di(s.current,null),yn=pr=o,nn=0,uu=null,Jp=Id=Lo=0,Zn=cu=null,Do!==null){for(o=0;o<Do.length;o++)if(u=Do[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var R=_.next;_.next=m,f.next=R}u.pending=f}Do=null}return s}function m0(s,o){do{var u=Zt;try{if(wp(),vd.current=xd,_d){for(var f=Lt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}_d=!1}if(Vo=0,ln=tn=Lt=null,ru=!1,su=0,Xp.current=null,u===null||u.return===null){nn=1,uu=o,Zt=null;break}e:{var _=s,R=u.return,j=u,B=o;if(o=yn,j.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,ce=j,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Ae=U_(R);if(Ae!==null){Ae.flags&=-257,$_(Ae,R,j,_,o),Ae.mode&1&&F_(_,X,o),o=Ae,B=X;var Oe=o.updateQueue;if(Oe===null){var De=new Set;De.add(B),o.updateQueue=De}else Oe.add(B);break e}else{if((o&1)===0){F_(_,X,o),am();break e}B=Error(n(426))}}else if(Ot&&j.mode&1){var Wt=U_(R);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),$_(Wt,R,j,_,o),vp(ja(B,j));break e}}_=B=ja(B,j),nn!==4&&(nn=2),cu===null?cu=[_]:cu.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var Q=L_(_,B,o);c_(_,Q);break e;case 1:j=B;var W=_.type,Y=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ki===null||!ki.has(Y)))){_.flags|=65536,o&=-o,_.lanes|=o;var me=j_(_,j,o);c_(_,me);break e}}_=_.return}while(_!==null)}v0(u)}catch(Me){o=Me,Zt===u&&u!==null&&(Zt=u=u.return);continue}break}while(!0)}function g0(){var s=Rd.current;return Rd.current=xd,s===null?xd:s}function am(){(nn===0||nn===3||nn===2)&&(nn=4),un===null||(Lo&268435455)===0&&(Id&268435455)===0||Oi(un,yn)}function Md(s,o){var u=mt;mt|=2;var f=g0();(un!==s||yn!==o)&&(Zs=null,Fo(s,o));do try{dA();break}catch(m){m0(s,m)}while(!0);if(wp(),mt=u,Rd.current=f,Zt!==null)throw Error(n(261));return un=null,yn=0,nn}function dA(){for(;Zt!==null;)y0(Zt)}function fA(){for(;Zt!==null&&!Nc();)y0(Zt)}function y0(s){var o=E0(s.alternate,s,pr);s.memoizedProps=s.pendingProps,o===null?v0(s):Zt=o,Xp.current=null}function v0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=sA(u,o,pr),u!==null){Zt=u;return}}else{if(u=iA(u,o),u!==null){u.flags&=32767,Zt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{nn=6,Zt=null;return}}if(o=o.sibling,o!==null){Zt=o;return}Zt=o=s}while(o!==null);nn===0&&(nn=5)}function Uo(s,o,u){var f=at,m=kr.transition;try{kr.transition=null,at=1,hA(s,o,u,f)}finally{kr.transition=m,at=f}return null}function hA(s,o,u,f){do Ba();while(Pi!==null);if((mt&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Tt(s,_),s===un&&(Zt=un=null,yn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Pd||(Pd=!0,x0(Tr,function(){return Ba(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=kr.transition,kr.transition=null;var R=at;at=1;var j=mt;mt|=4,Xp.current=null,aA(s,u),l0(u,s),OS(ap),wi=!!op,ap=op=null,s.current=u,lA(u),Hh(),mt=j,at=R,kr.transition=_}else s.current=u;if(Pd&&(Pd=!1,Pi=s,Nd=m),_=s.pendingLanes,_===0&&(ki=null),Mc(u.stateNode),Xn(s,Ct()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(kd)throw kd=!1,s=tm,tm=null,s;return(Nd&1)!==0&&s.tag!==0&&Ba(),_=s.pendingLanes,(_&1)!==0?s===nm?du++:(du=0,nm=s):du=0,Si(),null}function Ba(){if(Pi!==null){var s=vi(Nd),o=kr.transition,u=at;try{if(kr.transition=null,at=16>s?16:s,Pi===null)var f=!1;else{if(s=Pi,Pi=null,Nd=0,(mt&6)!==0)throw Error(n(331));var m=mt;for(mt|=4,Pe=s.current;Pe!==null;){var _=Pe,R=_.child;if((Pe.flags&16)!==0){var j=_.deletions;if(j!==null){for(var B=0;B<j.length;B++){var X=j[B];for(Pe=X;Pe!==null;){var ce=Pe;switch(ce.tag){case 0:case 11:case 15:lu(8,ce,_)}var de=ce.child;if(de!==null)de.return=ce,Pe=de;else for(;Pe!==null;){ce=Pe;var ue=ce.sibling,Ae=ce.return;if(r0(ce),ce===X){Pe=null;break}if(ue!==null){ue.return=Ae,Pe=ue;break}Pe=Ae}}}var Oe=_.alternate;if(Oe!==null){var De=Oe.child;if(De!==null){Oe.child=null;do{var Wt=De.sibling;De.sibling=null,De=Wt}while(De!==null)}}Pe=_}}if((_.subtreeFlags&2064)!==0&&R!==null)R.return=_,Pe=R;else e:for(;Pe!==null;){if(_=Pe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:lu(9,_,_.return)}var Q=_.sibling;if(Q!==null){Q.return=_.return,Pe=Q;break e}Pe=_.return}}var W=s.current;for(Pe=W;Pe!==null;){R=Pe;var Y=R.child;if((R.subtreeFlags&2064)!==0&&Y!==null)Y.return=R,Pe=Y;else e:for(R=W;Pe!==null;){if(j=Pe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Ad(9,j)}}catch(Me){Bt(j,j.return,Me)}if(j===R){Pe=null;break e}var me=j.sibling;if(me!==null){me.return=j.return,Pe=me;break e}Pe=j.return}}if(mt=m,Si(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(To,s)}catch{}f=!0}return f}finally{at=u,kr.transition=o}}return!1}function _0(s,o,u){o=ja(u,o),o=L_(s,o,1),s=Ri(s,o,1),o=Ln(),s!==null&&(gi(s,1,o),Xn(s,o))}function Bt(s,o,u){if(s.tag===3)_0(s,s,u);else for(;o!==null;){if(o.tag===3){_0(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))){s=ja(u,s),s=j_(o,s,1),o=Ri(o,s,1),s=Ln(),o!==null&&(gi(o,1,s),Xn(o,s));break}}o=o.return}}function pA(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=Ln(),s.pingedLanes|=s.suspendedLanes&u,un===s&&(yn&u)===u&&(nn===4||nn===3&&(yn&130023424)===yn&&500>Ct()-em?Fo(s,0):Jp|=u),Xn(s,o)}function w0(s,o){o===0&&((s.mode&1)===0?o=1:(o=da,da<<=1,(da&130023424)===0&&(da=4194304)));var u=Ln();s=Ks(s,o),s!==null&&(gi(s,o,u),Xn(s,u))}function mA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),w0(s,u)}function gA(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),w0(s,u)}var E0;E0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Kn.current)Yn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Yn=!1,rA(s,o,u);Yn=(s.flags&131072)!==0}else Yn=!1,Ot&&(o.flags&1048576)!==0&&e_(o,cd,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Cd(s,o),s=o.pendingProps;var m=ka(o,Tn.current);Va(o,u),m=Pp(null,o,f,s,m,u);var _=Np();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Qn(f)?(_=!0,ad(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,bp(o),m.updater=Td,o.stateNode=m,m._reactInternals=o,jp(o,f,s,u),o=Bp(null,o,f,!0,_,u)):(o.tag=0,Ot&&_&&pp(o),Vn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Cd(s,o),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=vA(f),s=qr(f,s),m){case 0:o=$p(null,o,f,s,u);break e;case 1:o=G_(null,o,f,s,u);break e;case 11:o=B_(null,o,f,s,u);break e;case 14:o=z_(null,o,f,qr(f.type,s),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:qr(f,m),$p(s,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:qr(f,m),G_(s,o,f,m,u);case 3:e:{if(K_(o),s===null)throw Error(n(387));f=o.pendingProps,_=o.memoizedState,m=_.element,u_(s,o),gd(o,f,null,u);var R=o.memoizedState;if(f=R.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=ja(Error(n(423)),o),o=Q_(s,o,f,u,m);break e}else if(f!==m){m=ja(Error(n(424)),o),o=Q_(s,o,f,u,m);break e}else for(hr=Ti(o.stateNode.containerInfo.firstChild),fr=o,Ot=!0,Wr=null,u=a_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oa(),f===m){o=Ys(s,o,u);break e}Vn(s,o,f,u)}o=o.child}return o;case 5:return f_(o),s===null&&yp(o),f=o.type,m=o.pendingProps,_=s!==null?s.memoizedProps:null,R=m.children,lp(f,m)?R=null:_!==null&&lp(f,_)&&(o.flags|=32),q_(s,o),Vn(s,o,R,u),o.child;case 6:return s===null&&yp(o),null;case 13:return Y_(s,o,u);case 4:return Cp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Da(o,null,f,u):Vn(s,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:qr(f,m),B_(s,o,f,m,u);case 7:return Vn(s,o,o.pendingProps,u),o.child;case 8:return Vn(s,o,o.pendingProps.children,u),o.child;case 12:return Vn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,_=o.memoizedProps,R=m.value,St(hd,f._currentValue),f._currentValue=R,_!==null)if(Hr(_.value,R)){if(_.children===m.children&&!Kn.current){o=Ys(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var j=_.dependencies;if(j!==null){R=_.child;for(var B=j.firstContext;B!==null;){if(B.context===f){if(_.tag===1){B=Qs(-1,u&-u),B.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var ce=X.pending;ce===null?B.next=B:(B.next=ce.next,ce.next=B),X.pending=B}}_.lanes|=u,B=_.alternate,B!==null&&(B.lanes|=u),xp(_.return,u,o),j.lanes|=u;break}B=B.next}}else if(_.tag===10)R=_.type===o.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(n(341));R.lanes|=u,j=R.alternate,j!==null&&(j.lanes|=u),xp(R,u,o),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===o){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}Vn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Va(o,u),m=Rr(m),f=f(m),o.flags|=1,Vn(s,o,f,u),o.child;case 14:return f=o.type,m=qr(f,o.pendingProps),m=qr(f.type,m),z_(s,o,f,m,u);case 15:return H_(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:qr(f,m),Cd(s,o),o.tag=1,Qn(f)?(s=!0,ad(o)):s=!1,Va(o,u),M_(o,f,m),jp(o,f,m,u),Bp(null,o,f,!0,s,u);case 19:return X_(s,o,u);case 22:return W_(s,o,u)}throw Error(n(156,o.tag))};function x0(s,o){return ua(s,o)}function yA(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(s,o,u,f){return new yA(s,o,u,f)}function lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vA(s){if(typeof s=="function")return lm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===Le)return 14}return 2}function Di(s,o){var u=s.alternate;return u===null?(u=Pr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Vd(s,o,u,f,m,_){var R=2;if(f=s,typeof s=="function")lm(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case O:return $o(u.children,m,_,o);case I:R=8,m|=8;break;case N:return s=Pr(12,u,o,m|2),s.elementType=N,s.lanes=_,s;case D:return s=Pr(13,u,o,m),s.elementType=D,s.lanes=_,s;case we:return s=Pr(19,u,o,m),s.elementType=we,s.lanes=_,s;case xe:return Ld(u,m,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:R=10;break e;case U:R=9;break e;case M:R=11;break e;case Le:R=14;break e;case Ce:R=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Pr(R,u,o,m),o.elementType=s,o.type=f,o.lanes=_,o}function $o(s,o,u,f){return s=Pr(7,s,f,o),s.lanes=u,s}function Ld(s,o,u,f){return s=Pr(22,s,f,o),s.elementType=xe,s.lanes=u,s.stateNode={isHidden:!1},s}function um(s,o,u){return s=Pr(6,s,null,o),s.lanes=u,s}function cm(s,o,u){return o=Pr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function _A(s,o,u,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function dm(s,o,u,f,m,_,R,j,B){return s=new _A(s,o,u,j,B),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Pr(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(_),s}function wA(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function T0(s){if(!s)return Ci;s=s._reactInternals;e:{if(Lr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Qn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Qn(u))return Zv(s,u,o)}return o}function b0(s,o,u,f,m,_,R,j,B){return s=dm(u,f,!0,s,m,_,R,j,B),s.context=T0(null),u=s.current,f=Ln(),m=Ni(u),_=Qs(f,m),_.callback=o??null,Ri(u,_,m),s.current.lanes=m,gi(s,m,f),Xn(s,f),s}function jd(s,o,u,f){var m=o.current,_=Ln(),R=Ni(m);return u=T0(u),o.context===null?o.context=u:o.pendingContext=u,o=Qs(_,R),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ri(m,o,R),s!==null&&(Qr(s,m,R,_),md(s,m,R)),R}function Fd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function C0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function fm(s,o){C0(s,o),(s=s.alternate)&&C0(s,o)}function EA(){return null}var S0=typeof reportError=="function"?reportError:function(s){console.error(s)};function hm(s){this._internalRoot=s}Ud.prototype.render=hm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));jd(s,o,null,null)},Ud.prototype.unmount=hm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;jo(function(){jd(null,s,null,null)}),o[Hs]=null}};function Ud(s){this._internalRoot=s}Ud.prototype.unstable_scheduleHydration=function(s){if(s){var o=Uc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<fs.length&&o!==0&&o<fs[u].priority;u++);fs.splice(u,0,s),u===0&&zc(s)}};function pm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function $d(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function A0(){}function xA(s,o,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var X=Fd(R);_.call(X)}}var R=b0(o,f,s,0,null,!1,!1,"",A0);return s._reactRootContainer=R,s[Hs]=R.current,Ql(s.nodeType===8?s.parentNode:s),jo(),R}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var j=f;f=function(){var X=Fd(B);j.call(X)}}var B=dm(s,0,!1,null,null,!1,!1,"",A0);return s._reactRootContainer=B,s[Hs]=B.current,Ql(s.nodeType===8?s.parentNode:s),jo(function(){jd(o,B,u,f)}),B}function Bd(s,o,u,f,m){var _=u._reactRootContainer;if(_){var R=_;if(typeof m=="function"){var j=m;m=function(){var B=Fd(R);j.call(B)}}jd(o,R,s,m)}else R=xA(u,o,s,m,f);return Fd(R)}jc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=pi(o.pendingLanes);u!==0&&(yi(o,u|1),Xn(o,Ct()),(mt&6)===0&&($a=Ct()+500,Si()))}break;case 13:jo(function(){var f=Ks(s,1);if(f!==null){var m=Ln();Qr(f,s,1,m)}}),fm(s,1)}},fa=function(s){if(s.tag===13){var o=Ks(s,134217728);if(o!==null){var u=Ln();Qr(o,s,134217728,u)}fm(s,134217728)}},Fc=function(s){if(s.tag===13){var o=Ni(s),u=Ks(s,o);if(u!==null){var f=Ln();Qr(u,s,o,f)}fm(s,o)}},Uc=function(){return at},$c=function(s,o){var u=at;try{return at=s,o()}finally{at=u}},js=function(s,o,u){switch(o){case"input":if(or(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var m=id(f);if(!m)throw Error(n(90));pt(f),or(f,m)}}}break;case"textarea":ke(s,u);break;case"select":o=u.value,o!=null&&ye(s,!!u.multiple,o,!1)}},it=im,vt=jo;var TA={usingClientEntryPoint:!1,Events:[Xl,Ra,id,xr,He,im]},fu={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bA={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ol(s),s===null?null:s.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||EA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{To=zd.inject(bA),lr=zd}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TA,Jn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pm(o))throw Error(n(200));return wA(s,o,null,u)},Jn.createRoot=function(s,o){if(!pm(s))throw Error(n(299));var u=!1,f="",m=S0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=dm(s,1,!1,null,null,u,!1,f,m),s[Hs]=o.current,Ql(s.nodeType===8?s.parentNode:s),new hm(o)},Jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ol(o),s=s===null?null:s.stateNode,s},Jn.flushSync=function(s){return jo(s)},Jn.hydrate=function(s,o,u){if(!$d(o))throw Error(n(200));return Bd(null,s,o,!0,u)},Jn.hydrateRoot=function(s,o,u){if(!pm(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",R=S0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),o=b0(o,null,s,1,u??null,m,!1,_,R),s[Hs]=o.current,Ql(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Ud(o)},Jn.render=function(s,o,u){if(!$d(o))throw Error(n(200));return Bd(null,s,o,!1,u)},Jn.unmountComponentAtNode=function(s){if(!$d(s))throw Error(n(40));return s._reactRootContainer?(jo(function(){Bd(null,null,s,!1,function(){s._reactRootContainer=null,s[Hs]=null})}),!0):!1},Jn.unstable_batchedUpdates=im,Jn.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!$d(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Bd(s,o,u,!1,f)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var M0;function ox(){if(M0)return ym.exports;M0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ym.exports=OA(),ym.exports}var V0;function DA(){if(V0)return Hd;V0=1;var t=ox();return Hd.createRoot=t.createRoot,Hd.hydrateRoot=t.hydrateRoot,Hd}var MA=DA(),pu={},L0;function VA(){if(L0)return pu;L0=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.parse=l,pu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,w){const T=new a,b=E.length;if(b<2)return T;const A=(w==null?void 0:w.decode)||g;let k=0;do{const V=E.indexOf("=",k);if(V===-1)break;const F=E.indexOf(";",k),z=F===-1?b:F;if(V>z){k=E.lastIndexOf(";",V-1)+1;continue}const q=c(E,k,V),J=h(E,V,q),O=E.slice(q,J);if(T[O]===void 0){let I=c(E,V+1,z),N=h(E,z,I);const L=A(E.slice(I,N));T[O]=L}k=z+1}while(k<b);return T}function c(E,w,T){do{const b=E.charCodeAt(w);if(b!==32&&b!==9)return w}while(++w<T);return T}function h(E,w,T){for(;w>T;){const b=E.charCodeAt(--w);if(b!==32&&b!==9)return w+1}return T}function p(E,w,T){const b=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const A=b(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let k=E+"="+A;if(!T)return k;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);k+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);k+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);k+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);k+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(k+="; HttpOnly"),T.secure&&(k+="; Secure"),T.partitioned&&(k+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return k}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return i.call(E)==="[object Date]"}return pu}VA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j0="popstate";function LA(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Gm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bu(i)}return FA(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jA(){return Math.random().toString(36).substring(2,10)}function F0(t,e){return{usr:t.state,key:t.key,idx:e}}function Gm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||r||jA()}}function Bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function El(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function FA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let A=g(),k=A==null?null:A-p;p=A,h&&h({action:c,location:b.location,delta:k})}function E(A,k){c="PUSH";let V=Gm(b.location,A,k);p=g()+1;let F=F0(V,p),z=b.createHref(V);try{l.pushState(F,"",z)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(z)}a&&h&&h({action:c,location:b.location,delta:1})}function w(A,k){c="REPLACE";let V=Gm(b.location,A,k);p=g();let F=F0(V,p),z=b.createHref(V);l.replaceState(F,"",z),a&&h&&h({action:c,location:b.location,delta:0})}function T(A){let k=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof A=="string"?A:Bu(A);return V=V.replace(/ $/,"%20"),Dt(k,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,k)}let b={get action(){return c},get location(){return t(i,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(j0,v),h=A,()=>{i.removeEventListener(j0,v),h=null}},createHref(A){return e(i,A)},createURL:T,encodeLocation(A){let k=T(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:w,go(A){return l.go(A)}};return b}function ax(t,e,n="/"){return UA(t,e,n,!1)}function UA(t,e,n,r){let i=typeof e=="string"?El(e):e,a=Qi(i.pathname||"/",n);if(a==null)return null;let l=lx(t);$A(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=XA(a);c=YA(l[h],p,r)}return c}function lx(t,e=[],n=[],r=""){let i=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Dt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=ri([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lx(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:KA(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of ux(a.path))i(a,l,h)}),e}function ux(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=ux(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function $A(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var BA=/^:[\w-]+$/,zA=3,HA=2,WA=1,qA=10,GA=-2,U0=t=>t==="*";function KA(t,e){let n=t.split("/"),r=n.length;return n.some(U0)&&(r+=GA),e&&(r+=HA),n.filter(i=>!U0(i)).reduce((i,a)=>i+(BA.test(a)?zA:a===""?WA:qA),r)}function QA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YA(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=xf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),E=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=xf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:ri([a,v.pathname]),pathnameBase:nR(ri([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=ri([a,v.pathnameBase]))}return l}function xf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},E)=>{if(g==="*"){let T=c[E]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const w=c[E];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function ZA(t,e=!1,n=!0){rs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?El(t):t;return{pathname:n?n.startsWith("/")?n:eR(n,e):e,search:rR(r),hash:sR(i)}}function eR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $g(t){let e=tR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Bg(t,e,n,r=!1){let i;typeof t=="string"?i=El(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),wm("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),wm("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),wm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let h=JA(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var ri=t=>t.join("/").replace(/\/\/+/g,"/"),nR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var cx=["POST","PUT","PATCH","DELETE"];new Set(cx);var oR=["GET",...cx];new Set(oR);var xl=C.createContext(null);xl.displayName="DataRouter";var rh=C.createContext(null);rh.displayName="DataRouterState";var dx=C.createContext({isTransitioning:!1});dx.displayName="ViewTransition";var aR=C.createContext(new Map);aR.displayName="Fetchers";var lR=C.createContext(null);lR.displayName="Await";var us=C.createContext(null);us.displayName="Navigation";var yc=C.createContext(null);yc.displayName="Location";var Dr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var zg=C.createContext(null);zg.displayName="RouteError";function uR(t,{relative:e}={}){Dt(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(us),{hash:i,pathname:a,search:l}=_c(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:ri([n,a])),r.createHref({pathname:c,search:l,hash:i})}function Tl(){return C.useContext(yc)!=null}function po(){return Dt(Tl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(yc).location}var fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hx(t){C.useContext(us).static||C.useLayoutEffect(t)}function mo(){let{isDataRoute:t}=C.useContext(Dr);return t?bR():cR()}function cR(){Dt(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(xl),{basename:e,navigator:n}=C.useContext(us),{matches:r}=C.useContext(Dr),{pathname:i}=po(),a=JSON.stringify($g(r)),l=C.useRef(!1);return hx(()=>{l.current=!0}),C.useCallback((h,p={})=>{if(rs(l.current,fx),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=Bg(h,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ri([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}var dR=C.createContext(null);function fR(t){let e=C.useContext(Dr).outlet;return e&&C.createElement(dR.Provider,{value:t},e)}function vc(){let{matches:t}=C.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function _c(t,{relative:e}={}){let{matches:n}=C.useContext(Dr),{pathname:r}=po(),i=JSON.stringify($g(n));return C.useMemo(()=>Bg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function hR(t,e){return px(t,e)}function px(t,e,n,r){var V;Dt(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=C.useContext(us),{matches:l}=C.useContext(Dr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let F=v&&v.path||"";mx(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=po(),w;if(e){let F=typeof e=="string"?El(e):e;Dt(g==="/"||((V=F.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=E;let T=w.pathname||"/",b=T;if(g!=="/"){let F=g.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(F.length).join("/")}let A=!a&&n&&n.matches&&n.matches.length>0?n.matches:ax(t,{pathname:b});rs(v||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),rs(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=vR(A&&A.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:ri([g,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:ri([g,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,n,r);return e&&k?C.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function pR(){let t=TR(),e=iR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,l)}var mR=C.createElement(pR,null),gR=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Dr.Provider,{value:this.props.routeContext},C.createElement(zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yR({routeContext:t,match:e,children:n}){let r=C.useContext(xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Dr.Provider,{value:t},n)}function vR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:v}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let v,E=!1,w=null,T=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||mR,l&&(c<0&&g===0?(mx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):c===g&&(E=!0,T=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),A=()=>{let k;return v?k=w:E?k=T:p.route.Component?k=C.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,C.createElement(yR,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(gR,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:A(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):A()},null)}function Hg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(t){let e=C.useContext(xl);return Dt(e,Hg(t)),e}function wR(t){let e=C.useContext(rh);return Dt(e,Hg(t)),e}function ER(t){let e=C.useContext(Dr);return Dt(e,Hg(t)),e}function Wg(t){let e=ER(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xR(){return Wg("useRouteId")}function TR(){var r;let t=C.useContext(zg),e=wR("useRouteError"),n=Wg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function bR(){let{router:t}=_R("useNavigate"),e=Wg("useNavigate"),n=C.useRef(!1);return hx(()=>{n.current=!0}),C.useCallback(async(i,a={})=>{rs(n.current,fx),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var $0={};function mx(t,e,n){!e&&!$0[t]&&($0[t]=!0,rs(!1,n))}C.memo(CR);function CR({routes:t,future:e,state:n}){return px(t,void 0,n,e)}function SR({to:t,replace:e,state:n,relative:r}){Dt(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(us);rs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(Dr),{pathname:l}=po(),c=mo(),h=Bg(t,$g(a),l,r==="path"),p=JSON.stringify(h);return C.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:r})},[c,p,r,e,n]),null}function gx(t){return fR(t.context)}function ws(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Dt(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=El(n));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:E="default"}=n,w=C.useMemo(()=>{let T=Qi(h,l);return T==null?null:{location:{pathname:T,search:p,hash:g,state:v,key:E},navigationType:r}},[l,h,p,g,v,E,r]);return rs(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(us.Provider,{value:c},C.createElement(yc.Provider,{children:e,value:w}))}function RR({children:t,location:e}){return hR(Km(t),e)}function Km(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Km(r.props.children,a));return}Dt(r.type===ws,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Km(r.props.children,a)),n.push(l)}),n}var of="get",af="application/x-www-form-urlencoded";function sh(t){return t!=null&&typeof t.tagName=="string"}function IR(t){return sh(t)&&t.tagName.toLowerCase()==="button"}function kR(t){return sh(t)&&t.tagName.toLowerCase()==="form"}function PR(t){return sh(t)&&t.tagName.toLowerCase()==="input"}function NR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OR(t,e){return t.button===0&&(!e||e==="_self")&&!NR(t)}var Wd=null;function DR(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var MR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(t){return t!=null&&!MR.has(t)?(rs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${af}"`),null):t}function VR(t,e){let n,r,i,a,l;if(kR(t)){let c=t.getAttribute("action");r=c?Qi(c,e):null,n=t.getAttribute("method")||of,i=Em(t.getAttribute("enctype"))||af,a=new FormData(t)}else if(IR(t)||PR(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?Qi(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||of,i=Em(t.getAttribute("formenctype"))||Em(c.getAttribute("enctype"))||af,a=new FormData(c,t),!DR()){let{name:p,type:g,value:v}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,v)}}else{if(sh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=of,r=null,i=af,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function qg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function LR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FR(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await LR(a,n);return l.links?l.links():[]}return[]}));return zR(r.flat(1).filter(jR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function B0(t,e,n,r,i,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function UR(t,e,{includeHydrateFallback:n}={}){return $R(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function $R(t){return[...new Set(t)]}function BR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function zR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(BR(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function HR(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function WR(){let t=C.useContext(xl);return qg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qR(){let t=C.useContext(rh);return qg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gg=C.createContext(void 0);Gg.displayName="FrameworkContext";function yx(){let t=C.useContext(Gg);return qg(t,"You must render this element inside a <HydratedRouter> element"),t}function GR(t,e){let n=C.useContext(Gg),[r,i]=C.useState(!1),[a,l]=C.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,E=C.useRef(null);C.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=k=>{k.forEach(V=>{l(V.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[t]),C.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let w=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:mu(c,w),onBlur:mu(h,T),onMouseEnter:mu(p,w),onMouseLeave:mu(g,T),onTouchStart:mu(v,w)}]:[!1,E,{}]}function mu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KR({page:t,...e}){let{router:n}=WR(),r=C.useMemo(()=>ax(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(YR,{page:t,matches:r,...e}):null}function QR(t){let{manifest:e,routeModules:n}=yx(),[r,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return FR(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function YR({page:t,matches:e,...n}){let r=po(),{manifest:i,routeModules:a}=yx(),{loaderData:l,matches:c}=qR(),h=C.useMemo(()=>B0(t,e,c,i,r,"data"),[t,e,c,i,r]),p=C.useMemo(()=>B0(t,e,c,i,r,"assets"),[t,e,c,i,r]),g=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,T=!1;if(e.forEach(A=>{var V;let k=i.routes[A.route.id];!k||!k.hasLoader||(!h.some(F=>F.route.id===A.route.id)&&A.route.id in l&&((V=a[A.route.id])!=null&&V.shouldRevalidate)||k.hasClientLoader?T=!0:w.add(A.route.id))}),w.size===0)return[];let b=HR(t);return T&&w.size>0&&b.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[l,r,i,h,e,t,a]),v=C.useMemo(()=>UR(p,i),[p,i]),E=QR(p);return C.createElement(C.Fragment,null,g.map(w=>C.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>C.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),E.map(({key:w,link:T})=>C.createElement("link",{key:w,...T})))}function ZR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.2.0")}catch{}function XR({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=LA({window:n,v5Compat:!0}));let i=r.current,[a,l]=C.useState({action:i.action,location:i.location}),c=C.useCallback(h=>{C.startTransition(()=>l(h))},[l]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(AR,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var _x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:v,...E},w){let{basename:T}=C.useContext(us),b=typeof p=="string"&&_x.test(p),A,k=!1;if(typeof p=="string"&&b&&(A=p,vx))try{let N=new URL(window.location.href),L=p.startsWith("//")?new URL(N.protocol+p):new URL(p),U=Qi(L.pathname,T);L.origin===N.origin&&U!=null?p=U+L.search+L.hash:k=!0}catch{rs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=uR(p,{relative:i}),[F,z,q]=GR(r,E),J=tI(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:v});function O(N){e&&e(N),N.defaultPrevented||J(N)}let I=C.createElement("a",{...E,...q,href:A||V,onClick:k||a?e:O,ref:ZR(w,z),target:h,"data-discover":!b&&n==="render"?"true":void 0});return F&&!b?C.createElement(C.Fragment,null,I,C.createElement(KR,{page:V})):I});Yi.displayName="Link";var wx=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...p},g){let v=_c(l,{relative:p.relative}),E=po(),w=C.useContext(rh),{navigator:T,basename:b}=C.useContext(us),A=w!=null&&oI(v)&&c===!0,k=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,V=E.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(V=V.toLowerCase(),F=F?F.toLowerCase():null,k=k.toLowerCase()),F&&b&&(F=Qi(F,b)||F);const z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=V===k||!i&&V.startsWith(k)&&V.charAt(z)==="/",J=F!=null&&(F===k||!i&&F.startsWith(k)&&F.charAt(k.length)==="/"),O={isActive:q,isPending:J,isTransitioning:A},I=q?e:void 0,N;typeof r=="function"?N=r(O):N=[r,q?"active":null,J?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(O):a;return C.createElement(Yi,{...p,"aria-current":I,className:N,ref:g,style:L,to:l,viewTransition:c},typeof h=="function"?h(O):h)});wx.displayName="NavLink";var JR=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=of,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...E},w)=>{let T=sI(),b=iI(c,{relative:p}),A=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&_x.test(c),V=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let z=F.nativeEvent.submitter,q=(z==null?void 0:z.getAttribute("formmethod"))||l;T(z||F.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return C.createElement("form",{ref:w,method:A,action:b,onSubmit:r?h:V,...E,"data-discover":!k&&t==="render"?"true":void 0})});JR.displayName="Form";function eI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ex(t){let e=C.useContext(xl);return Dt(e,eI(t)),e}function tI(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=mo(),h=po(),p=_c(t,{relative:a});return C.useCallback(g=>{if(OR(g,e)){g.preventDefault();let v=n!==void 0?n:Bu(h)===Bu(p);c(t,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,p,n,r,e,t,i,a,l])}var nI=0,rI=()=>`__${String(++nI)}__`;function sI(){let{router:t}=Ex("useSubmit"),{basename:e}=C.useContext(us),n=xR();return C.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=VR(r,e);if(i.navigate===!1){let g=i.fetcherKey||rI();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function iI(t,{relative:e}={}){let{basename:n}=C.useContext(us),r=C.useContext(Dr);Dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={..._c(t||".",{relative:e})},l=po();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ri([n,a.pathname])),Bu(a)}function oI(t,e={}){let n=C.useContext(dx);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ex("useViewTransitionState"),i=_c(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Qi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Qi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xf(i.pathname,l)!=null||xf(i.pathname,a)!=null}new TextEncoder;var Kg=ox();const xx=Ug(Kg);function Tx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Tx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Tx(t))&&(r&&(r+=" "),r+=e);return r}const Qg="-",aI=t=>{const e=uI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(Qg);return c[0]===""&&c.length!==1&&c.shift(),Cx(c,e)||lI(l)},getConflictingClassGroupIds:(l,c)=>{const h=n[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},Cx=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Cx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Qg);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},z0=/^\[(.+)\]$/,lI=t=>{if(z0.test(t)){const e=z0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uI=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return dI(Object.entries(t.classGroups),n).forEach(([a,l])=>{Qm(l,r,a,e)}),r},Qm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:H0(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(cI(i)){Qm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{Qm(l,H0(e,a),n,r)})})},H0=(t,e)=>{let n=t;return e.split(Qg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cI=t=>t.isThemeGetter,dI=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[n,i]}):t,fI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},Sx="!",hI=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,l=c=>{const h=[];let p=0,g=0,v;for(let A=0;A<c.length;A++){let k=c[A];if(p===0){if(k===i&&(r||c.slice(A,A+a)===e)){h.push(c.slice(g,A)),g=A+a;continue}if(k==="/"){v=A;continue}}k==="["?p++:k==="]"&&p--}const E=h.length===0?c:c.substring(g),w=E.startsWith(Sx),T=w?E.substring(1):E,b=v&&v>g?v-g:void 0;return{modifiers:h,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:b}};return n?c=>n({className:c,parseClassName:l}):l},pI=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},mI=t=>({cache:fI(t.cacheSize),parseClassName:hI(t),...aI(t)}),gI=/\s+/,yI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(gI);let c="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:w}=n(p);let T=!!w,b=r(T?E.substring(0,w):E);if(!b){if(!T){c=p+(c.length>0?" "+c:c);continue}if(b=r(E),!b){c=p+(c.length>0?" "+c:c);continue}T=!1}const A=pI(g).join(":"),k=v?A+Sx:A,V=k+b;if(a.includes(V))continue;a.push(V);const F=i(b,T);for(let z=0;z<F.length;++z){const q=F[z];a.push(k+q)}c=p+(c.length>0?" "+c:c)}return c};function vI(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ax(e))&&(r&&(r+=" "),r+=n);return r}const Ax=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ax(t[r]))&&(n&&(n+=" "),n+=e);return n};function _I(t,...e){let n,r,i,a=l;function l(h){const p=e.reduce((g,v)=>v(g),t());return n=mI(p),r=n.cache.get,i=n.cache.set,a=c,c(h)}function c(h){const p=r(h);if(p)return p;const g=yI(h,n);return i(h,g),g}return function(){return a(vI.apply(null,arguments))}}const It=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Rx=/^\[(?:([a-z-]+):)?(.+)\]$/i,wI=/^\d+\/\d+$/,EI=new Set(["px","full","screen"]),xI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xs=t=>rl(t)||EI.has(t)||wI.test(t),Vi=t=>bl(t,"length",DI),rl=t=>!!t&&!Number.isNaN(Number(t)),xm=t=>bl(t,"number",rl),gu=t=>!!t&&Number.isInteger(Number(t)),AI=t=>t.endsWith("%")&&rl(t.slice(0,-1)),tt=t=>Rx.test(t),Li=t=>xI.test(t),RI=new Set(["length","size","percentage"]),II=t=>bl(t,RI,Ix),kI=t=>bl(t,"position",Ix),PI=new Set(["image","url"]),NI=t=>bl(t,PI,VI),OI=t=>bl(t,"",MI),yu=()=>!0,bl=(t,e,n)=>{const r=Rx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},DI=t=>TI.test(t)&&!bI.test(t),Ix=()=>!1,MI=t=>CI.test(t),VI=t=>SI.test(t),LI=()=>{const t=It("colors"),e=It("spacing"),n=It("blur"),r=It("brightness"),i=It("borderColor"),a=It("borderRadius"),l=It("borderSpacing"),c=It("borderWidth"),h=It("contrast"),p=It("grayscale"),g=It("hueRotate"),v=It("invert"),E=It("gap"),w=It("gradientColorStops"),T=It("gradientColorStopPositions"),b=It("inset"),A=It("margin"),k=It("opacity"),V=It("padding"),F=It("saturate"),z=It("scale"),q=It("sepia"),J=It("skew"),O=It("space"),I=It("translate"),N=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",tt,e],M=()=>[tt,e],D=()=>["",Xs,Vi],we=()=>["auto",rl,tt],Le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",tt],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[rl,tt];return{cacheSize:500,separator:":",theme:{colors:[yu],spacing:[Xs,Vi],blur:["none","",Li,tt],brightness:H(),borderColor:[t],borderRadius:["none","","full",Li,tt],borderSpacing:M(),borderWidth:D(),contrast:H(),grayscale:ne(),hueRotate:H(),invert:ne(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[AI,Vi],inset:U(),margin:U(),opacity:H(),padding:M(),saturate:H(),scale:H(),sepia:ne(),skew:H(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Li]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Le(),tt]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gu,tt]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",gu,tt]}],"grid-cols":[{"grid-cols":[yu]}],"col-start-end":[{col:["auto",{span:["full",gu,tt]},tt]}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":[yu]}],"row-start-end":[{row:["auto",{span:[gu,tt]},tt]}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[V]}],px:[{px:[V]}],py:[{py:[V]}],ps:[{ps:[V]}],pe:[{pe:[V]}],pt:[{pt:[V]}],pr:[{pr:[V]}],pb:[{pb:[V]}],pl:[{pl:[V]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[Li]},Li]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Li,Vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xm]}],"font-family":[{font:[yu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",rl,xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xs,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xs,Vi]}],"underline-offset":[{"underline-offset":["auto",Xs,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Le(),kI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",II]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[Xs,tt]}],"outline-w":[{outline:[Xs,Vi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Xs,Vi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Li,OI]}],"shadow-color":[{shadow:[yu]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Li,tt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[F]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[gu,tt]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xs,Vi,xm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jI=_I(LI);function Xe(...t){return jI(bx(t))}const FI=({children:t,className:e})=>S.jsx("div",{className:Xe("container mx-auto px-4 md:px-8 py-4 w-full",e),children:t}),UI=()=>S.jsx("header",{className:Xe("w-full border-b duration-150 transition-all ease-in-out p-4"),children:S.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[S.jsx(Yi,{to:"/",className:"text-xl font-bold text-gray-800 hover:text-blue-600 transition",children:"LinkUp Project"}),S.jsx(wx,{to:"/dashboard",className:({isActive:t})=>Xe("text-base text-neutral-600 px-4 py-2 rounded-lg transition-all",t&&"text-neutral-900 font-semibold bg-gray-200"),children:"Take an AI Interview"})]})}),$I=()=>S.jsxs("div",{className:"flex flex-col min-h-screen",children:[S.jsx(UI,{}),S.jsx(FI,{className:"flex-grow",children:S.jsx("main",{className:"flex-grow",children:S.jsx(gx,{})})})]}),BI=()=>S.jsx("div",{className:"flex-col md:px-12",children:S.jsx(gx,{})}),Tf=({title:t,description:e,isSubHeading:n=!1})=>S.jsxs("div",{children:[S.jsx("h2",{className:Xe("text-2xl md:text-3xl text-gray-800 font-semibold font-sans",n&&"text-lg md:text-xl"),children:t}),e&&S.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),Pu=C.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Pu.displayName="Card";const zI=C.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",t),...e}));zI.displayName="CardHeader";const Nu=C.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nu.displayName="CardTitle";const Ou=C.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));Ou.displayName="CardDescription";const HI=C.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xe("p-6 pt-0",t),...e}));HI.displayName="CardContent";const kx=C.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",t),...e}));kx.displayName="CardFooter";const W0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,q0=bx,ih=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return q0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const g=n==null?void 0:n[p],v=a==null?void 0:a[p];if(g===null)return null;const E=W0(g)||W0(v);return i[p][E]}),c=n&&Object.entries(n).reduce((p,g)=>{let[v,E]=g;return E===void 0||(p[v]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:E,...w}=g;return Object.entries(w).every(T=>{let[b,A]=T;return Array.isArray(A)?A.includes({...a,...c}[b]):{...a,...c}[b]===A})?[...p,v,E]:p},[]);return q0(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},WI=ih("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qI({className:t,variant:e,...n}){return S.jsx("div",{className:Xe(WI({variant:e}),t),...n})}function kt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function G0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Px(...t){return e=>{let n=!1;const r=t.map(i=>{const a=G0(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():G0(t[i],null)}}}}function Pn(...t){return C.useCallback(Px(...t),t)}function GI(t,e){const n=C.createContext(e),r=a=>{const{children:l,...c}=a,h=C.useMemo(()=>c,Object.values(c));return S.jsx(n.Provider,{value:h,children:l})};r.displayName=t+"Provider";function i(a){const l=C.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function go(t,e=[]){let n=[];function r(a,l){const c=C.createContext(l),h=n.length;n=[...n,l];const p=v=>{var k;const{scope:E,children:w,...T}=v,b=((k=E==null?void 0:E[t])==null?void 0:k[h])||c,A=C.useMemo(()=>T,Object.values(T));return S.jsx(b.Provider,{value:A,children:w})};p.displayName=a+"Provider";function g(v,E){var b;const w=((b=E==null?void 0:E[t])==null?void 0:b[h])||c,T=C.useContext(w);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=n.map(l=>C.createContext(l));return function(c){const h=(c==null?void 0:c[t])||a;return C.useMemo(()=>({[`__scope${t}`]:{...c,[t]:h}}),[c,h])}};return i.scopeName=t,[r,KI(i,...e)]}function KI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...c,...v}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var Zi=C.forwardRef((t,e)=>{const{children:n,...r}=t,i=C.Children.toArray(n),a=i.find(QI);if(a){const l=a.props.children,c=i.map(h=>h===a?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:h);return S.jsx(Ym,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return S.jsx(Ym,{...r,ref:e,children:n})});Zi.displayName="Slot";var Ym=C.forwardRef((t,e)=>{const{children:n,...r}=t;if(C.isValidElement(n)){const i=ZI(n),a=YI(r,n.props);return n.type!==C.Fragment&&(a.ref=e?Px(e,i):i),C.cloneElement(n,a)}return C.Children.count(n)>1?C.Children.only(null):null});Ym.displayName="SlotClone";var Nx=({children:t})=>S.jsx(S.Fragment,{children:t});function QI(t){return C.isValidElement(t)&&t.type===Nx}function YI(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{a(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function ZI(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var XI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bt=XI.reduce((t,e)=>{const n=C.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?Zi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function JI(t,e){t&&Kg.flushSync(()=>t.dispatchEvent(e))}function ii(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ek(t,e=globalThis==null?void 0:globalThis.document){const n=ii(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var tk="DismissableLayer",Zm="dismissableLayer.update",nk="dismissableLayer.pointerDownOutside",rk="dismissableLayer.focusOutside",K0,Ox=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=t,p=C.useContext(Ox),[g,v]=C.useState(null),E=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=C.useState({}),T=Pn(e,O=>v(O)),b=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=b.indexOf(A),V=g?b.indexOf(g):-1,F=p.layersWithOutsidePointerEventsDisabled.size>0,z=V>=k,q=ok(O=>{const I=O.target,N=[...p.branches].some(L=>L.contains(I));!z||N||(i==null||i(O),l==null||l(O),O.defaultPrevented||c==null||c())},E),J=ak(O=>{const I=O.target;[...p.branches].some(L=>L.contains(I))||(a==null||a(O),l==null||l(O),O.defaultPrevented||c==null||c())},E);return ek(O=>{V===p.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},E),C.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(K0=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Q0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=K0)}},[g,E,n,p]),C.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Q0())},[g,p]),C.useEffect(()=>{const O=()=>w({});return document.addEventListener(Zm,O),()=>document.removeEventListener(Zm,O)},[]),S.jsx(bt.div,{...h,ref:T,style:{pointerEvents:F?z?"auto":"none":void 0,...t.style},onFocusCapture:kt(t.onFocusCapture,J.onFocusCapture),onBlurCapture:kt(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:kt(t.onPointerDownCapture,q.onPointerDownCapture)})});Yg.displayName=tk;var sk="DismissableLayerBranch",ik=C.forwardRef((t,e)=>{const n=C.useContext(Ox),r=C.useRef(null),i=Pn(e,r);return C.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),S.jsx(bt.div,{...t,ref:i})});ik.displayName=sk;function ok(t,e=globalThis==null?void 0:globalThis.document){const n=ii(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let h=function(){Dx(nk,n,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ak(t,e=globalThis==null?void 0:globalThis.document){const n=ii(t),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&Dx(rk,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Q0(){const t=new CustomEvent(Zm);document.dispatchEvent(t)}function Dx(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JI(i,a):i.dispatchEvent(a)}var Xi=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},lk=kA.useId||(()=>{}),uk=0;function zi(t){const[e,n]=C.useState(lk());return Xi(()=>{n(r=>r??String(uk++))},[t]),e?`radix-${e}`:""}const ck=["top","right","bottom","left"],Ji=Math.min,mr=Math.max,bf=Math.round,qd=Math.floor,Cs=t=>({x:t,y:t}),dk={left:"right",right:"left",bottom:"top",top:"bottom"},fk={start:"end",end:"start"};function Xm(t,e,n){return mr(t,Ji(e,n))}function oi(t,e){return typeof t=="function"?t(e):t}function ai(t){return t.split("-")[0]}function Cl(t){return t.split("-")[1]}function Zg(t){return t==="x"?"y":"x"}function Xg(t){return t==="y"?"height":"width"}function eo(t){return["top","bottom"].includes(ai(t))?"y":"x"}function Jg(t){return Zg(eo(t))}function hk(t,e,n){n===void 0&&(n=!1);const r=Cl(t),i=Jg(t),a=Xg(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Cf(l)),[l,Cf(l)]}function pk(t){const e=Cf(t);return[Jm(t),e,Jm(e)]}function Jm(t){return t.replace(/start|end/g,e=>fk[e])}function mk(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function gk(t,e,n,r){const i=Cl(t);let a=mk(ai(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Jm)))),a}function Cf(t){return t.replace(/left|right|bottom|top/g,e=>dk[e])}function yk(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mx(t){return typeof t!="number"?yk(t):{top:t,right:t,bottom:t,left:t}}function Sf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Y0(t,e,n){let{reference:r,floating:i}=t;const a=eo(e),l=Jg(e),c=Xg(l),h=ai(e),p=a==="y",g=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,E=r[c]/2-i[c]/2;let w;switch(h){case"top":w={x:g,y:r.y-i.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-i.width,y:v};break;default:w={x:r.x,y:r.y}}switch(Cl(e)){case"start":w[l]-=E*(n&&p?-1:1);break;case"end":w[l]+=E*(n&&p?-1:1);break}return w}const vk=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:v}=Y0(p,r,h),E=r,w={},T=0;for(let b=0;b<c.length;b++){const{name:A,fn:k}=c[b],{x:V,y:F,data:z,reset:q}=await k({x:g,y:v,initialPlacement:r,placement:E,strategy:i,middlewareData:w,rects:p,platform:l,elements:{reference:t,floating:e}});g=V??g,v=F??v,w={...w,[A]:{...w[A],...z}},q&&T<=50&&(T++,typeof q=="object"&&(q.placement&&(E=q.placement),q.rects&&(p=q.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):q.rects),{x:g,y:v}=Y0(p,E,h)),b=-1)}return{x:g,y:v,placement:E,strategy:i,middlewareData:w}};async function zu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:E=!1,padding:w=0}=oi(e,t),T=Mx(w),A=c[E?v==="floating"?"reference":"floating":v],k=Sf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(A)))==null||n?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:g,strategy:h})),V=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,F=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),z=await(a.isElement==null?void 0:a.isElement(F))?await(a.getScale==null?void 0:a.getScale(F))||{x:1,y:1}:{x:1,y:1},q=Sf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:V,offsetParent:F,strategy:h}):V);return{top:(k.top-q.top+T.top)/z.y,bottom:(q.bottom-k.bottom+T.bottom)/z.y,left:(k.left-q.left+T.left)/z.x,right:(q.right-k.right+T.right)/z.x}}const _k=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:h}=e,{element:p,padding:g=0}=oi(t,e)||{};if(p==null)return{};const v=Mx(g),E={x:n,y:r},w=Jg(i),T=Xg(w),b=await l.getDimensions(p),A=w==="y",k=A?"top":"left",V=A?"bottom":"right",F=A?"clientHeight":"clientWidth",z=a.reference[T]+a.reference[w]-E[w]-a.floating[T],q=E[w]-a.reference[w],J=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let O=J?J[F]:0;(!O||!await(l.isElement==null?void 0:l.isElement(J)))&&(O=c.floating[F]||a.floating[T]);const I=z/2-q/2,N=O/2-b[T]/2-1,L=Ji(v[k],N),U=Ji(v[V],N),M=L,D=O-b[T]-U,we=O/2-b[T]/2+I,Le=Xm(M,we,D),Ce=!h.arrow&&Cl(i)!=null&&we!==Le&&a.reference[T]/2-(we<M?L:U)-b[T]/2<0,xe=Ce?we<M?we-M:we-D:0;return{[w]:E[w]+xe,data:{[w]:Le,centerOffset:we-Le-xe,...Ce&&{alignmentOffset:xe}},reset:Ce}}}),wk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:b=!0,...A}=oi(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=ai(i),V=eo(c),F=ai(c)===c,z=await(h.isRTL==null?void 0:h.isRTL(p.floating)),q=E||(F||!b?[Cf(c)]:pk(c)),J=T!=="none";!E&&J&&q.push(...gk(c,b,T,z));const O=[c,...q],I=await zu(e,A),N=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&N.push(I[k]),v){const we=hk(i,l,z);N.push(I[we[0]],I[we[1]])}if(L=[...L,{placement:i,overflows:N}],!N.every(we=>we<=0)){var U,M;const we=(((U=a.flip)==null?void 0:U.index)||0)+1,Le=O[we];if(Le)return{data:{index:we,overflows:L},reset:{placement:Le}};let Ce=(M=L.filter(xe=>xe.overflows[0]<=0).sort((xe,re)=>xe.overflows[1]-re.overflows[1])[0])==null?void 0:M.placement;if(!Ce)switch(w){case"bestFit":{var D;const xe=(D=L.filter(re=>{if(J){const ne=eo(re.placement);return ne===V||ne==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((re,ne)=>re[1]-ne[1])[0])==null?void 0:D[0];xe&&(Ce=xe);break}case"initialPlacement":Ce=c;break}if(i!==Ce)return{reset:{placement:Ce}}}return{}}}};function Z0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function X0(t){return ck.some(e=>t[e]>=0)}const Ek=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=oi(t,e);switch(r){case"referenceHidden":{const a=await zu(e,{...i,elementContext:"reference"}),l=Z0(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:X0(l)}}}case"escaped":{const a=await zu(e,{...i,altBoundary:!0}),l=Z0(a,n.floating);return{data:{escapedOffsets:l,escaped:X0(l)}}}default:return{}}}}};async function xk(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ai(n),c=Cl(n),h=eo(n)==="y",p=["left","top"].includes(l)?-1:1,g=a&&h?-1:1,v=oi(e,t);let{mainAxis:E,crossAxis:w,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof T=="number"&&(w=c==="end"?T*-1:T),h?{x:w*g,y:E*p}:{x:E*p,y:w*g}}const Tk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:c}=e,h=await xk(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}},bk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:A=>{let{x:k,y:V}=A;return{x:k,y:V}}},...h}=oi(t,e),p={x:n,y:r},g=await zu(e,h),v=eo(ai(i)),E=Zg(v);let w=p[E],T=p[v];if(a){const A=E==="y"?"top":"left",k=E==="y"?"bottom":"right",V=w+g[A],F=w-g[k];w=Xm(V,w,F)}if(l){const A=v==="y"?"top":"left",k=v==="y"?"bottom":"right",V=T+g[A],F=T-g[k];T=Xm(V,T,F)}const b=c.fn({...e,[E]:w,[v]:T});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[E]:a,[v]:l}}}}}},Ck=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:h=!0,crossAxis:p=!0}=oi(t,e),g={x:n,y:r},v=eo(i),E=Zg(v);let w=g[E],T=g[v];const b=oi(c,e),A=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const F=E==="y"?"height":"width",z=a.reference[E]-a.floating[F]+A.mainAxis,q=a.reference[E]+a.reference[F]-A.mainAxis;w<z?w=z:w>q&&(w=q)}if(p){var k,V;const F=E==="y"?"width":"height",z=["top","left"].includes(ai(i)),q=a.reference[v]-a.floating[F]+(z&&((k=l.offset)==null?void 0:k[v])||0)+(z?0:A.crossAxis),J=a.reference[v]+a.reference[F]+(z?0:((V=l.offset)==null?void 0:V[v])||0)-(z?A.crossAxis:0);T<q?T=q:T>J&&(T=J)}return{[E]:w,[v]:T}}}},Sk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:c}=e,{apply:h=()=>{},...p}=oi(t,e),g=await zu(e,p),v=ai(i),E=Cl(i),w=eo(i)==="y",{width:T,height:b}=a.floating;let A,k;v==="top"||v==="bottom"?(A=v,k=E===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=v,A=E==="end"?"top":"bottom");const V=b-g.top-g.bottom,F=T-g.left-g.right,z=Ji(b-g[A],V),q=Ji(T-g[k],F),J=!e.middlewareData.shift;let O=z,I=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=V),J&&!E){const L=mr(g.left,0),U=mr(g.right,0),M=mr(g.top,0),D=mr(g.bottom,0);w?I=T-2*(L!==0||U!==0?L+U:mr(g.left,g.right)):O=b-2*(M!==0||D!==0?M+D:mr(g.top,g.bottom))}await h({...e,availableWidth:I,availableHeight:O});const N=await l.getDimensions(c.floating);return T!==N.width||b!==N.height?{reset:{rects:!0}}:{}}}};function oh(){return typeof window<"u"}function Sl(t){return Vx(t)?(t.nodeName||"").toLowerCase():"#document"}function yr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ds(t){var e;return(e=(Vx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vx(t){return oh()?t instanceof Node||t instanceof yr(t).Node:!1}function ss(t){return oh()?t instanceof Element||t instanceof yr(t).Element:!1}function Is(t){return oh()?t instanceof HTMLElement||t instanceof yr(t).HTMLElement:!1}function J0(t){return!oh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yr(t).ShadowRoot}function wc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=is(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Ak(t){return["table","td","th"].includes(Sl(t))}function ah(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ey(t){const e=ty(),n=ss(t)?is(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Rk(t){let e=to(t);for(;Is(e)&&!ul(e);){if(ey(e))return e;if(ah(e))return null;e=to(e)}return null}function ty(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ul(t){return["html","body","#document"].includes(Sl(t))}function is(t){return yr(t).getComputedStyle(t)}function lh(t){return ss(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function to(t){if(Sl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J0(t)&&t.host||Ds(t);return J0(e)?e.host:e}function Lx(t){const e=to(t);return ul(e)?t.ownerDocument?t.ownerDocument.body:t.body:Is(e)&&wc(e)?e:Lx(e)}function Hu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Lx(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=yr(i);if(a){const c=eg(l);return e.concat(l,l.visualViewport||[],wc(i)?i:[],c&&n?Hu(c):[])}return e.concat(i,Hu(i,[],n))}function eg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jx(t){const e=is(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Is(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=bf(n)!==a||bf(r)!==l;return c&&(n=a,r=l),{width:n,height:r,$:c}}function ny(t){return ss(t)?t:t.contextElement}function sl(t){const e=ny(t);if(!Is(e))return Cs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=jx(e);let l=(a?bf(n.width):n.width)/r,c=(a?bf(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Ik=Cs(0);function Fx(t){const e=yr(t);return!ty()||!e.visualViewport?Ik:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yr(t)?!1:e}function qo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=ny(t);let l=Cs(1);e&&(r?ss(r)&&(l=sl(r)):l=sl(t));const c=kk(a,n,r)?Fx(a):Cs(0);let h=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,g=i.width/l.x,v=i.height/l.y;if(a){const E=yr(a),w=r&&ss(r)?yr(r):r;let T=E,b=eg(T);for(;b&&r&&w!==T;){const A=sl(b),k=b.getBoundingClientRect(),V=is(b),F=k.left+(b.clientLeft+parseFloat(V.paddingLeft))*A.x,z=k.top+(b.clientTop+parseFloat(V.paddingTop))*A.y;h*=A.x,p*=A.y,g*=A.x,v*=A.y,h+=F,p+=z,T=yr(b),b=eg(T)}}return Sf({width:g,height:v,x:h,y:p})}function ry(t,e){const n=lh(t).scrollLeft;return e?e.left+n:qo(Ds(t)).left+n}function Ux(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:ry(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function Pk(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=Ds(r),c=e?ah(e.floating):!1;if(r===l||c&&a)return n;let h={scrollLeft:0,scrollTop:0},p=Cs(1);const g=Cs(0),v=Is(r);if((v||!v&&!a)&&((Sl(r)!=="body"||wc(l))&&(h=lh(r)),Is(r))){const w=qo(r);p=sl(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const E=l&&!v&&!a?Ux(l,h,!0):Cs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+E.x,y:n.y*p.y-h.scrollTop*p.y+g.y+E.y}}function Nk(t){return Array.from(t.getClientRects())}function Ok(t){const e=Ds(t),n=lh(t),r=t.ownerDocument.body,i=mr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=mr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+ry(t);const c=-n.scrollTop;return is(r).direction==="rtl"&&(l+=mr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}function Dk(t,e){const n=yr(t),r=Ds(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){a=i.width,l=i.height;const p=ty();(!p||p&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:a,height:l,x:c,y:h}}function Mk(t,e){const n=qo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Is(t)?sl(t):Cs(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,h=i*a.x,p=r*a.y;return{width:l,height:c,x:h,y:p}}function ew(t,e,n){let r;if(e==="viewport")r=Dk(t,n);else if(e==="document")r=Ok(Ds(t));else if(ss(e))r=Mk(e,n);else{const i=Fx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Sf(r)}function $x(t,e){const n=to(t);return n===e||!ss(n)||ul(n)?!1:is(n).position==="fixed"||$x(n,e)}function Vk(t,e){const n=e.get(t);if(n)return n;let r=Hu(t,[],!1).filter(c=>ss(c)&&Sl(c)!=="body"),i=null;const a=is(t).position==="fixed";let l=a?to(t):t;for(;ss(l)&&!ul(l);){const c=is(l),h=ey(l);!h&&c.position==="fixed"&&(i=null),(a?!h&&!i:!h&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||wc(l)&&!h&&$x(t,l))?r=r.filter(g=>g!==l):i=c,l=to(l)}return e.set(t,r),r}function Lk(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?ah(e)?[]:Vk(e,this._c):[].concat(n),r],c=l[0],h=l.reduce((p,g)=>{const v=ew(e,g,i);return p.top=mr(v.top,p.top),p.right=Ji(v.right,p.right),p.bottom=Ji(v.bottom,p.bottom),p.left=mr(v.left,p.left),p},ew(e,c,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function jk(t){const{width:e,height:n}=jx(t);return{width:e,height:n}}function Fk(t,e,n){const r=Is(e),i=Ds(e),a=n==="fixed",l=qo(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=Cs(0);if(r||!r&&!a)if((Sl(e)!=="body"||wc(i))&&(c=lh(e)),r){const E=qo(e,!0,a,e);h.x=E.x+e.clientLeft,h.y=E.y+e.clientTop}else i&&(h.x=ry(i));const p=i&&!r&&!a?Ux(i,c):Cs(0),g=l.left+c.scrollLeft-h.x-p.x,v=l.top+c.scrollTop-h.y-p.y;return{x:g,y:v,width:l.width,height:l.height}}function Tm(t){return is(t).position==="static"}function tw(t,e){if(!Is(t)||is(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ds(t)===n&&(n=n.ownerDocument.body),n}function Bx(t,e){const n=yr(t);if(ah(t))return n;if(!Is(t)){let i=to(t);for(;i&&!ul(i);){if(ss(i)&&!Tm(i))return i;i=to(i)}return n}let r=tw(t,e);for(;r&&Ak(r)&&Tm(r);)r=tw(r,e);return r&&ul(r)&&Tm(r)&&!ey(r)?n:r||Rk(t)||n}const Uk=async function(t){const e=this.getOffsetParent||Bx,n=this.getDimensions,r=await n(t.floating);return{reference:Fk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $k(t){return is(t).direction==="rtl"}const Bk={convertOffsetParentRelativeRectToViewportRelativeRect:Pk,getDocumentElement:Ds,getClippingRect:Lk,getOffsetParent:Bx,getElementRects:Uk,getClientRects:Nk,getDimensions:jk,getScale:sl,isElement:ss,isRTL:$k};function zx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zk(t,e){let n=null,r;const i=Ds(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:g,top:v,width:E,height:w}=p;if(c||e(),!E||!w)return;const T=qd(v),b=qd(i.clientWidth-(g+E)),A=qd(i.clientHeight-(v+w)),k=qd(g),F={rootMargin:-T+"px "+-b+"px "+-A+"px "+-k+"px",threshold:mr(0,Ji(1,h))||1};let z=!0;function q(J){const O=J[0].intersectionRatio;if(O!==h){if(!z)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!zx(p,t.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver(q,{...F,root:i.ownerDocument})}catch{n=new IntersectionObserver(q,F)}n.observe(t)}return l(!0),a}function Hk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=ny(t),g=i||a?[...p?Hu(p):[],...Hu(e)]:[];g.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const v=p&&c?zk(p,n):null;let E=-1,w=null;l&&(w=new ResizeObserver(k=>{let[V]=k;V&&V.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var F;(F=w)==null||F.observe(e)})),n()}),p&&!h&&w.observe(p),w.observe(e));let T,b=h?qo(t):null;h&&A();function A(){const k=qo(t);b&&!zx(b,k)&&n(),b=k,T=requestAnimationFrame(A)}return n(),()=>{var k;g.forEach(V=>{i&&V.removeEventListener("scroll",n),a&&V.removeEventListener("resize",n)}),v==null||v(),(k=w)==null||k.disconnect(),w=null,h&&cancelAnimationFrame(T)}}const Wk=Tk,qk=bk,Gk=wk,Kk=Sk,Qk=Ek,nw=_k,Yk=Ck,Zk=(t,e,n)=>{const r=new Map,i={platform:Bk,...n},a={...i.platform,_c:r};return vk(t,e,{...i,platform:a})};var lf=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Af(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Af(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Af(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Hx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rw(t,e){const n=Hx(t);return Math.round(e*n)/n}function bm(t){const e=C.useRef(t);return lf(()=>{e.current=t}),e}function Xk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:h,open:p}=t,[g,v]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[E,w]=C.useState(r);Af(E,r)||w(r);const[T,b]=C.useState(null),[A,k]=C.useState(null),V=C.useCallback(re=>{re!==J.current&&(J.current=re,b(re))},[]),F=C.useCallback(re=>{re!==O.current&&(O.current=re,k(re))},[]),z=a||T,q=l||A,J=C.useRef(null),O=C.useRef(null),I=C.useRef(g),N=h!=null,L=bm(h),U=bm(i),M=bm(p),D=C.useCallback(()=>{if(!J.current||!O.current)return;const re={placement:e,strategy:n,middleware:E};U.current&&(re.platform=U.current),Zk(J.current,O.current,re).then(ne=>{const ae={...ne,isPositioned:M.current!==!1};we.current&&!Af(I.current,ae)&&(I.current=ae,Kg.flushSync(()=>{v(ae)}))})},[E,e,n,U,M]);lf(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(re=>({...re,isPositioned:!1})))},[p]);const we=C.useRef(!1);lf(()=>(we.current=!0,()=>{we.current=!1}),[]),lf(()=>{if(z&&(J.current=z),q&&(O.current=q),z&&q){if(L.current)return L.current(z,q,D);D()}},[z,q,D,L,N]);const Le=C.useMemo(()=>({reference:J,floating:O,setReference:V,setFloating:F}),[V,F]),Ce=C.useMemo(()=>({reference:z,floating:q}),[z,q]),xe=C.useMemo(()=>{const re={position:n,left:0,top:0};if(!Ce.floating)return re;const ne=rw(Ce.floating,g.x),ae=rw(Ce.floating,g.y);return c?{...re,transform:"translate("+ne+"px, "+ae+"px)",...Hx(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,c,Ce.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:D,refs:Le,elements:Ce,floatingStyles:xe}),[g,D,Le,Ce,xe])}const Jk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?nw({element:r.current,padding:i}).fn(n):{}:r?nw({element:r,padding:i}).fn(n):{}}}},eP=(t,e)=>({...Wk(t),options:[t,e]}),tP=(t,e)=>({...qk(t),options:[t,e]}),nP=(t,e)=>({...Yk(t),options:[t,e]}),rP=(t,e)=>({...Gk(t),options:[t,e]}),sP=(t,e)=>({...Kk(t),options:[t,e]}),iP=(t,e)=>({...Qk(t),options:[t,e]}),oP=(t,e)=>({...Jk(t),options:[t,e]});var aP="Arrow",Wx=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return S.jsx(bt.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wx.displayName=aP;var lP=Wx;function uP(t){const[e,n]=C.useState(void 0);return Xi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,c=p.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sy="Popper",[qx,Gx]=go(sy),[cP,Kx]=qx(sy),Qx=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return S.jsx(cP,{scope:e,anchor:r,onAnchorChange:i,children:n})};Qx.displayName=sy;var Yx="PopperAnchor",Zx=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=Kx(Yx,n),l=C.useRef(null),c=Pn(e,l);return C.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:S.jsx(bt.div,{...i,ref:c})});Zx.displayName=Yx;var iy="PopperContent",[dP,fP]=qx(iy),Xx=C.forwardRef((t,e)=>{var Se,Be,je,st,ht,pt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:w="optimized",onPlaced:T,...b}=t,A=Kx(iy,n),[k,V]=C.useState(null),F=Pn(e,yt=>V(yt)),[z,q]=C.useState(null),J=uP(z),O=(J==null?void 0:J.width)??0,I=(J==null?void 0:J.height)??0,N=r+(a!=="center"?"-"+a:""),L=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(p)?p:[p],M=U.length>0,D={padding:L,boundary:U.filter(pP),altBoundary:M},{refs:we,floatingStyles:Le,placement:Ce,isPositioned:xe,middlewareData:re}=Xk({strategy:"fixed",placement:N,whileElementsMounted:(...yt)=>Hk(...yt,{animationFrame:w==="always"}),elements:{reference:A.anchor},middleware:[eP({mainAxis:i+I,alignmentAxis:l}),h&&tP({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?nP():void 0,...D}),h&&rP({...D}),sP({...D,apply:({elements:yt,rects:zt,availableWidth:$t,availableHeight:$n})=>{const{width:or,height:$}=zt.reference,K=yt.floating.style;K.setProperty("--radix-popper-available-width",`${$t}px`),K.setProperty("--radix-popper-available-height",`${$n}px`),K.setProperty("--radix-popper-anchor-width",`${or}px`),K.setProperty("--radix-popper-anchor-height",`${$}px`)}}),z&&oP({element:z,padding:c}),mP({arrowWidth:O,arrowHeight:I}),E&&iP({strategy:"referenceHidden",...D})]}),[ne,ae]=tT(Ce),H=ii(T);Xi(()=>{xe&&(H==null||H())},[xe,H]);const Z=(Se=re.arrow)==null?void 0:Se.x,he=(Be=re.arrow)==null?void 0:Be.y,ge=((je=re.arrow)==null?void 0:je.centerOffset)!==0,[be,ve]=C.useState();return Xi(()=>{k&&ve(window.getComputedStyle(k).zIndex)},[k]),S.jsx("div",{ref:we.setFloating,"data-radix-popper-content-wrapper":"",style:{...Le,transform:xe?Le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(st=re.transformOrigin)==null?void 0:st.x,(ht=re.transformOrigin)==null?void 0:ht.y].join(" "),...((pt=re.hide)==null?void 0:pt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(dP,{scope:n,placedSide:ne,onArrowChange:q,arrowX:Z,arrowY:he,shouldHideArrow:ge,children:S.jsx(bt.div,{"data-side":ne,"data-align":ae,...b,ref:F,style:{...b.style,animation:xe?void 0:"none"}})})})});Xx.displayName=iy;var Jx="PopperArrow",hP={top:"bottom",right:"left",bottom:"top",left:"right"},eT=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=fP(Jx,r),l=hP[a.placedSide];return S.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:S.jsx(lP,{...i,ref:n,style:{...i.style,display:"block"}})})});eT.displayName=Jx;function pP(t){return t!==null}var mP=t=>({name:"transformOrigin",options:t,fn(e){var A,k,V;const{placement:n,rects:r,middlewareData:i}=e,l=((A=i.arrow)==null?void 0:A.centerOffset)!==0,c=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,g]=tT(n),v={start:"0%",center:"50%",end:"100%"}[g],E=(((k=i.arrow)==null?void 0:k.x)??0)+c/2,w=(((V=i.arrow)==null?void 0:V.y)??0)+h/2;let T="",b="";return p==="bottom"?(T=l?v:`${E}px`,b=`${-h}px`):p==="top"?(T=l?v:`${E}px`,b=`${r.floating.height+h}px`):p==="right"?(T=`${-h}px`,b=l?v:`${w}px`):p==="left"&&(T=`${r.floating.width+h}px`,b=l?v:`${w}px`),{data:{x:T,y:b}}}});function tT(t){const[e,n="center"]=t.split("-");return[e,n]}var gP=Qx,yP=Zx,vP=Xx,_P=eT,wP="Portal",nT=C.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,a]=C.useState(!1);Xi(()=>a(!0),[]);const l=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?xx.createPortal(S.jsx(bt.div,{...r,ref:e}),l):null});nT.displayName=wP;function EP(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var ea=t=>{const{present:e,children:n}=t,r=xP(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),a=Pn(r.ref,TP(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};ea.displayName="Presence";function xP(t){const[e,n]=C.useState(),r=C.useRef({}),i=C.useRef(t),a=C.useRef("none"),l=t?"mounted":"unmounted",[c,h]=EP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=Gd(r.current);a.current=c==="mounted"?p:"none"},[c]),Xi(()=>{const p=r.current,g=i.current;if(g!==t){const E=a.current,w=Gd(p);t?h("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&E!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),Xi(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=w=>{const b=Gd(r.current).includes(w.animationName);if(w.target===e&&b&&(h("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},E=w=>{w.target===e&&(a.current=Gd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function Gd(t){return(t==null?void 0:t.animationName)||"none"}function TP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ta({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=bP({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,c=ii(n),h=C.useCallback(p=>{if(a){const v=typeof p=="function"?p(t):p;v!==t&&c(v)}else i(p)},[a,t,i,c]);return[l,h]}function bP({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,i=C.useRef(r),a=ii(e);return C.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var CP="VisuallyHidden",rT=C.forwardRef((t,e)=>S.jsx(bt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));rT.displayName=CP;var SP=rT,[uh,G9]=go("Tooltip",[Gx]),ch=Gx(),sT="TooltipProvider",AP=700,tg="tooltip.open",[RP,oy]=uh(sT),iT=t=>{const{__scopeTooltip:e,delayDuration:n=AP,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,[l,c]=C.useState(!0),h=C.useRef(!1),p=C.useRef(0);return C.useEffect(()=>{const g=p.current;return()=>window.clearTimeout(g)},[]),S.jsx(RP,{scope:e,isOpenDelayed:l,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(p.current),c(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:C.useCallback(g=>{h.current=g},[]),disableHoverableContent:i,children:a})};iT.displayName=sT;var dh="Tooltip",[IP,fh]=uh(dh),oT=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:c}=t,h=oy(dh,t.__scopeTooltip),p=ch(e),[g,v]=C.useState(null),E=zi(),w=C.useRef(0),T=l??h.disableHoverableContent,b=c??h.delayDuration,A=C.useRef(!1),[k=!1,V]=ta({prop:r,defaultProp:i,onChange:O=>{O?(h.onOpen(),document.dispatchEvent(new CustomEvent(tg))):h.onClose(),a==null||a(O)}}),F=C.useMemo(()=>k?A.current?"delayed-open":"instant-open":"closed",[k]),z=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,A.current=!1,V(!0)},[V]),q=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,V(!1)},[V]),J=C.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{A.current=!0,V(!0),w.current=0},b)},[b,V]);return C.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),S.jsx(gP,{...p,children:S.jsx(IP,{scope:e,contentId:E,open:k,stateAttribute:F,trigger:g,onTriggerChange:v,onTriggerEnter:C.useCallback(()=>{h.isOpenDelayed?J():z()},[h.isOpenDelayed,J,z]),onTriggerLeave:C.useCallback(()=>{T?q():(window.clearTimeout(w.current),w.current=0)},[q,T]),onOpen:z,onClose:q,disableHoverableContent:T,children:n})})};oT.displayName=dh;var ng="TooltipTrigger",aT=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=fh(ng,n),a=oy(ng,n),l=ch(n),c=C.useRef(null),h=Pn(e,c,i.onTriggerChange),p=C.useRef(!1),g=C.useRef(!1),v=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),S.jsx(yP,{asChild:!0,...l,children:S.jsx(bt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:h,onPointerMove:kt(t.onPointerMove,E=>{E.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:kt(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:kt(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:kt(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:kt(t.onBlur,i.onClose),onClick:kt(t.onClick,i.onClose)})})});aT.displayName=ng;var kP="TooltipPortal",[K9,PP]=uh(kP,{forceMount:void 0}),cl="TooltipContent",lT=C.forwardRef((t,e)=>{const n=PP(cl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,l=fh(cl,t.__scopeTooltip);return S.jsx(ea,{present:r||l.open,children:l.disableHoverableContent?S.jsx(uT,{side:i,...a,ref:e}):S.jsx(NP,{side:i,...a,ref:e})})}),NP=C.forwardRef((t,e)=>{const n=fh(cl,t.__scopeTooltip),r=oy(cl,t.__scopeTooltip),i=C.useRef(null),a=Pn(e,i),[l,c]=C.useState(null),{trigger:h,onClose:p}=n,g=i.current,{onPointerInTransitChange:v}=r,E=C.useCallback(()=>{c(null),v(!1)},[v]),w=C.useCallback((T,b)=>{const A=T.currentTarget,k={x:T.clientX,y:T.clientY},V=VP(k,A.getBoundingClientRect()),F=LP(k,V),z=jP(b.getBoundingClientRect()),q=UP([...F,...z]);c(q),v(!0)},[v]);return C.useEffect(()=>()=>E(),[E]),C.useEffect(()=>{if(h&&g){const T=A=>w(A,g),b=A=>w(A,h);return h.addEventListener("pointerleave",T),g.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",T),g.removeEventListener("pointerleave",b)}}},[h,g,w,E]),C.useEffect(()=>{if(l){const T=b=>{const A=b.target,k={x:b.clientX,y:b.clientY},V=(h==null?void 0:h.contains(A))||(g==null?void 0:g.contains(A)),F=!FP(k,l);V?E():F&&(E(),p())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[h,g,l,p,E]),S.jsx(uT,{...t,ref:a})}),[OP,DP]=uh(dh,{isInside:!1}),uT=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=t,h=fh(cl,n),p=ch(n),{onClose:g}=h;return C.useEffect(()=>(document.addEventListener(tg,g),()=>document.removeEventListener(tg,g)),[g]),C.useEffect(()=>{if(h.trigger){const v=E=>{const w=E.target;w!=null&&w.contains(h.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[h.trigger,g]),S.jsx(Yg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:S.jsxs(vP,{"data-state":h.stateAttribute,...p,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(Nx,{children:r}),S.jsx(OP,{scope:n,isInside:!0,children:S.jsx(SP,{id:h.contentId,role:"tooltip",children:i||r})})]})})});lT.displayName=cl;var cT="TooltipArrow",MP=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ch(n);return DP(cT,n).isInside?null:S.jsx(_P,{...i,...r,ref:e})});MP.displayName=cT;function VP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function LP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function jP(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function FP(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a].x,h=e[a].y,p=e[l].x,g=e[l].y;h>r!=g>r&&n<(p-c)*(r-h)/(g-h)+c&&(i=!i)}return i}function UP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$P(e)}function $P(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var BP=iT,zP=oT,HP=aT,dT=lT;const WP=BP,qP=zP,GP=HP,fT=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx(dT,{ref:r,sideOffset:e,className:Xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));fT.displayName=dT.displayName;const KP=ih("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),es=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?Zi:"button";return S.jsx(l,{className:Xe(KP({variant:e,size:n,className:t})),ref:a,...i})});es.displayName="Button";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},h)=>C.createElement("svg",{ref:h,...YP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hT("lucide",i),...c},[...l.map(([p,g])=>C.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(t,e)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(ZP,{ref:a,iconNode:e,className:hT(`lucide-${QP(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JP=Ut("ChevronDown",XP);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tN=Ut("ChevronRight",eN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cm=Ut("CircleCheck",nN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],sN=Ut("CircleStop",rN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oN=Ut("Eye",iN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],lN=Ut("House",aN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],pT=Ut("Lightbulb",uN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],hh=Ut("Loader",cN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],fN=Ut("Mic",dN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],pN=Ut("Newspaper",hN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sw=Ut("Plus",mN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yN=Ut("RefreshCw",gN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_N=Ut("Save",vN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mT=Ut("Sparkles",wN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xN=Ut("Star",EN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],bN=Ut("Trash2",TN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],SN=Ut("Trash",CN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],RN=Ut("VideoOff",AN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],kN=Ut("Video",IN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],NN=Ut("Volume2",PN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],DN=Ut("VolumeX",ON);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"10",r:"8",key:"1gshiw"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 22h10",key:"10w4w3"}],["path",{d:"M12 22v-4",key:"1utk9m"}]],gT=Ut("Webcam",MN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LN=Ut("X",VN),ni=({content:t,icon:e,onClick:n,buttonVariant:r="ghost",buttonClassName:i="",delay:a=0,disabled:l=!1,loading:c=!1})=>S.jsx(WP,{delayDuration:a,children:S.jsxs(qP,{children:[S.jsx(GP,{asChild:!0,children:S.jsxs("span",{className:l?"cursor-not-allowed":"cursor-pointer",children:[" ",S.jsx(es,{size:"icon",disabled:l,variant:r,className:i,onClick:n,children:c?S.jsx(hh,{className:"min-w-4 min-h-4 animate-spin text-emerald-400"}):e})]})}),S.jsx(fT,{children:S.jsx("p",{children:c?"Loading...":t})})]})}),jN=()=>{};var iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,g=a>>2,v=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,w=p&63;h||(w=64,l||(E=64)),r.push(n[g],n[v],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||v==null)throw new UN;const E=a<<2|c>>4;if(r.push(E),p!==64){const w=c<<4&240|p>>2;if(r.push(w),v!==64){const T=p<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(t){const e=yT(t);return vT.encodeByteArray(e,!0)},Rf=function(t){return $N(t).replace(/\./g,"")},BN=function(t){try{return vT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=()=>zN().__FIREBASE_DEFAULTS__,WN=()=>{if(typeof process>"u"||typeof iw>"u")return;const t=iw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BN(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return jN()||HN()||WN()||qN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GN=t=>{var e,n;return(n=(e=ay())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KN=t=>{const e=GN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_T=()=>{var t;return(t=ay())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XN(){var t;const e=(t=ay())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JN(){return!XN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e2(){try{return typeof indexedDB=="object"}catch{return!1}}function t2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="FirebaseError";class Al extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n2,Object.setPrototypeOf(this,Al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wT.prototype.create)}}class wT{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?r2(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Al(i,c,r)}}function r2(t,e){return t.replace(s2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s2=/\{\$([^}]+)}/g;function If(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(ow(a)&&ow(l)){if(!If(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ow(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){return t&&t._delegate?t._delegate:t}class Wu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o2(t){return t===Bo?void 0:t}function a2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dt||(dt={}));const u2={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},c2=dt.INFO,d2={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},f2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=d2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ET{constructor(e){this.name=e,this._logLevel=c2,this._logHandler=f2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const h2=(t,e)=>e.some(n=>t instanceof n);let aw,lw;function p2(){return aw||(aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return lw||(lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,rg=new WeakMap,TT=new WeakMap,Sm=new WeakMap,ly=new WeakMap;function g2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Hi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&xT.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function y2(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});rg.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v2(t){sg=t(sg)}function _2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Am(this),e,...n);return TT.set(r,e.sort?e.sort():[e]),Hi(r)}:m2().includes(t)?function(...e){return t.apply(Am(this),e),Hi(xT.get(this))}:function(...e){return Hi(t.apply(Am(this),e))}}function w2(t){return typeof t=="function"?_2(t):(t instanceof IDBTransaction&&y2(t),h2(t,p2())?new Proxy(t,sg):t)}function Hi(t){if(t instanceof IDBRequest)return g2(t);if(Sm.has(t))return Sm.get(t);const e=w2(t);return e!==t&&(Sm.set(t,e),ly.set(e,t)),e}const Am=t=>ly.get(t);function E2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=Hi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Hi(l.result),h.oldVersion,h.newVersion,Hi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const x2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],Rm=new Map;function uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x2.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&h.done]))[0]};return Rm.set(e,a),a}v2(t=>({...t,get:(e,n,r)=>uw(e,n)||t.get(e,n,r),has:(e,n)=>!!uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",cw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new ET("@firebase/app"),S2="@firebase/app-compat",A2="@firebase/analytics-compat",R2="@firebase/analytics",I2="@firebase/app-check-compat",k2="@firebase/app-check",P2="@firebase/auth",N2="@firebase/auth-compat",O2="@firebase/database",D2="@firebase/data-connect",M2="@firebase/database-compat",V2="@firebase/functions",L2="@firebase/functions-compat",j2="@firebase/installations",F2="@firebase/installations-compat",U2="@firebase/messaging",$2="@firebase/messaging-compat",B2="@firebase/performance",z2="@firebase/performance-compat",H2="@firebase/remote-config",W2="@firebase/remote-config-compat",q2="@firebase/storage",G2="@firebase/storage-compat",K2="@firebase/firestore",Q2="@firebase/vertexai",Y2="@firebase/firestore-compat",Z2="firebase",X2="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",J2={[ig]:"fire-core",[S2]:"fire-core-compat",[R2]:"fire-analytics",[A2]:"fire-analytics-compat",[k2]:"fire-app-check",[I2]:"fire-app-check-compat",[P2]:"fire-auth",[N2]:"fire-auth-compat",[O2]:"fire-rtdb",[D2]:"fire-data-connect",[M2]:"fire-rtdb-compat",[V2]:"fire-fn",[L2]:"fire-fn-compat",[j2]:"fire-iid",[F2]:"fire-iid-compat",[U2]:"fire-fcm",[$2]:"fire-fcm-compat",[B2]:"fire-perf",[z2]:"fire-perf-compat",[H2]:"fire-rc",[W2]:"fire-rc-compat",[q2]:"fire-gcs",[G2]:"fire-gcs-compat",[K2]:"fire-fst",[Y2]:"fire-fst-compat",[Q2]:"fire-vertex","fire-js":"fire-js",[Z2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,eO=new Map,ag=new Map;function dw(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kf(t){const e=t.name;if(ag.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of qu.values())dw(n,t);for(const n of eO.values())dw(n,t);return!0}function tO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nO(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new wT("app","Firebase",rO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=X2;function bT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=_T()),!n)throw Wi.create("no-options");const a=qu.get(i);if(a){if(If(n,a.options)&&If(r,a.config))return a;throw Wi.create("duplicate-app",{appName:i})}const l=new l2(i);for(const h of ag.values())l.addComponent(h);const c=new sO(n,r,l);return qu.set(i,c),c}function CT(t=og){const e=qu.get(t);if(!e&&t===og&&_T())return bT();if(!e)throw Wi.create("no-app",{appName:t});return e}function oO(){return Array.from(qu.values())}function il(t,e,n){var r;let i=(r=J2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(c.join(" "));return}kf(new Wu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firebase-heartbeat-database",lO=1,Gu="firebase-heartbeat-store";let Im=null;function ST(){return Im||(Im=E2(aO,lO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Im}async function uO(t){try{const n=(await ST()).transaction(Gu),r=await n.objectStore(Gu).get(AT(t));return await n.done,r}catch(e){if(e instanceof Al)li.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function fw(t,e){try{const r=(await ST()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,AT(t)),await r.done}catch(n){if(n instanceof Al)li.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(r.message)}}}function AT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=1024,dO=30;class fO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dO){const l=mO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hw(),{heartbeatsToSend:r,unsentEntries:i}=hO(this._heartbeatsCache.heartbeats),a=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return li.warn(n),""}}}function hw(){return new Date().toISOString().substring(0,10)}function hO(t,e=cO){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),pw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e2()?t2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pw(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}function mO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){kf(new Wu("platform-logger",e=>new b2(e),"PRIVATE")),kf(new Wu("heartbeat",e=>new fO(e),"PRIVATE")),il(ig,cw,t),il(ig,cw,"esm2017"),il("fire-js","")}gO("");var mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,RT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function N(){}N.prototype=I.prototype,O.D=I.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(L,U,M){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return I.prototype[U].apply(L,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,I,N){N||(N=0);var L=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)L[U]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(U=0;16>U;++U)L[U]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=O.g[0],N=O.g[1],U=O.g[2];var M=O.g[3],D=I+(M^N&(U^M))+L[0]+3614090360&4294967295;I=N+(D<<7&4294967295|D>>>25),D=M+(U^I&(N^U))+L[1]+3905402710&4294967295,M=I+(D<<12&4294967295|D>>>20),D=U+(N^M&(I^N))+L[2]+606105819&4294967295,U=M+(D<<17&4294967295|D>>>15),D=N+(I^U&(M^I))+L[3]+3250441966&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+(M^N&(U^M))+L[4]+4118548399&4294967295,I=N+(D<<7&4294967295|D>>>25),D=M+(U^I&(N^U))+L[5]+1200080426&4294967295,M=I+(D<<12&4294967295|D>>>20),D=U+(N^M&(I^N))+L[6]+2821735955&4294967295,U=M+(D<<17&4294967295|D>>>15),D=N+(I^U&(M^I))+L[7]+4249261313&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+(M^N&(U^M))+L[8]+1770035416&4294967295,I=N+(D<<7&4294967295|D>>>25),D=M+(U^I&(N^U))+L[9]+2336552879&4294967295,M=I+(D<<12&4294967295|D>>>20),D=U+(N^M&(I^N))+L[10]+4294925233&4294967295,U=M+(D<<17&4294967295|D>>>15),D=N+(I^U&(M^I))+L[11]+2304563134&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+(M^N&(U^M))+L[12]+1804603682&4294967295,I=N+(D<<7&4294967295|D>>>25),D=M+(U^I&(N^U))+L[13]+4254626195&4294967295,M=I+(D<<12&4294967295|D>>>20),D=U+(N^M&(I^N))+L[14]+2792965006&4294967295,U=M+(D<<17&4294967295|D>>>15),D=N+(I^U&(M^I))+L[15]+1236535329&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+(U^M&(N^U))+L[1]+4129170786&4294967295,I=N+(D<<5&4294967295|D>>>27),D=M+(N^U&(I^N))+L[6]+3225465664&4294967295,M=I+(D<<9&4294967295|D>>>23),D=U+(I^N&(M^I))+L[11]+643717713&4294967295,U=M+(D<<14&4294967295|D>>>18),D=N+(M^I&(U^M))+L[0]+3921069994&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(U^M&(N^U))+L[5]+3593408605&4294967295,I=N+(D<<5&4294967295|D>>>27),D=M+(N^U&(I^N))+L[10]+38016083&4294967295,M=I+(D<<9&4294967295|D>>>23),D=U+(I^N&(M^I))+L[15]+3634488961&4294967295,U=M+(D<<14&4294967295|D>>>18),D=N+(M^I&(U^M))+L[4]+3889429448&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(U^M&(N^U))+L[9]+568446438&4294967295,I=N+(D<<5&4294967295|D>>>27),D=M+(N^U&(I^N))+L[14]+3275163606&4294967295,M=I+(D<<9&4294967295|D>>>23),D=U+(I^N&(M^I))+L[3]+4107603335&4294967295,U=M+(D<<14&4294967295|D>>>18),D=N+(M^I&(U^M))+L[8]+1163531501&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(U^M&(N^U))+L[13]+2850285829&4294967295,I=N+(D<<5&4294967295|D>>>27),D=M+(N^U&(I^N))+L[2]+4243563512&4294967295,M=I+(D<<9&4294967295|D>>>23),D=U+(I^N&(M^I))+L[7]+1735328473&4294967295,U=M+(D<<14&4294967295|D>>>18),D=N+(M^I&(U^M))+L[12]+2368359562&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(N^U^M)+L[5]+4294588738&4294967295,I=N+(D<<4&4294967295|D>>>28),D=M+(I^N^U)+L[8]+2272392833&4294967295,M=I+(D<<11&4294967295|D>>>21),D=U+(M^I^N)+L[11]+1839030562&4294967295,U=M+(D<<16&4294967295|D>>>16),D=N+(U^M^I)+L[14]+4259657740&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(N^U^M)+L[1]+2763975236&4294967295,I=N+(D<<4&4294967295|D>>>28),D=M+(I^N^U)+L[4]+1272893353&4294967295,M=I+(D<<11&4294967295|D>>>21),D=U+(M^I^N)+L[7]+4139469664&4294967295,U=M+(D<<16&4294967295|D>>>16),D=N+(U^M^I)+L[10]+3200236656&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(N^U^M)+L[13]+681279174&4294967295,I=N+(D<<4&4294967295|D>>>28),D=M+(I^N^U)+L[0]+3936430074&4294967295,M=I+(D<<11&4294967295|D>>>21),D=U+(M^I^N)+L[3]+3572445317&4294967295,U=M+(D<<16&4294967295|D>>>16),D=N+(U^M^I)+L[6]+76029189&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(N^U^M)+L[9]+3654602809&4294967295,I=N+(D<<4&4294967295|D>>>28),D=M+(I^N^U)+L[12]+3873151461&4294967295,M=I+(D<<11&4294967295|D>>>21),D=U+(M^I^N)+L[15]+530742520&4294967295,U=M+(D<<16&4294967295|D>>>16),D=N+(U^M^I)+L[2]+3299628645&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(U^(N|~M))+L[0]+4096336452&4294967295,I=N+(D<<6&4294967295|D>>>26),D=M+(N^(I|~U))+L[7]+1126891415&4294967295,M=I+(D<<10&4294967295|D>>>22),D=U+(I^(M|~N))+L[14]+2878612391&4294967295,U=M+(D<<15&4294967295|D>>>17),D=N+(M^(U|~I))+L[5]+4237533241&4294967295,N=U+(D<<21&4294967295|D>>>11),D=I+(U^(N|~M))+L[12]+1700485571&4294967295,I=N+(D<<6&4294967295|D>>>26),D=M+(N^(I|~U))+L[3]+2399980690&4294967295,M=I+(D<<10&4294967295|D>>>22),D=U+(I^(M|~N))+L[10]+4293915773&4294967295,U=M+(D<<15&4294967295|D>>>17),D=N+(M^(U|~I))+L[1]+2240044497&4294967295,N=U+(D<<21&4294967295|D>>>11),D=I+(U^(N|~M))+L[8]+1873313359&4294967295,I=N+(D<<6&4294967295|D>>>26),D=M+(N^(I|~U))+L[15]+4264355552&4294967295,M=I+(D<<10&4294967295|D>>>22),D=U+(I^(M|~N))+L[6]+2734768916&4294967295,U=M+(D<<15&4294967295|D>>>17),D=N+(M^(U|~I))+L[13]+1309151649&4294967295,N=U+(D<<21&4294967295|D>>>11),D=I+(U^(N|~M))+L[4]+4149444226&4294967295,I=N+(D<<6&4294967295|D>>>26),D=M+(N^(I|~U))+L[11]+3174756917&4294967295,M=I+(D<<10&4294967295|D>>>22),D=U+(I^(M|~N))+L[2]+718787259&4294967295,U=M+(D<<15&4294967295|D>>>17),D=N+(M^(U|~I))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+M&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var N=I-this.blockSize,L=this.B,U=this.h,M=0;M<I;){if(U==0)for(;M<=N;)i(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<I;)if(L[U++]=O.charCodeAt(M++),U==this.blockSize){i(this,L),U=0;break}}else for(;M<I;)if(L[U++]=O[M++],U==this.blockSize){i(this,L),U=0;break}}this.h=U,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var N=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=N&255,N/=256;for(this.u(O),O=Array(16),I=N=0;4>I;++I)for(var L=0;32>L;L+=8)O[N++]=this.g[I]>>>L&255;return O};function a(O,I){var N=c;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=I(O)}function l(O,I){this.h=I;for(var N=[],L=!0,U=O.length-1;0<=U;U--){var M=O[U]|0;L&&M==I||(N[U]=M,L=!1)}this.g=N}var c={};function h(O){return-128<=O&&128>O?a(O,function(I){return new l([I|0],0>I?-1:0)}):new l([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return A(p(-O));for(var I=[],N=1,L=0;O>=N;L++)I[L]=O/N|0,N*=4294967296;return new l(I,0)}function g(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return A(g(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(I,8)),L=v,U=0;U<O.length;U+=8){var M=Math.min(8,O.length-U),D=parseInt(O.substring(U,U+M),I);8>M?(M=p(Math.pow(I,M)),L=L.j(M).add(p(D))):(L=L.j(N),L=L.add(p(D)))}return L}var v=h(0),E=h(1),w=h(16777216);t=l.prototype,t.m=function(){if(b(this))return-A(this).m();for(var O=0,I=1,N=0;N<this.g.length;N++){var L=this.i(N);O+=(0<=L?L:4294967296+L)*I,I*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(T(this))return"0";if(b(this))return"-"+A(this).toString(O);for(var I=p(Math.pow(O,6)),N=this,L="";;){var U=z(N,I).g;N=k(N,U.j(I));var M=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=U,T(N))return M+L;for(;6>M.length;)M="0"+M;L=M+L}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function T(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function b(O){return O.h==-1}t.l=function(O){return O=k(this,O),b(O)?-1:T(O)?0:1};function A(O){for(var I=O.g.length,N=[],L=0;L<I;L++)N[L]=~O.g[L];return new l(N,~O.h).add(E)}t.abs=function(){return b(this)?A(this):this},t.add=function(O){for(var I=Math.max(this.g.length,O.g.length),N=[],L=0,U=0;U<=I;U++){var M=L+(this.i(U)&65535)+(O.i(U)&65535),D=(M>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);L=D>>>16,M&=65535,D&=65535,N[U]=D<<16|M}return new l(N,N[N.length-1]&-2147483648?-1:0)};function k(O,I){return O.add(A(I))}t.j=function(O){if(T(this)||T(O))return v;if(b(this))return b(O)?A(this).j(A(O)):A(A(this).j(O));if(b(O))return A(this.j(A(O)));if(0>this.l(w)&&0>O.l(w))return p(this.m()*O.m());for(var I=this.g.length+O.g.length,N=[],L=0;L<2*I;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<O.g.length;U++){var M=this.i(L)>>>16,D=this.i(L)&65535,we=O.i(U)>>>16,Le=O.i(U)&65535;N[2*L+2*U]+=D*Le,V(N,2*L+2*U),N[2*L+2*U+1]+=M*Le,V(N,2*L+2*U+1),N[2*L+2*U+1]+=D*we,V(N,2*L+2*U+1),N[2*L+2*U+2]+=M*we,V(N,2*L+2*U+2)}for(L=0;L<I;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=I;L<2*I;L++)N[L]=0;return new l(N,0)};function V(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function F(O,I){this.g=O,this.h=I}function z(O,I){if(T(I))throw Error("division by zero");if(T(O))return new F(v,v);if(b(O))return I=z(A(O),I),new F(A(I.g),A(I.h));if(b(I))return I=z(O,A(I)),new F(A(I.g),I.h);if(30<O.g.length){if(b(O)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var N=E,L=I;0>=L.l(O);)N=q(N),L=q(L);var U=J(N,1),M=J(L,1);for(L=J(L,2),N=J(N,2);!T(L);){var D=M.add(L);0>=D.l(O)&&(U=U.add(N),M=D),L=J(L,1),N=J(N,1)}return I=k(O,U.j(I)),new F(U,I)}for(U=v;0<=O.l(I);){for(N=Math.max(1,Math.floor(O.m()/I.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),M=p(N),D=M.j(I);b(D)||0<D.l(O);)N-=L,M=p(N),D=M.j(I);T(M)&&(M=E),U=U.add(M),O=k(O,D)}return new F(U,O)}t.A=function(O){return z(this,O).h},t.and=function(O){for(var I=Math.max(this.g.length,O.g.length),N=[],L=0;L<I;L++)N[L]=this.i(L)&O.i(L);return new l(N,this.h&O.h)},t.or=function(O){for(var I=Math.max(this.g.length,O.g.length),N=[],L=0;L<I;L++)N[L]=this.i(L)|O.i(L);return new l(N,this.h|O.h)},t.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),N=[],L=0;L<I;L++)N[L]=this.i(L)^O.i(L);return new l(N,this.h^O.h)};function q(O){for(var I=O.g.length+1,N=[],L=0;L<I;L++)N[L]=O.i(L)<<1|O.i(L-1)>>>31;return new l(N,O.h)}function J(O,I){var N=I>>5;I%=32;for(var L=O.g.length-N,U=[],M=0;M<L;M++)U[M]=0<I?O.i(M+N)>>>I|O.i(M+N+1)<<32-I:O.i(M+N);return new l(U,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,qi=l}).apply(typeof mw<"u"?mw:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Eu,kT,uf,lg,PT,NT,OT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,x){return d==Array.prototype||d==Object.prototype||(d[y]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var y=0;y<d.length;++y){var x=d[y];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var x=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var G=d[P];if(!(G in x))break e;x=x[G]}d=d[d.length-1],P=x[d],y=y(P),y!=P&&y!=null&&e(x,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var x=0,P=!1,G={next:function(){if(!P&&x<d.length){var te=x++;return{value:y(te,d[te]),done:!1}}return P=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,x){return d.call.apply(d.bind,arguments)}function v(d,y,x){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,P),d.apply(y,G)}}return function(){return d.apply(y,arguments)}}function E(d,y,x){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function w(d,y){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function T(d,y){function x(){}x.prototype=y.prototype,d.aa=y.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(P,G,te){for(var _e=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)_e[xt-2]=arguments[xt];return y.prototype[G].apply(P,_e)}}function b(d){const y=d.length;if(0<y){const x=Array(y);for(let P=0;P<y;P++)x[P]=d[P];return x}return[]}function A(d,y){for(let x=1;x<arguments.length;x++){const P=arguments[x];if(h(P)){const G=d.length||0,te=P.length||0;d.length=G+te;for(let _e=0;_e<te;_e++)d[G+_e]=P[_e]}else d.push(P)}}class k{constructor(y,x){this.i=y,this.j=x,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function J(d,y,x){for(const P in d)y.call(x,d[P],P,d)}function O(d,y){for(const x in d)y.call(void 0,d[x],x,d)}function I(d){const y={};for(const x in d)y[x]=d[x];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,y){let x,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(x in P)d[x]=P[x];for(let te=0;te<N.length;te++)x=N[te],Object.prototype.hasOwnProperty.call(P,x)&&(d[x]=P[x])}}function U(d){var y=1;d=d.split(":");const x=[];for(;0<y&&d.length;)x.push(d.shift()),y--;return d.length&&x.push(d.join(":")),x}function M(d){c.setTimeout(()=>{throw d},0)}function D(){var d=ne;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,x){const P=Le.get();P.set(y,x),this.h?this.h.next=P:this.g=P,this.h=P}}var Le=new k(()=>new Ce,d=>d.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(y,x){this.h=y,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,re=!1,ne=new we,ae=()=>{const d=c.Promise.resolve(void 0);xe=()=>{d.then(H)}};var H=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(x){M(x)}var y=Le;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}re=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};c.addEventListener("test",x,y),c.removeEventListener("test",x,y)}catch{}return d}();function be(d,y){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(q){e:{try{z(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else x=="mouseover"?y=d.fromElement:x=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&be.aa.h.call(this)}}T(be,he);var ve={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Be=0;function je(d,y,x,P,G){this.listener=d,this.proxy=null,this.src=y,this.type=x,this.capture=!!P,this.ha=G,this.key=++Be,this.da=this.fa=!1}function st(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ht(d){this.src=d,this.g={},this.h=0}ht.prototype.add=function(d,y,x,P,G){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var _e=yt(d,y,P,G);return-1<_e?(y=d[_e],x||(y.fa=!1)):(y=new je(y,this.src,te,!!P,G),y.fa=x,d.push(y)),y};function pt(d,y){var x=y.type;if(x in d.g){var P=d.g[x],G=Array.prototype.indexOf.call(P,y,void 0),te;(te=0<=G)&&Array.prototype.splice.call(P,G,1),te&&(st(y),d.g[x].length==0&&(delete d.g[x],d.h--))}}function yt(d,y,x,P){for(var G=0;G<d.length;++G){var te=d[G];if(!te.da&&te.listener==y&&te.capture==!!x&&te.ha==P)return G}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),$t={};function $n(d,y,x,P,G){if(Array.isArray(y)){for(var te=0;te<y.length;te++)$n(d,y[te],x,P,G);return null}return x=qe(x),d&&d[Se]?d.K(y,x,p(P)?!!P.capture:!1,G):or(d,y,x,!1,P,G)}function or(d,y,x,P,G,te){if(!y)throw Error("Invalid event type");var _e=p(G)?!!G.capture:!!G,xt=le(d);if(xt||(d[zt]=xt=new ht(d)),x=xt.add(y,x,P,_e,te),x.proxy)return x;if(P=$(),x.proxy=P,P.src=d,P.listener=x,d.addEventListener)ge||(G=_e),G===void 0&&(G=!1),d.addEventListener(y.toString(),P,G);else if(d.attachEvent)d.attachEvent(ye(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function $(){function d(x){return y.call(d.src,d.listener,x)}const y=pe;return d}function K(d,y,x,P,G){if(Array.isArray(y))for(var te=0;te<y.length;te++)K(d,y[te],x,P,G);else P=p(P)?!!P.capture:!!P,x=qe(x),d&&d[Se]?(d=d.i,y=String(y).toString(),y in d.g&&(te=d.g[y],x=yt(te,x,P,G),-1<x&&(st(te[x]),Array.prototype.splice.call(te,x,1),te.length==0&&(delete d.g[y],d.h--)))):d&&(d=le(d))&&(y=d.g[y.toString()],d=-1,y&&(d=yt(y,x,P,G)),(x=-1<d?y[d]:null)&&ee(x))}function ee(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Se])pt(y.i,d);else{var x=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(x,P,d.capture):y.detachEvent?y.detachEvent(ye(x),P):y.addListener&&y.removeListener&&y.removeListener(P),(x=le(y))?(pt(x,d),x.h==0&&(x.src=null,y[zt]=null)):st(d)}}}function ye(d){return d in $t?$t[d]:$t[d]="on"+d}function pe(d,y){if(d.da)d=!0;else{y=new be(y,this);var x=d.listener,P=d.ha||d.src;d.fa&&ee(d),d=x.call(P,y)}return d}function le(d){return d=d[zt],d instanceof ht?d:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(d){return typeof d=="function"?d:(d[ke]||(d[ke]=function(y){return d.handleEvent(y)}),d[ke])}function ze(){Z.call(this),this.i=new ht(this),this.M=this,this.F=null}T(ze,Z),ze.prototype[Se]=!0,ze.prototype.removeEventListener=function(d,y,x,P){K(this,d,y,x,P)};function Ye(d,y){var x,P=d.F;if(P)for(x=[];P;P=P.F)x.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new he(y,d);else if(y instanceof he)y.target=y.target||d;else{var G=y;y=new he(P,d),L(y,G)}if(G=!0,x)for(var te=x.length-1;0<=te;te--){var _e=y.g=x[te];G=Qt(_e,P,!0,y)&&G}if(_e=y.g=d,G=Qt(_e,P,!0,y)&&G,G=Qt(_e,P,!1,y)&&G,x)for(te=0;te<x.length;te++)_e=y.g=x[te],G=Qt(_e,P,!1,y)&&G}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var x=d.g[y],P=0;P<x.length;P++)st(x[P]);delete d.g[y],d.h--}}this.F=null},ze.prototype.K=function(d,y,x,P){return this.i.add(String(d),y,!1,x,P)},ze.prototype.L=function(d,y,x,P){return this.i.add(String(d),y,!0,x,P)};function Qt(d,y,x,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,te=0;te<y.length;++te){var _e=y[te];if(_e&&!_e.da&&_e.capture==x){var xt=_e.listener,en=_e.ha||_e.src;_e.fa&&pt(d.i,_e),G=xt.call(en,P)!==!1&&G}}return G&&!P.defaultPrevented}function Ms(d,y,x){if(typeof d=="function")x&&(d=E(d,x));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function fn(d){d.g=Ms(()=>{d.g=null,d.i&&(d.i=!1,fn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class ar extends Z{constructor(y,x){super(),this.m=y,this.l=x,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(d){Z.call(this),this.h=d,this.g={}}T(_r,Z);var wr=[];function Bn(d){J(d.g,function(y,x){this.g.hasOwnProperty(x)&&ee(y)},d),d.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Bn(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=c.JSON.stringify,Er=c.JSON.parse,_o=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Vs(){}Vs.prototype.h=null;function Ls(d){return d.h||(d.h=d.i())}function js(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){he.call(this,"d")}T(Hn,he);function On(){he.call(this,"c")}T(On,he);var xr={},He=null;function it(){return He=He||new ze}xr.La="serverreachability";function vt(d){he.call(this,xr.La,d)}T(vt,he);function Ht(d){const y=it();Ye(y,new vt(y))}xr.STAT_EVENT="statevent";function hn(d,y){he.call(this,xr.STAT_EVENT,d),this.stat=y}T(hn,he);function _t(d){const y=it();Ye(y,new hn(y,d))}xr.Ma="timingevent";function Wn(d,y){he.call(this,xr.Ma,d),this.size=y}T(Wn,he);function Mt(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function wo(d,y,x,P,G,te){d.info(function(){if(d.g)if(te)for(var _e="",xt=te.split("&"),en=0;en<xt.length;en++){var ut=xt[en].split("=");if(1<ut.length){var an=ut[0];ut=ut[1];var Yt=an.split("_");_e=2<=Yt.length&&Yt[1]=="type"?_e+(an+"="+ut+"&"):_e+(an+"=redacted&")}}else _e=null;else _e=te;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+y+`
`+x+`
`+_e})}function oa(d,y,x,P,G,te,_e){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+y+`
`+x+`
`+te+" "+_e})}function Vr(d,y,x,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+zh(d,x)+(P?" "+P:"")})}function Nl(d,y){d.info(function(){return"TIMEOUT: "+y})}xn.prototype.info=function(){};function zh(d,y){if(!d.g)return y;if(!y)return null;try{var x=JSON.parse(y);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var P=x[d];if(!(2>P.length)){var G=P[1];if(Array.isArray(G)&&!(1>G.length)){var te=G[0];if(te!="noop"&&te!="stop"&&te!="close")for(var _e=1;_e<G.length;_e++)G[_e]=""}}}}return Mr(x)}catch{return y}}var aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lr;function Eo(){}T(Eo,Vs),Eo.prototype.g=function(){return new XMLHttpRequest},Eo.prototype.i=function(){return{}},Lr=new Eo;function jr(d,y,x,P){this.j=d,this.i=y,this.l=x,this.R=P||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pc}function Pc(){this.i=null,this.g="",this.h=!1}var Ol={},la={};function ua(d,y,x){d.L=1,d.v=yi(ur(y)),d.m=x,d.P=!0,Dl(d,null)}function Dl(d,y){d.F=Date.now(),Ct(d),d.A=ur(d.v);var x=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),_i(x.i,"t",P),d.C=0,x=d.j.J,d.h=new Pc,d.g=Qc(d.j,x?y:null,!d.m),0<d.O&&(d.M=new ar(E(d.Y,d,d.g),d.O)),y=d.U,x=d.g,P=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(wr[0]=G.toString()),G=wr);for(var te=0;te<G.length;te++){var _e=$n(x,G[te],P||y.handleEvent,!1,y.h||y);if(!_e)break;y.g[_e.key]=_e}y=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ht(),wo(d.i,d.u,d.A,d.l,d.R,d.m)}jr.prototype.ca=function(d){d=d.target;const y=this.M;y&&Gn(d)==3?y.j():this.Y(d)},jr.prototype.Y=function(d){try{if(d==this.g)e:{const Yt=Gn(this.g);var y=this.g.Ba();const Cr=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Ul(this.g)))){this.J||Yt!=4||y==7||(y==8||0>=Cr?Ht(3):Ht(2)),xo(this);var x=this.g.Z();this.X=x;t:if(Nc(this)){var P=Ul(this.g);d="";var G=P.length,te=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),hi(this);var _e="";break t}this.h.i=new c.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(te&&y==G-1)});P.length=0,this.h.g+=d,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=x==200,oa(this.i,this.u,this.A,this.l,this.R,Yt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,en=this.g;if((xt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(xt)){var ut=xt;break t}}ut=null}if(x=ut)Vr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ml(this,x);else{this.o=!1,this.s=3,_t(12),Tr(this),hi(this);break e}}if(this.P){x=!0;let dr;for(;!this.J&&this.C<_e.length;)if(dr=Hh(this,_e),dr==la){Yt==4&&(this.s=4,_t(14),x=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Ol){this.s=4,_t(15),Vr(this.i,this.l,_e,"[Invalid Chunk]"),x=!1;break}else Vr(this.i,this.l,dr,null),Ml(this,dr);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||_e.length!=0||this.h.h||(this.s=1,_t(16),x=!1),this.o=this.o&&x,!x)Vr(this.i,this.l,_e,"[Invalid Chunked Response]"),Tr(this),hi(this);else if(0<_e.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Bl(an),an.M=!0,_t(11))}}else Vr(this.i,this.l,_e,null),Ml(this,_e);Yt==4&&Tr(this),this.o&&!this.J&&(Yt==4?wa(this.j,this):(this.o=!1,Ct(this)))}else ma(this.g),x==400&&0<_e.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Tr(this),hi(this)}}}catch{}finally{}};function Nc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Hh(d,y){var x=d.C,P=y.indexOf(`
`,x);return P==-1?la:(x=Number(y.substring(x,P)),isNaN(x)?Ol:(P+=1,P+x>y.length?la:(y=y.slice(P,P+x),d.C=P+x,y)))}jr.prototype.cancel=function(){this.J=!0,Tr(this)};function Ct(d){d.S=Date.now()+d.I,Oc(d,d.I)}function Oc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Mt(E(d.ba,d),y)}function xo(d){d.B&&(c.clearTimeout(d.B),d.B=null)}jr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Nl(this.i,this.A),this.L!=2&&(Ht(),_t(17)),Tr(this),this.s=2,hi(this)):Oc(this,this.S-d)};function hi(d){d.j.G==0||d.J||wa(d.j,d)}function Tr(d){xo(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Bn(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ml(d,y){try{var x=d.j;if(x.G!=0&&(x.g==d||Dn(x.h,d))){if(!d.K&&Dn(x.h,d)&&x.G==3){try{var P=x.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)_a(x),zr(x);else break e;va(x),_t(18)}}else x.za=G[1],0<x.za-x.T&&37500>G[2]&&x.F&&x.v==0&&!x.C&&(x.C=Mt(E(x.Za,x),6e3));if(1>=Mc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else zs(x,11)}else if((d.K||x.g==d)&&_a(x),!V(y))for(G=x.Da.g.parse(y),y=0;y<G.length;y++){let ut=G[y];if(x.T=ut[0],ut=ut[1],x.G==2)if(ut[0]=="c"){x.K=ut[1],x.ia=ut[2];const an=ut[3];an!=null&&(x.la=an,x.j.info("VER="+x.la));const Yt=ut[4];Yt!=null&&(x.Aa=Yt,x.j.info("SVER="+x.Aa));const Cr=ut[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(P=1.5*Cr,x.L=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const dr=d.g;if(dr){const Io=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var te=P.h;te.g||Io.indexOf("spdy")==-1&&Io.indexOf("quic")==-1&&Io.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Vl(te,te.h),te.h=null))}if(P.D){const xa=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(P.ya=xa,Tt(P.I,P.D,xa))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),P=x;var _e=d;if(P.qa=Kc(P,P.J?P.ia:null,P.W),_e.K){Vc(P.h,_e);var xt=_e,en=P.L;en&&(xt.I=en),xt.B&&(xo(xt),Ct(xt)),P.g=_e}else Ro(P);0<x.i.length&&ps(x)}else ut[0]!="stop"&&ut[0]!="close"||zs(x,7);else x.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?zs(x,7):mn(x):ut[0]!="noop"&&x.l&&x.l.ta(ut),x.v=0)}}Ht(4)}catch{}}var Dc=class{constructor(d,y){this.g=d,this.map=y}};function To(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Mc(d){return d.h?1:d.g?d.g.size:0}function Dn(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Vl(d,y){d.g?d.g.add(y):d.h=y}function Vc(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}To.prototype.cancel=function(){if(this.i=Lc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Lc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const x of d.g.values())y=y.concat(x.D);return y}return b(d.i)}function ca(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],x=d.length,P=0;P<x;P++)y.push(d[P]);return y}y=[],x=0;for(P in d)y[x++]=d[P];return y}function da(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var x=0;x<d;x++)y.push(x);return y}y=[],x=0;for(const P in d)y[x++]=P;return y}}}function pi(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var x=da(d),P=ca(d),G=P.length,te=0;te<G;te++)y.call(void 0,P[te],x&&x[te],d)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(d,y){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var P=d[x].indexOf("="),G=null;if(0<=P){var te=d[x].substring(0,P);G=d[x].substring(P+1)}else te=d[x];y(te,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Fs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Fs){this.h=d.h,Co(this,d.j),this.o=d.o,this.g=d.g,mi(this,d.s),this.l=d.l;var y=d.i,x=new ds;x.i=y.i,y.g&&(x.g=new Map(y.g),x.h=y.h),gi(this,x),this.m=d.m}else d&&(y=String(d).match(bo))?(this.h=!1,Co(this,y[1]||"",!0),this.o=at(y[2]||""),this.g=at(y[3]||"",!0),mi(this,y[4]),this.l=at(y[5]||"",!0),gi(this,y[6]||"",!0),this.m=at(y[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Fs.prototype.toString=function(){var d=[],y=this.j;y&&d.push(vi(y,fa,!0),":");var x=this.g;return(x||y=="file")&&(d.push("//"),(y=this.o)&&d.push(vi(y,fa,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(vi(x,x.charAt(0)=="/"?Uc:Fc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",vi(x,Ll)),d.join("")};function ur(d){return new Fs(d)}function Co(d,y,x){d.j=x?at(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function mi(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function gi(d,y,x){y instanceof ds?(d.i=y,fs(d.i,d.h)):(x||(y=vi(y,$c)),d.i=new ds(y,d.h))}function Tt(d,y,x){d.i.set(y,x)}function yi(d){return Tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function at(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vi(d,y,x){return typeof d=="string"?(d=encodeURI(d).replace(y,jc),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fa=/[#\/\?@]/g,Fc=/[#\?:]/g,Uc=/[#\?]/g,$c=/[#\?@]/g,Ll=/#/g;function ds(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function pn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wh(d.i,function(y,x){d.add(decodeURIComponent(y.replace(/\+/g," ")),x)}))}t=ds.prototype,t.add=function(d,y){pn(this),this.i=null,d=br(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(y),this.h+=1,this};function Fr(d,y){pn(d),y=br(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Ur(d,y){return pn(d),y=br(d,y),d.g.has(y)}t.forEach=function(d,y){pn(this),this.g.forEach(function(x,P){x.forEach(function(G){d.call(y,G,P,this)},this)},this)},t.na=function(){pn(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),x=[];for(let P=0;P<y.length;P++){const G=d[P];for(let te=0;te<G.length;te++)x.push(y[P])}return x},t.V=function(d){pn(this);let y=[];if(typeof d=="string")Ur(this,d)&&(y=y.concat(this.g.get(br(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)y=y.concat(d[x])}return y},t.set=function(d,y){return pn(this),this.i=null,d=br(this,d),Ur(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function _i(d,y,x){Fr(d,y),0<x.length&&(d.i=null,d.g.set(br(d,y),b(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var x=0;x<y.length;x++){var P=y[x];const te=encodeURIComponent(String(P)),_e=this.V(P);for(P=0;P<_e.length;P++){var G=te;_e[P]!==""&&(G+="="+encodeURIComponent(String(_e[P]))),d.push(G)}}return this.i=d.join("&")};function br(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function fs(d,y){y&&!d.j&&(pn(d),d.i=null,d.g.forEach(function(x,P){var G=P.toLowerCase();P!=G&&(Fr(this,P),_i(this,G,x))},d)),d.j=y}function qh(d,y){const x=new xn;if(c.Image){const P=new Image;P.onload=w(qn,x,"TestLoadImage: loaded",!0,y,P),P.onerror=w(qn,x,"TestLoadImage: error",!1,y,P),P.onabort=w(qn,x,"TestLoadImage: abort",!1,y,P),P.ontimeout=w(qn,x,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function Bc(d,y){const x=new xn,P=new AbortController,G=setTimeout(()=>{P.abort(),qn(x,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(te=>{clearTimeout(G),te.ok?qn(x,"TestPingServer: ok",!0,y):qn(x,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),qn(x,"TestPingServer: error",!1,y)})}function qn(d,y,x,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(x)}catch{}}function Gh(){this.g=new _o}function zc(d,y,x){const P=x||"";try{pi(d,function(G,te){let _e=G;p(G)&&(_e=Mr(G)),y.push(P+te+"="+encodeURIComponent(_e))})}catch(G){throw y.push(P+"type="+encodeURIComponent("_badmap")),G}}function Us(d){this.l=d.Ub||null,this.j=d.eb||!1}T(Us,Vs),Us.prototype.g=function(){return new So(this.l,this.j)},Us.prototype.i=function(d){return function(){return d}}({});function So(d,y){ze.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(So,ze),t=So.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Br(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?$r(this):Br(this),this.readyState==3&&Hc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,$r(this))},t.Qa=function(d){this.g&&(this.response=d,$r(this))},t.ga=function(){this.g&&$r(this)};function $r(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Br(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var x=y.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=y.next();return d.join(`\r
`)};function Br(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $s(d){let y="";return J(d,function(x,P){y+=P,y+=":",y+=x,y+=`\r
`}),y}function wi(d,y,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=$s(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):Tt(d,y,x))}function Nt(d){ze.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Nt,ze);var Kh=/^https?$/i,jl=["POST","PUT"];t=Nt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lr.g(),this.v=this.o?Ls(this.o):Ls(Lr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(te){Ao(this,te);return}if(d=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)x.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const te of P.keys())x.set(te,P.get(te));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),G=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(jl,y,void 0))||P||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of x)this.g.setRequestHeader(te,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){Ao(this,te)}};function Ao(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,ha(d),cr(d)}function ha(d){d.A||(d.A=!0,Ye(d,"complete"),Ye(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ye(this,"complete"),Ye(this,"abort"),cr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},t.bb=function(){Fl(this)};function Fl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Gn(d)!=4||d.Z()!=2)){if(d.u&&Gn(d)==4)Ms(d.Ea,0,d);else if(Ye(d,"readystatechange"),Gn(d)==4){d.h=!1;try{const _e=d.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var x;if(!(x=y)){var P;if(P=_e===0){var G=String(d.D).match(bo)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),P=!Kh.test(G?G.toLowerCase():"")}x=P}if(x)Ye(d,"complete"),Ye(d,"success");else{d.m=6;try{var te=2<Gn(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",ha(d)}}finally{cr(d)}}}}function cr(d,y){if(d.g){pa(d);const x=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Ye(d,"ready");try{x.onreadystatechange=P}catch{}}}function pa(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Gn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Er(y)}};function Ul(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ma(d){const y={};d=(d.g&&2<=Gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(V(d[P]))continue;var x=U(d[P]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=y[G]||[];y[G]=te,te.push(x)}O(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(d,y,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||y}function $l(d){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,d),this.cb=hs("retryDelaySeedMs",1e4,d),this.Wa=hs("forwardChannelMaxRetries",2,d),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new To(d&&d.concurrentRequestLimit),this.Da=new Gh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$l.prototype,t.la=8,t.G=1,t.connect=function(d,y,x,P){_t(0),this.W=d,this.H=y||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.I=Kc(this,null,this.W),ps(this)};function mn(d){if(ga(d),d.G==3){var y=d.U++,x=ur(d.I);if(Tt(x,"SID",d.K),Tt(x,"RID",y),Tt(x,"TYPE","terminate"),Bs(d,x),y=new jr(d,d.j,y),y.L=2,y.v=yi(ur(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=y.v,x=!0),x||(y.g=Qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ct(y)}Gc(d)}function zr(d){d.g&&(Bl(d),d.g.cancel(),d.g=null)}function ga(d){zr(d),d.u&&(c.clearTimeout(d.u),d.u=null),_a(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function ps(d){if(!lr(d.h)&&!d.s){d.s=!0;var y=d.Ga;xe||ae(),re||(xe(),re=!0),ne.add(y,d),d.B=0}}function Qh(d,y){return Mc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Mt(E(d.Ga,d,y),qc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new jr(this,this.j,d);let te=this.o;if(this.S&&(te?(te=I(te),L(te,this.S)):te=this.S),this.m!==null||this.O||(G.H=te,te=null),this.P)e:{for(var y=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=x;break e}if(y===4096||x===this.i.length-1){y=x+1;break e}}y=1e3}else y=1e3;y=Ei(this,G,y),x=ur(this.I),Tt(x,"RID",d),Tt(x,"CVER",22),this.D&&Tt(x,"X-HTTP-Session-Id",this.D),Bs(this,x),te&&(this.O?y="headers="+encodeURIComponent(String($s(te)))+"&"+y:this.m&&wi(x,this.m,te)),Vl(this.h,G),this.Ua&&Tt(x,"TYPE","init"),this.P?(Tt(x,"$req",y),Tt(x,"SID","null"),G.T=!0,ua(G,x,null)):ua(G,x,y),this.G=2}}else this.G==3&&(d?ya(this,d):this.i.length==0||lr(this.h)||ya(this))};function ya(d,y){var x;y?x=y.l:x=d.U++;const P=ur(d.I);Tt(P,"SID",d.K),Tt(P,"RID",x),Tt(P,"AID",d.T),Bs(d,P),d.m&&d.o&&wi(P,d.m,d.o),x=new jr(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Ei(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Vl(d.h,x),ua(x,P,y)}function Bs(d,y){d.H&&J(d.H,function(x,P){Tt(y,P,x)}),d.l&&pi({},function(x,P){Tt(y,P,x)})}function Ei(d,y,x){x=Math.min(d.i.length,x);var P=d.l?E(d.l.Na,d.l,d):null;e:{var G=d.i;let te=-1;for(;;){const _e=["count="+x];te==-1?0<x?(te=G[0].g,_e.push("ofs="+te)):te=0:_e.push("ofs="+te);let xt=!0;for(let en=0;en<x;en++){let ut=G[en].g;const an=G[en].map;if(ut-=te,0>ut)te=Math.max(0,G[en].g-100),xt=!1;else try{zc(an,_e,"req"+ut+"_")}catch{P&&P(an)}}if(xt){P=_e.join("&");break e}}}return d=d.i.splice(0,x),y.D=d,P}function Ro(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;xe||ae(),re||(xe(),re=!0),ne.add(y,d),d.v=0}}function va(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Mt(E(d.Fa,d),qc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Mt(E(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),zr(this),Wc(this))};function Bl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Wc(d){d.g=new jr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=ur(d.qa);Tt(y,"RID","rpc"),Tt(y,"SID",d.K),Tt(y,"AID",d.T),Tt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Tt(y,"TO",d.ja),Tt(y,"TYPE","xmlhttp"),Bs(d,y),d.m&&d.o&&wi(y,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=yi(ur(y)),x.m=null,x.P=!0,Dl(x,d)}t.Za=function(){this.C!=null&&(this.C=null,zr(this),va(this),_t(19))};function _a(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function wa(d,y){var x=null;if(d.g==y){_a(d),Bl(d),d.g=null;var P=2}else if(Dn(d.h,y))x=y.D,Vc(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){x=y.m?y.m.length:0,y=Date.now()-y.F;var G=d.B;P=it(),Ye(P,new Wn(P,x)),ps(d)}else Ro(d);else if(G=y.s,G==3||G==0&&0<y.X||!(P==1&&Qh(d,y)||P==2&&va(d)))switch(x&&0<x.length&&(y=d.h,y.i=y.i.concat(x)),G){case 1:zs(d,5);break;case 4:zs(d,10);break;case 3:zs(d,6);break;default:zs(d,2)}}}function qc(d,y){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*y}function zs(d,y){if(d.j.info("Error code "+y),y==2){var x=E(d.fb,d),P=d.Xa;const G=!P;P=new Fs(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Co(P,"https"),yi(P),G?qh(P.toString(),x):Bc(P.toString(),x)}else _t(2);d.G=0,d.l&&d.l.sa(y),Gc(d),ga(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Gc(d){if(d.G=0,d.ka=[],d.l){const y=Lc(d.h);(y.length!=0||d.i.length!=0)&&(A(d.ka,y),A(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function Kc(d,y,x){var P=x instanceof Fs?ur(x):new Fs(x);if(P.g!="")y&&(P.g=y+"."+P.g),mi(P,P.s);else{var G=c.location;P=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var te=new Fs(null);P&&Co(te,P),y&&(te.g=y),G&&mi(te,G),x&&(te.l=x),P=te}return x=d.D,y=d.ya,x&&y&&Tt(P,x,y),Tt(P,"VER",d.la),Bs(d,P),P}function Qc(d,y,x){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Nt(new Us({eb:x})):new Nt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zl(){}t=zl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ea(){}Ea.prototype.g=function(d,y){return new Mn(d,y)};function Mn(d,y){ze.call(this),this.g=new $l(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!V(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ms(this)}T(Mn,ze),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){mn(this.g)},Mn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Mr(d),d=x);y.i.push(new Dc(y.Ya++,d)),y.G==3&&ps(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,mn(this.g),delete this.g,Mn.aa.N.call(this)};function Yc(d){Hn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const x in y){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}T(Yc,Hn);function Zc(){On.call(this),this.status=1}T(Zc,On);function ms(d){this.g=d}T(ms,zl),ms.prototype.ua=function(){Ye(this.g,"a")},ms.prototype.ta=function(d){Ye(this.g,new Yc(d))},ms.prototype.sa=function(d){Ye(this.g,new Zc)},ms.prototype.ra=function(){Ye(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,OT=function(){return new Ea},NT=function(){return it()},PT=xr,lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,uf=aa,kc.COMPLETE="complete",kT=kc,js.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Eu=js,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,IT=Nt}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",yw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new ET("@firebase/firestore");function Qa(){return Go.logLevel}function Ie(t,...e){if(Go.logLevel<=dt.DEBUG){const n=e.map(uy);Go.debug(`Firestore (${Rl}): ${t}`,...n)}}function ui(t,...e){if(Go.logLevel<=dt.ERROR){const n=e.map(uy);Go.error(`Firestore (${Rl}): ${t}`,...n)}}function dl(t,...e){if(Go.logLevel<=dt.WARN){const n=e.map(uy);Go.warn(`Firestore (${Rl}): ${t}`,...n)}}function uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+t;throw ui(e),new Error(e)}function Et(t,e){t||Ke()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Al{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class vO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _O{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new si,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new si)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new DT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new In(e)}}class wO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xO{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,nO(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0);const r=a=>{a.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new vw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new vw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=TO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=-62135596800,ww=1e6;class sn{static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ww);return new sn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_w)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ww}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_w;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new sn(0,0))}static max(){return new Ze(new sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__name__";class Es{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Es.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Es.isNumericId(e),i=Es.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Es.extractNumericId(e).compare(Es.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class Pt extends Es{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const bO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Es{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return bO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ew}static keyField(){return new wn([Ew])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ne(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ne(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Ne(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Pt.fromString(e))}static fromName(e){return new Fe(Pt.fromString(e).popFirst(5))}static empty(){return new Fe(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function CO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new sn(n+1,0):new sn(n,r));return new no(i,Fe.empty(),e)}function SO(t){return new no(t.readTime,t.key,Ku)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Ze.min(),Fe.empty(),Ku)}static max(){return new no(Ze.max(),Fe.empty(),Ku)}}function AO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==RO)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new ie((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function kO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function mh(t){return t==null}function Pf(t){return t===0&&1/t==-1/0}function PO(t){return typeof t=="number"&&Number.isInteger(t)&&!Pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function NO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xw(e)),e=OO(t.get(n),e);return xw(e)}function OO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case VT:n+="";break;default:n+=a}}return n}function xw(t){return t+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=a??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,a){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new on(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jT("Invalid base64 string: "+a):a}}(e);return new En(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const DO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(Et(!!t),typeof t=="string"){let e=0;const n=DO.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="server_timestamp",UT="__type__",$T="__previous_value__",BT="__local_write_time__";function dy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UT])===null||n===void 0?void 0:n.stringValue)===FT}function gh(t){const e=t.mapValue.fields[$T];return dy(e)?gh(e):e}function Qu(t){const e=ro(t.mapValue.fields[BT].timestampValue);return new sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,i,a,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const Nf="(default)";class Yu{constructor(e,n){this.projectId=e,this.database=n||Nf}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===Nf}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",VO="__max__",Yd={mapValue:{}},HT="__vector__",Of="value";function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:jO(t)?9007199254740991:LO(t)?10:11:Ke()}function Ps(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ro(i.timestampValue),c=ro(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return so(i.bytesValue).isEqual(so(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return qt(i.geoPointValue.latitude)===qt(a.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return qt(i.integerValue)===qt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=qt(i.doubleValue),c=qt(a.doubleValue);return l===c?Pf(l)===Pf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Tw(l)!==Tw(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Ps(l[h],c[h])))return!1;return!0}(t,e);default:return Ke()}}function Zu(t,e){return(t.values||[]).find(n=>Ps(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=qt(a.integerValue||a.doubleValue),h=qt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return Cw(t.timestampValue,e.timestampValue);case 4:return Cw(Qu(t),Qu(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(a,l){const c=so(a),h=so(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=lt(c[p],h[p]);if(g!==0)return g}return lt(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=lt(qt(a.latitude),qt(l.latitude));return c!==0?c:lt(qt(a.longitude),qt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Sw(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const v=a.fields||{},E=l.fields||{},w=(c=v[Of])===null||c===void 0?void 0:c.arrayValue,T=(h=E[Of])===null||h===void 0?void 0:h.arrayValue,b=lt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:Sw(w,T)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Yd.mapValue&&l===Yd.mapValue)return 0;if(a===Yd.mapValue)return 1;if(l===Yd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const E=lt(h[v],g[v]);if(E!==0)return E;const w=hl(c[h[v]],p[g[v]]);if(w!==0)return w}return lt(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function Cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=ro(t),r=ro(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function Sw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=hl(n[i],r[i]);if(a)return a}return lt(n.length,r.length)}function pl(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return so(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=ug(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${ug(n.fields[l])}`;return i+"}"}(t.mapValue):Ke()}function cf(t){switch(io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(t);return e?16+cf(e):16;case 5:return 2*t.stringValue.length;case 6:return so(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+cf(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return yo(r.fields,(a,l)=>{i+=a.length+cf(l)}),i}(t.mapValue);default:throw Ke()}}function Aw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cg(t){return!!t&&"integerValue"in t}function fy(t){return!!t&&"arrayValue"in t}function Rw(t){return!!t&&"nullValue"in t}function Iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function df(t){return!!t&&"mapValue"in t}function LO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zT])===null||n===void 0?void 0:n.stringValue)===HT}function Du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Du(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new sr(Du(this.value))}}function WT(t){const e=[];return yo(t.fields,(n,r)=>{const i=new wn([n]);if(df(r)){const a=WT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new kn(e,0,Ze.min(),Ze.min(),Ze.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new kn(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new kn(e,2,n,Ze.min(),Ze.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Ze.min(),Ze.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.position=e,this.inclusive=n}}function kw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Fe.comparator(Fe.fromName(l.referenceValue),n.key):r=hl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n="asc"){this.field=e,this.dir=n}}function FO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class Jt extends qT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $O(e,n,r):n==="array-contains"?new HO(e,r):n==="in"?new WO(e,r):n==="not-in"?new qO(e,r):n==="array-contains-any"?new GO(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BO(e,r):new zO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hl(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new os(e,n)}matches(e){return GT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GT(t){return t.op==="and"}function KT(t){return UO(t)&&GT(t)}function UO(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function dg(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(KT(t))return t.filters.map(e=>dg(e)).join(",");{const e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Ps(r.value,i.value)}(t,e):t instanceof os?function(r,i){return i instanceof os&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&QT(l,i.filters[c]),!0):!1}(t,e):void Ke()}function YT(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`}(t):t instanceof os?function(n){return n.op.toString()+" {"+n.getFilters().map(YT).join(" ,")+"}"}(t):"Filter"}class $O extends Jt{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class BO extends Jt{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zO extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class HO extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fy(n)&&Zu(n.arrayValue,this.value)}}class WO extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class qO extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zu(this.value.arrayValue,n)}}class GO extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function Nw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new KO(t,e,n,r,i,a,l)}function hy(t){const e=Je(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pl(r)).join(",")),e.le=n}return e.le}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pw(t.startAt,e.startAt)&&Pw(t.endAt,e.endAt)}function fg(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function QO(t,e,n,r,i,a,l,c){return new Ec(t,e,n,r,i,a,l,c)}function yh(t){return new Ec(t)}function Ow(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XT(t){return t.collectionGroup!==null}function Mu(t){const e=Je(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new on(wn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new Mf(a,r))}),n.has(wn.keyField().canonicalString())||e.he.push(new Mf(wn.keyField(),r))}return e.he}function Ss(t){const e=Je(t);return e.Pe||(e.Pe=YO(e,Mu(t))),e.Pe}function YO(t,e){if(t.limitType==="F")return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Mf(i.field,a)});const n=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hg(t,e){const n=t.filters.concat([e]);return new Ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pg(t,e,n){return new Ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return py(Ss(t),Ss(e))&&t.limitType===e.limitType}function JT(t){return`${hy(Ss(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YT(i)).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pl(i)).join(",")),`Target(${r})`}(Ss(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Fe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Mu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=kw(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Mu(r),i)||r.endAt&&!function(l,c,h){const p=kw(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Mu(r),i))}(t,e)}function ZO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eb(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const a=XO(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function XO(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?hl(h,p):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Ft(Fe.comparator);function ci(){return JO}const tb=new Ft(Fe.comparator);function xu(...t){let e=tb;for(const n of t)e=e.insert(n.key,n);return e}function nb(t){let e=tb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return Vu()}function rb(){return Vu()}function Vu(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const eD=new Ft(Fe.comparator),tD=new on(Fe.comparator);function ot(...t){let e=tD;for(const n of t)e=e.add(n);return e}const nD=new on(lt);function rD(){return nD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function sb(t){return{integerValue:""+t}}function sD(t,e){return PO(e)?sb(e):my(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function iD(t,e,n){return t instanceof Xu?function(i,a){const l={fields:{[UT]:{stringValue:FT},[BT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&dy(a)&&(a=gh(a)),a&&(l.fields[$T]=a),{mapValue:l}}(n,e):t instanceof Ju?ob(t,e):t instanceof ec?ab(t,e):function(i,a){const l=ib(i,a),c=Dw(l)+Dw(i.Ie);return cg(l)&&cg(i.Ie)?sb(c):my(i.serializer,c)}(t,e)}function oD(t,e,n){return t instanceof Ju?ob(t,e):t instanceof ec?ab(t,e):n}function ib(t,e){return t instanceof Vf?function(r){return cg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Xu extends wh{}class Ju extends wh{constructor(e){super(),this.elements=e}}function ob(t,e){const n=lb(e);for(const r of t.elements)n.some(i=>Ps(i,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends wh{constructor(e){super(),this.elements=e}}function ab(t,e){let n=lb(e);for(const r of t.elements)n=n.filter(i=>!Ps(i,r));return{arrayValue:{values:n}}}class Vf extends wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Dw(t){return qt(t.integerValue||t.doubleValue)}function lb(t){return fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.field=e,this.transform=n}}function lD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ju&&i instanceof Ju||r instanceof ec&&i instanceof ec?fl(r.elements,i.elements,Ps):r instanceof Vf&&i instanceof Vf?Ps(r.Ie,i.Ie):r instanceof Xu&&i instanceof Xu}(t.transform,e.transform)}class uD{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function ub(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gy(t.key,ts.none()):new xc(t.key,t.data,ts.none());{const n=t.data,r=sr.empty();let i=new on(wn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new vo(t.key,r,new gr(i.toArray()),ts.none())}}function cD(t,e,n){t instanceof xc?function(i,a,l){const c=i.value.clone(),h=Vw(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(i,a,l){if(!ff(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Vw(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(cb(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof xc?function(a,l,c,h){if(!ff(a.precondition,l))return c;const p=a.value.clone(),g=Lw(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(a,l,c,h){if(!ff(a.precondition,l))return c;const p=Lw(a.fieldTransforms,h,l),g=l.data;return g.setAll(cb(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(a,l,c){return ff(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function dD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=ib(r.transform,i||null);a!=null&&(n===null&&(n=sr.empty()),n.set(r.field,a))}return n||null}function Mw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fl(r,i,(a,l)=>lD(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Eh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vo extends Eh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Vw(t,e,n){const r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,oD(l,c,n[i]))}return r}function Lw(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,iD(a,l,e))}return r}class gy extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&cD(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rb();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const h=ub(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>Mw(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>Mw(n,r))}}class yy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length);let i=function(){return eD}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new yy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pD=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,ct;function gD(t){switch(t){case oe.OK:return Ke();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ke()}}function db(t){if(t===void 0)return ui("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Xt.OK:return oe.OK;case Xt.CANCELLED:return oe.CANCELLED;case Xt.UNKNOWN:return oe.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return oe.INTERNAL;case Xt.UNAVAILABLE:return oe.UNAVAILABLE;case Xt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Xt.NOT_FOUND:return oe.NOT_FOUND;case Xt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Xt.ABORTED:return oe.ABORTED;case Xt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Xt.DATA_LOSS:return oe.DATA_LOSS;default:return Ke()}}(ct=Xt||(Xt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new qi([4294967295,4294967295],0);function jw(t){const e=yD().encode(t),n=new RT;return n.update(e),new Uint8Array(n.digest())}function Fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([n,r],0),new qi([i,a],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tu(`Invalid padding: ${n}`);if(r<0)throw new Tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=qi.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(qi.fromNumber(r)));return i.compare(vD)===1&&(i=new qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=jw(e),[r,i]=Fw(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new vy(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=jw(e),[r,i]=Fw(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xh(Ze.min(),i,new Ft(lt),ci(),ot())}}class Tc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tc(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class fb{constructor(e,n){this.targetId=e,this.ge=n}}class hb{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Uw{constructor(){this.pe=0,this.ye=$w(),this.we=En.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ot(),n=ot(),r=ot();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new Tc(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=$w()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Et(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class _D{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ci(),this.$e=Zd(),this.Ke=Zd(),this.Ue=new Ft(lt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const a=i.target;if(fg(a))if(r===0){const l=new Fe(a.path);this.ze(n,l,kn.newNoDocument(l,Ze.min()))}else Et(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=so(r).toUint8Array()}catch(h){if(h instanceof jT)return dl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new vy(l,i,a)}catch(h){return dl(h instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,a,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&fg(c.target)){const h=new Fe(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,kn.newNoDocument(h,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=ot();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new xh(e,n,this.Ue,this.Qe,r);return this.Qe=ci(),this.$e=Zd(),this.Ke=Zd(),this.Ue=new Ft(lt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Uw,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new on(lt),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new on(lt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Uw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Zd(){return new Ft(Fe.comparator)}function $w(){return new Ft(Fe.comparator)}const wD={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xD={and:"AND",or:"OR"};class TD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function Lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bD(t,e){return Lf(t,e.toTimestamp())}function As(t){return Et(!!t),Ze.fromTimestamp(function(n){const r=ro(n);return new sn(r.seconds,r.nanos)}(t))}function _y(t,e){return gg(t,e).canonicalString()}function gg(t,e){const n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mb(t){const e=Pt.fromString(t);return Et(wb(e)),e}function yg(t,e){return _y(t.databaseId,e.path)}function km(t,e){const n=mb(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(yb(n))}function gb(t,e){return _y(t.databaseId,e)}function CD(t){const e=mb(t);return e.length===4?Pt.emptyPath():yb(e)}function vg(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yb(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bw(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function SD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Et(g===void 0||typeof g=="string"),En.fromBase64String(g||"")):(Et(g===void 0||g instanceof Buffer||g instanceof Uint8Array),En.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?oe.UNKNOWN:db(p.code);return new Ne(g,p.message||"")}(l);n=new hb(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=km(t,r.document.name),a=As(r.document.updateTime),l=r.document.createTime?As(r.document.createTime):Ze.min(),c=new sr({mapValue:{fields:r.document.fields}}),h=kn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new hf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=km(t,r.document),a=r.readTime?As(r.readTime):Ze.min(),l=kn.newNoDocument(i,a),c=r.removedTargetIds||[];n=new hf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=km(t,r.document),a=r.removedTargetIds||[];n=new hf([],a,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new mD(i,a),c=r.targetId;n=new fb(c,l)}}return n}function AD(t,e){let n;if(e instanceof xc)n={update:Bw(t,e.key,e.value)};else if(e instanceof gy)n={delete:yg(t,e.key)};else if(e instanceof vo)n={update:Bw(t,e.key,e.data),updateMask:VD(e.fieldMask)};else{if(!(e instanceof fD))return Ke();n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Xu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ju)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:bD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke()}(t,e.precondition)),n}function RD(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(i,a){let l=i.updateTime?As(i.updateTime):As(a);return l.isEqual(Ze.min())&&(l=As(a)),new uD(l,i.transformResults||[])}(n,e))):[]}function ID(t,e){return{documents:[gb(t,e.path)]}}function kD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gb(t,i);const a=function(p){if(p.length!==0)return _b(os.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Za(E.field),direction:OD(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=mg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:i}}function PD(t){let e=CD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(v){const E=vb(v);return E instanceof os&&KT(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(E=>function(T){return new Mf(Xa(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,mh(E)?null:E}(n.limit));let h=null;n.startAt&&(h=function(v){const E=!!v.before,w=v.values||[];return new Df(w,E)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const E=!v.before,w=v.values||[];return new Df(w,E)}(n.endAt)),QO(e,i,l,a,c,"F",h,p)}function ND(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xa(n.unaryFilter.field);return Jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xa(n.unaryFilter.field);return Jt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return os.create(n.compositeFilter.filters.map(r=>vb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function OD(t){return wD[t]}function DD(t){return ED[t]}function MD(t){return xD[t]}function Za(t){return{fieldPath:t.canonicalString()}}function Xa(t){return wn.fromServerFormat(t.fieldPath)}function _b(t){return t instanceof Jt?function(n){if(n.op==="=="){if(Iw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(Rw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Iw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(Rw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:DD(n.op),value:n.value}}}(t):t instanceof os?function(n){const r=n.getFilters().map(i=>_b(i));return r.length===1?r[0]:{compositeFilter:{op:MD(n.op),filters:r}}}(t):Ke()}function VD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r,i,a=Ze.min(),l=Ze.min(),c=En.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Tt=e}}function jD(t){const e=PD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.Tn=new UD}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(no.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class UD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on(Pt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eb=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(Eb,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ml(0)}static Un(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="LruGarbageCollector",$D=1048576;function Ww([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class BD{constructor(e){this.Hn=e,this.buffer=new on(Ww),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ww(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ie(Hw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?Ie(Hw,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.er(3e5)})}}class HD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(ph.ae);const r=new BD(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(zw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,n))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Qa()<=dt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function WD(t,e){return new HD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,gr.empty(),sn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=xu();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=ci();const l=Vu(),c=function(){return Vu()}();return n.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof vo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Lu(g.mutation,p,g.mutation.getFieldMask(),sn.now())):l.set(p.key,gr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var v;return c.set(p,new GD(g,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Vu();let i=new Ft((l,c)=>l-c),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||gr.empty();g=c.applyToLocalView(p,g),r.set(h,g);const v=(i.get(c.batchId)||ot()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,v=rb();g.forEach(E=>{if(!a.has(E)){const w=ub(n.get(E),r.get(E));w!==null&&v.set(E,w),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Fe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ie.resolve(zo());let c=Ku,h=a;return l.next(p=>ie.forEach(p,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,ot())).next(g=>({batchId:c,changes:nb(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next(r=>{let i=xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=xu();return this.indexManager.getCollectionParents(e,a).next(c=>ie.forEach(c,h=>{const p=function(v,E){return new Ec(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,kn.newInvalidDocument(g)))});let c=xu();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&Lu(g.mutation,p,gr.empty(),sn.now()),_h(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:As(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:jD(i.bundledQuery),readTime:As(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new Ft(Fe.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return ie.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Et(e,n,a)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=zo(),a=n.length+1,l=new Fe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ft((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=zo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=zo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return ie.resolve(c)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new pD(n,r));let a=this.Rr.get(n);a===void 0&&(a=ot(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Vr=new on(dn.mr),this.gr=new on(dn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new dn(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Fe(new Pt([])),r=new dn(n,e),i=new dn(n,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Fe(new Pt([])),r=new dn(n,e),i=new dn(n,e+1);let a=ot();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new dn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Fe.comparator(e.key,n.key)||lt(e.Cr,n.Cr)}static pr(e,n){return lt(e.Cr,n.Cr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new on(dn.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new hD(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new dn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?cy:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(lt);return n.forEach(i=>{const a=new dn(i,0),l=new dn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Fe.isDocumentKey(a)||(a=a.child(""));const l=new dn(new Fe(a),0);let c=new on(lt);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),ie.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(n.mutations,i=>{const a=new dn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new dn(n,0),i=this.Mr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.kr=e,this.docs=function(){return new Ft(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=ci();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():kn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ci();const l=n.path,c=new Fe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||AO(SO(g),r)<=0||(i.has(g.key)||_h(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ke()}qr(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eM(this)}getSize(e){return ie.resolve(this.size)}}class eM extends qD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.persistence=e,this.Qr=new na(n=>hy(n),py),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new wy,this.targetCount=0,this.Ur=ml.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ph(0),this.zr=!1,this.zr=!0,this.jr=new ZD,this.referenceDelegate=e(this),this.Hr=new tM(this),this.indexManager=new FD,this.remoteDocumentCache=function(i){return new JD(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new LD(n),this.Yr=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new XD(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const i=new nM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,n){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class nM extends IO{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.ti=new wy,this.ni=null}static ri(e){return new Ey(e)}get ii(){if(this.ni)return this.ni;throw Ke()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const i=Fe.fromPath(r);return this.si(e,i).next(a=>{a||n.removeEntry(i,Ze.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class jf{constructor(e,n){this.persistence=e,this.oi=new na(r=>NO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=WD(this,n)}static ri(e,n){return new jf(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?ie.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cf(e.data.value)),n}ar(e,n,r){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ot(),i=ot();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new xy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JN()?8:kO(ZN())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new rM;return this._s(e,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>a.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Qa()<=dt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Qa()<=dt.DEBUG&&Ie("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Qa()<=dt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(n))):ie.resolve())}rs(e,n){if(Ow(n))return ie.resolve(null);let r=Ss(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pg(n,null,"F"),r=Ss(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=ot(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(n,c);return this.ls(n,p,l,h.readTime)?this.rs(e,pg(n,null,"F")):this.hs(e,p,n,h)}))})))}ss(e,n,r,i){return Ow(n)||i.isEqual(Ze.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,i)?ie.resolve(null):(Qa()<=dt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(n)),this.hs(e,l,n,CO(i,Ku)).next(c=>c))})}cs(e,n){let r=new on(eb(e));return n.forEach((i,a)=>{_h(e,a)&&(r=r.add(a))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,n,r){return Qa()<=dt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ns.getDocumentsMatchingQuery(e,n,no.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",iM=3e8;class oM{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ft(lt),this.Is=new na(a=>hy(a),py),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function aM(t,e,n,r){return new oM(t,e,n,r)}async function Tb(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=ot();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function lM(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const v=p.batch,E=v.keys();let w=ie.resolve();return E.forEach(T=>{w=w.next(()=>g.getEntry(h,T)).next(b=>{const A=p.docVersions.get(T);Et(A!==null),b.version.compareTo(A)<0&&(v.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=ot();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bb(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function uM(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const E=i.get(v);if(!E)return;c.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,v)));let w=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(En.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),i=i.insert(v,w),function(b,A,k){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=iM?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(E,w,g)&&c.push(n.Hr.updateTargetData(a,w))});let h=ci(),p=ot();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(cM(a,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(Ze.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(v=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ie.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.Ts=i,a))}function cM(t,e,n){let r=ot(),i=ot();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=ci();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ze.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Ie(Ty,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function dM(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fM(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):n.Hr.allocateTargetId(r).next(l=>(i=new Bi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function _g(t,e,n){const r=Je(t),i=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!kl(l))throw l;Ie(Ty,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function qw(t,e,n){const r=Je(t);let i=Ze.min(),a=ot();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const v=Je(h),E=v.Is.get(g);return E!==void 0?ie.resolve(v.Ts.get(E)):v.Hr.getTargetData(p,g)}(r,l,Ss(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?i:Ze.min(),n?a:ot())).next(c=>(hM(r,ZO(e),c),{documents:c,gs:a})))}function hM(t,e,n){let r=t.Es.get(e)||Ze.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class Gw{constructor(){this.activeTargetIds=rD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pM{constructor(){this.ho=new Gw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="ConnectivityMonitor";class Qw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ie(Kw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ie(Kw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd=null;function wg(){return Xd===null?Xd=function(){return 268435456+Math.round(2147483648*Math.random())}():Xd++,"0x"+Xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",gM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Nf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,a){const l=wg(),c=this.So(e,n.toUriEncodedString());Ie(Pm,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,a),this.vo(e,c,h,r).then(p=>(Ie(Pm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw dl(Pm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,i,a,l){return this.bo(e,n,r,i,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}So(e,n){const r=gM[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class _M extends yM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const a=wg();return new Promise((l,c)=>{const h=new IT;h.setWithCredentials(!0),h.listenOnce(kT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case uf.NO_ERROR:const g=h.getResponseJson();Ie(An,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case uf.TIMEOUT:Ie(An,`RPC '${e}' ${a} timed out`),c(new Ne(oe.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const v=h.getStatus();if(Ie(An,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const T=function(A){const k=A.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(k)>=0?k:oe.UNKNOWN}(w.status);c(new Ne(T,w.message))}else c(new Ne(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ne(oe.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Ie(An,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);Ie(An,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",p,r,15)})}Wo(e,n,r){const i=wg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=OT(),c=NT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");Ie(An,`Creating RPC '${e}' stream ${i}: ${g}`,h);const v=l.createWebChannel(g,h);let E=!1,w=!1;const T=new vM({Fo:A=>{w?Ie(An,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(E||(Ie(An,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),Ie(An,`RPC '${e}' stream ${i} sending:`,A),v.send(A))},Mo:()=>v.close()}),b=(A,k,V)=>{A.listen(k,F=>{try{V(F)}catch(z){setTimeout(()=>{throw z},0)}})};return b(v,Eu.EventType.OPEN,()=>{w||(Ie(An,`RPC '${e}' stream ${i} transport opened.`),T.Qo())}),b(v,Eu.EventType.CLOSE,()=>{w||(w=!0,Ie(An,`RPC '${e}' stream ${i} transport closed`),T.Ko())}),b(v,Eu.EventType.ERROR,A=>{w||(w=!0,dl(An,`RPC '${e}' stream ${i} transport errored:`,A),T.Ko(new Ne(oe.UNAVAILABLE,"The operation could not be completed")))}),b(v,Eu.EventType.MESSAGE,A=>{var k;if(!w){const V=A.data[0];Et(!!V);const F=V,z=(F==null?void 0:F.error)||((k=F[0])===null||k===void 0?void 0:k.error);if(z){Ie(An,`RPC '${e}' stream ${i} received error:`,z);const q=z.status;let J=function(N){const L=Xt[N];if(L!==void 0)return db(L)}(q),O=z.message;J===void 0&&(J=oe.INTERNAL,O="Unknown error status: "+q+" with message "+z.message),w=!0,T.Ko(new Ne(J,O)),v.close()}else Ie(An,`RPC '${e}' stream ${i} received:`,V),T.Uo(V)}}),b(c,PT.STAT_EVENT,A=>{A.stat===lg.PROXY?Ie(An,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===lg.NOPROXY&&Ie(An,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new TD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="PersistentStream";class Sb{constructor(e,n,r,i,a,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Cb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Ne(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ie(Yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ie(Yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wM extends Sb{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=SD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?As(l.readTime):Ze.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=vg(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=fg(h)?{documents:ID(a,h)}:{query:kD(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=pb(a,l.resumeToken);const p=mg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ze.min())>0){c.readTime=Lf(a,l.snapshotVersion.toTimestamp());const p=mg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=ND(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.I_(n)}}class EM extends Sb{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=RD(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=vg(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AD(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{}class TM extends xM{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ne(oe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.bo(e,gg(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(oe.UNKNOWN,a.toString())})}Co(e,n,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,gg(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(oe.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ui(n),this.N_=!1):Ie("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class CM{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{ra(this)&&(Ie(Ko,"Restarting streams for network reachability change."),await async function(h){const p=Je(h);p.W_.add(4),await bc(p),p.j_.set("Unknown"),p.W_.delete(4),await bh(p)}(this))})}),this.j_=new bM(r,i)}}async function bh(t){if(ra(t))for(const e of t.G_)await e(!0)}async function bc(t){for(const e of t.G_)await e(!1)}function Ab(t,e){const n=Je(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ay(n)?Sy(n):Pl(n).c_()&&Cy(n,e))}function by(t,e){const n=Je(t),r=Pl(n);n.U_.delete(e),r.c_()&&Rb(n,e),n.U_.size===0&&(r.c_()?r.P_():ra(n)&&n.j_.set("Unknown"))}function Cy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).y_(e)}function Rb(t,e){t.H_.Ne(e),Pl(t).w_(e)}function Sy(t){t.H_=new _D({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.j_.B_()}function Ay(t){return ra(t)&&!Pl(t).u_()&&t.U_.size>0}function ra(t){return Je(t).W_.size===0}function Ib(t){t.H_=void 0}async function SM(t){t.j_.set("Online")}async function AM(t){t.U_.forEach((e,n)=>{Cy(t,e)})}async function RM(t,e){Ib(t),Ay(t)?(t.j_.q_(e),Sy(t)):t.j_.set("Unknown")}async function IM(t,e,n){if(t.j_.set("Online"),e instanceof hb&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(r){Ie(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ff(t,r)}else if(e instanceof hf?t.H_.We(e):e instanceof fb?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ze.min()))try{const r=await bb(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.U_.get(h);if(!g)return;a.U_.set(h,g.withResumeToken(En.EMPTY_BYTE_STRING,g.snapshotVersion)),Rb(a,h);const v=new Bi(g.target,h,p,g.sequenceNumber);Cy(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Ie(Ko,"Failed to raise snapshot:",r),await Ff(t,r)}}async function Ff(t,e,n){if(!kl(e))throw e;t.W_.add(1),await bc(t),t.j_.set("Offline"),n||(n=()=>bb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie(Ko,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await bh(t)})}function kb(t,e){return e().catch(n=>Ff(t,n,e))}async function Ch(t){const e=Je(t),n=oo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:cy;for(;kM(e);)try{const i=await dM(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,PM(e,i)}catch(i){await Ff(e,i)}Pb(e)&&Nb(e)}function kM(t){return ra(t)&&t.K_.length<10}function PM(t,e){t.K_.push(e);const n=oo(t);n.c_()&&n.b_&&n.S_(e.mutations)}function Pb(t){return ra(t)&&!oo(t).u_()&&t.K_.length>0}function Nb(t){oo(t).start()}async function NM(t){oo(t).C_()}async function OM(t){const e=oo(t);for(const n of t.K_)e.S_(n.mutations)}async function DM(t,e,n){const r=t.K_.shift(),i=yy.from(r,e,n);await kb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ch(t)}async function MM(t,e){e&&oo(t).b_&&await async function(r,i){if(function(l){return gD(l)&&l!==oe.ABORTED}(i.code)){const a=r.K_.shift();oo(r).h_(),await kb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ch(r)}}(t,e),Pb(t)&&Nb(t)}async function Zw(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Ie(Ko,"RemoteStore received new credentials");const r=ra(n);n.W_.add(3),await bc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await bh(n)}async function VM(t,e){const n=Je(t);e?(n.W_.delete(2),await bh(n)):e||(n.W_.add(2),await bc(n),n.j_.set("Unknown"))}function Pl(t){return t.J_||(t.J_=function(n,r,i){const a=Je(n);return a.M_(),new wM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:SM.bind(null,t),No:AM.bind(null,t),Lo:RM.bind(null,t),p_:IM.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Ay(t)?Sy(t):t.j_.set("Unknown")):(await t.J_.stop(),Ib(t))})),t.J_}function oo(t){return t.Y_||(t.Y_=function(n,r,i){const a=Je(n);return a.M_(),new EM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:NM.bind(null,t),Lo:MM.bind(null,t),D_:OM.bind(null,t),v_:DM.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Ch(t)):(await t.Y_.stop(),t.K_.length>0&&(Ie(Ko,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new Ry(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(t,e){if(ui("AsyncQueue",`${e}: ${t}`),kl(t))return new Ne(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=xu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.Z_=new Ft(Fe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ke():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gl{constructor(e,n,r,i,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new gl(e,n,ol.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jM{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Je(n),a=i.queries;i.queries=Jw(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new Ne(oe.ABORTED,"Firestore shutting down"))}}function Jw(){return new na(t=>JT(t),vh)}async function ky(t,e){const n=Je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new LM,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Iy(l,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&Ny(n)}async function Py(t,e){const n=Je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FM(t,e){const n=Je(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Ny(n)}function UM(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(e)}function Ny(t){t.ia.forEach(e=>{e.next()})}var Eg,eE;(eE=Eg||(Eg={}))._a="default",eE.Cache="cache";class Oy{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.key=e}}class Db{constructor(e){this.key=e}}class $M{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ot(),this.mutatedKeys=ot(),this.ya=eb(e),this.wa=new ol(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new Xw,i=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const E=i.get(g),w=_h(this.query,v)?v:null,T=!!E&&this.mutatedKeys.has(E.key),b=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;E&&w?E.data.isEqual(w.data)?T!==b&&(r.track({type:3,doc:w}),A=!0):this.va(E,w)||(r.track({type:2,doc:w}),A=!0,(h&&this.ya(w,h)>0||p&&this.ya(w,p)<0)&&(c=!0)):!E&&w?(r.track({type:0,doc:w}),A=!0):E&&!w&&(r.track({type:1,doc:E}),A=!0,(h||p)&&(c=!0)),A&&(w?(l=l.add(w),a=b?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,v)=>function(w,T){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return b(w)-b(T)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),i=i!=null&&i;const c=n&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new gl(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Xw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ot(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new Db(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new Ob(r))}),n}Oa(e){this.fa=e.gs,this.pa=ot();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return gl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Dy="SyncEngine";class BM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zM{constructor(e){this.key=e,this.Ba=!1}}class HM{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new na(c=>JT(c),vh),this.qa=new Map,this.Qa=new Set,this.$a=new Ft(Fe.comparator),this.Ka=new Map,this.Ua=new wy,this.Wa={},this.Ga=new Map,this.za=ml.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function WM(t,e,n=!0){const r=Ub(t);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Mb(r,e,n,!0),i}async function qM(t,e){const n=Ub(t);await Mb(n,e,!0,!1)}async function Mb(t,e,n,r){const i=await fM(t.localStore,Ss(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await GM(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ab(t.remoteStore,i),c}async function GM(t,e,n,r,i){t.Ha=(v,E,w)=>async function(b,A,k,V){let F=A.view.Sa(k);F.ls&&(F=await qw(b.localStore,A.query,!1).then(({documents:O})=>A.view.Sa(O,F)));const z=V&&V.targetChanges.get(A.targetId),q=V&&V.targetMismatches.get(A.targetId)!=null,J=A.view.applyChanges(F,b.isPrimaryClient,z,q);return nE(b,A.targetId,J.Ma),J.snapshot}(t,v,E,w);const a=await qw(t.localStore,e,!0),l=new $M(e,a.gs),c=l.Sa(a.documents),h=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,h);nE(t,n,p.Ma);const g=new BM(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function KM(t,e,n){const r=Je(t),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!vh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _g(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&by(r.remoteStore,i.targetId),xg(r,i.targetId)}).catch(Il)):(xg(r,i.targetId),await _g(r.localStore,i.targetId,!0))}async function QM(t,e){const n=Je(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),by(n.remoteStore,r.targetId))}async function YM(t,e,n){const r=rV(t);try{const i=await function(l,c){const h=Je(l),p=sn.now(),g=c.reduce((w,T)=>w.add(T.key),ot());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=ci(),b=ot();return h.ds.getEntries(w,g).next(A=>{T=A,T.forEach((k,V)=>{V.isValidDocument()||(b=b.add(k))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,T)).next(A=>{v=A;const k=[];for(const V of c){const F=dD(V,v.get(V.key).overlayedDocument);F!=null&&k.push(new vo(V.key,F,WT(F.value.mapValue),ts.exists(!0)))}return h.mutationQueue.addMutationBatch(w,p,k,c)}).next(A=>{E=A;const k=A.applyToLocalDocumentSet(v,b);return h.documentOverlayCache.saveOverlays(w,A.batchId,k)})}).then(()=>({batchId:E.batchId,changes:nb(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new Ft(lt)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,n),await Cc(r,i.changes),await Ch(r.remoteStore)}catch(i){const a=Iy(i,"Failed to persist write");n.reject(a)}}async function Vb(t,e){const n=Je(t);try{const r=await uM(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Ka.get(a);l&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Et(l.Ba):i.removedDocuments.size>0&&(Et(l.Ba),l.Ba=!1))}),await Cc(n,r,e)}catch(r){await Il(r)}}function tE(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Je(l);h.onlineState=c;let p=!1;h.queries.forEach((g,v)=>{for(const E of v.ta)E.sa(c)&&(p=!0)}),p&&Ny(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZM(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new Ft(Fe.comparator);l=l.insert(a,kn.newNoDocument(a,Ze.min()));const c=ot().add(a),h=new xh(Ze.min(),new Map,new Ft(lt),l,c);await Vb(r,h),r.$a=r.$a.remove(a),r.Ka.delete(e),My(r)}else await _g(r.localStore,e,!1).then(()=>xg(r,e,n)).catch(Il)}async function XM(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await lM(n.localStore,e);jb(n,r,null),Lb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,i)}catch(i){await Il(i)}}async function JM(t,e,n){const r=Je(t);try{const i=await function(l,c){const h=Je(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(v=>(Et(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);jb(r,e,n),Lb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cc(r,i)}catch(i){await Il(i)}}function Lb(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function jb(t,e,n){const r=Je(t);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||Fb(t,r)})}function Fb(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(by(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),My(t))}function nE(t,e,n){for(const r of n)r instanceof Ob?(t.Ua.addReference(r.key,e),eV(t,r)):r instanceof Db?(Ie(Dy,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||Fb(t,r.key)):Ke()}function eV(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ie(Dy,"New document in limbo: "+n),t.Qa.add(r),My(t))}function My(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Fe(Pt.fromString(e)),r=t.za.next();t.Ka.set(r,new zM(n)),t.$a=t.$a.insert(n,r),Ab(t.remoteStore,new Bi(Ss(yh(n.path)),r,"TargetPurposeLimboResolution",ph.ae))}}async function Cc(t,e,n){const r=Je(t),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){i.push(p);const v=xy.Yi(h.targetId,p);a.push(v)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const g=Je(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ie.forEach(p,E=>ie.forEach(E.Hi,w=>g.persistence.referenceDelegate.addReference(v,E.targetId,w)).next(()=>ie.forEach(E.Ji,w=>g.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))}catch(v){if(!kl(v))throw v;Ie(Ty,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const w=g.Ts.get(E),T=w.snapshotVersion,b=w.withLastLimboFreeSnapshotVersion(T);g.Ts=g.Ts.insert(E,b)}}}(r.localStore,a))}async function tV(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Ie(Dy,"User change. New user:",e.toKey());const r=await Tb(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new Ne(oe.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.Rs)}}function nV(t,e){const n=Je(t),r=n.Ka.get(e);if(r&&r.Ba)return ot().add(r.key);{let i=ot();const a=n.qa.get(e);if(!a)return i;for(const l of a){const c=n.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function Ub(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZM.bind(null,e),e.La.p_=FM.bind(null,e.eventManager),e.La.Ja=UM.bind(null,e.eventManager),e}function rV(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JM.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return aM(this.persistence,new sM,e.initialUser,this.serializer)}Xa(e){return new xb(Ey.ri,this.serializer)}Za(e){return new pM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class sV extends Uf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Et(this.persistence.referenceDelegate instanceof jf);const r=this.persistence.referenceDelegate.garbageCollector;return new zD(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new xb(r=>jf.ri(r,n),this.serializer)}}class Tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tV.bind(null,this.syncEngine),await VM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jM}()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),r=function(a){return new _M(a)}(e.databaseInfo);return function(a,l,c,h){return new TM(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new CM(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>tE(this.syncEngine,n,0),function(){return Qw.D()?new Qw:new mM}())}createSyncEngine(e,n){return function(i,a,l,c,h,p,g){const v=new HM(i,a,l,c,h,p);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Je(i);Ie(Ko,"RemoteStore shutting down."),a.W_.add(5),await bc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class iV{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=MT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Ie(ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Ie(ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Om(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Tb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oV(t);Ie(ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Zw(e.remoteStore,i)),t._onlineComponents=e}async function oV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(ao,"Using user provided OfflineComponentProvider");try{await Om(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await Om(t,new Uf)}}else Ie(ao,"Using default OfflineComponentProvider"),await Om(t,new sV(void 0));return t._offlineComponents}async function $b(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(ao,"Using user provided OnlineComponentProvider"),await rE(t,t._uninitializedComponentsProvider._online)):(Ie(ao,"Using default OnlineComponentProvider"),await rE(t,new Tg))),t._onlineComponents}function aV(t){return $b(t).then(e=>e.syncEngine)}async function $f(t){const e=await $b(t),n=e.eventManager;return n.onListen=WM.bind(null,e.syncEngine),n.onUnlisten=KM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QM.bind(null,e.syncEngine),n}function lV(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new Vy({next:E=>{g.su(),l.enqueueAndForget(()=>Py(a,v));const w=E.docs.has(c);!w&&E.fromCache?p.reject(new Ne(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&h&&h.source==="server"?p.reject(new Ne(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Oy(yh(c.path),g,{includeMetadataChanges:!0,Ta:!0});return ky(a,v)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}function uV(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new Vy({next:E=>{g.su(),l.enqueueAndForget(()=>Py(a,v)),E.fromCache&&h.source==="server"?p.reject(new Ne(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Oy(c,g,{includeMetadataChanges:!0,Ta:!0});return ky(a,v)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e,n){if(!n)throw new Ne(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cV(t,e,n,r){if(e===!0&&r===!0)throw new Ne(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iE(t){if(!Fe.isDocumentKey(t))throw new Ne(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oE(t){if(Fe.isDocumentKey(t))throw new Ne(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(t);throw new Ne(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firestore.googleapis.com",aE=!0;class lE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hb,this.ssl=aE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:aE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$D)throw new Ne(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yO;switch(r.type){case"firstParty":return new EO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sE.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),sE.delete(n),r.terminate())}(this),Promise.resolve()}}function dV(t,e,n,r={}){var i;const a=(t=Or(t,Ah))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a.host!==Hb&&a.host!==c&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!If(h,l)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=In.MOCK_USER;else{p=YN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new In(v)}t._authCredentials=new vO(new DT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Gi extends sa{constructor(e,n,r){super(e,n,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new Fe(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function tc(t,e,...n){if(t=ks(t),zb("collection","path",e),t instanceof Ah){const r=Pt.fromString(e,...n);return oE(r),new Gi(t,null,r)}{if(!(t instanceof Fn||t instanceof Gi))throw new Ne(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return oE(r),new Gi(t.firestore,null,r)}}function ia(t,e,...n){if(t=ks(t),arguments.length===1&&(e=MT.newId()),zb("doc","path",e),t instanceof Ah){const r=Pt.fromString(e,...n);return iE(r),new Fn(t,null,new Fe(r))}{if(!(t instanceof Fn||t instanceof Gi))throw new Ne(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return iE(r),new Fn(t.firestore,t instanceof Gi?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Cb(this,"async_queue_retry"),this.bu=()=>{const r=Nm();r&&Ie(uE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new si;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!kl(e))throw e;Ie(uE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Ry.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function dE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class lo extends Ah{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function fV(t,e){const n=typeof t=="object"?t:CT(),r=typeof t=="string"?t:Nf,i=tO(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=KN("firestore");a&&dV(i,...a)}return i}function Rh(t){if(t._terminated)throw new Ne(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hV(t),t._firestoreClient}function hV(t){var e,n,r;const i=t._freezeSettings(),a=function(c,h,p,g){return new MO(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Bb(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(En.fromBase64String(e))}catch(n){throw new Ne(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yl(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=/^__.*__$/;class mV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class Wb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class Fy{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qb(this.Lu)&&pV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Th(e)}ju(e,n,r,i=!1){return new Fy({Lu:e,methodName:n,zu:r,path:wn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uy(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new gV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yV(t,e,n,r,i,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,i);By("Data must be an object, but it was:",l,r);const c=Gb(r,l);let h,p;if(a.merge)h=new gr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const E=bg(e,v,n);if(!l.contains(E))throw new Ne(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Qb(g,E)||g.push(E)}h=new gr(g),p=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=l.fieldTransforms;return new mV(new sr(c),h,p)}class Ph extends kh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}class $y extends kh{_toFieldTransform(e){return new aD(e.path,new Xu)}isEqual(e){return e instanceof $y}}function vV(t,e,n,r){const i=t.ju(1,e,n);By("Data must be an object, but it was:",i,r);const a=[],l=sr.empty();yo(r,(h,p)=>{const g=zy(e,h,n);p=ks(p);const v=i.Ku(g);if(p instanceof Ph)a.push(g);else{const E=Sc(p,v);E!=null&&(a.push(g),l.set(g,E))}});const c=new gr(a);return new Wb(l,c,i.fieldTransforms)}function _V(t,e,n,r,i,a){const l=t.ju(1,e,n),c=[bg(e,r,n)],h=[i];if(a.length%2!=0)throw new Ne(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(bg(e,a[E])),h.push(a[E+1]);const p=[],g=sr.empty();for(let E=c.length-1;E>=0;--E)if(!Qb(p,c[E])){const w=c[E];let T=h[E];T=ks(T);const b=l.Ku(w);if(T instanceof Ph)p.push(w);else{const A=Sc(T,b);A!=null&&(p.push(w),g.set(w,A))}}const v=new gr(p);return new Wb(g,v,l.fieldTransforms)}function wV(t,e,n,r=!1){return Sc(n,t.ju(r?4:3,e))}function Sc(t,e){if(Kb(t=ks(t)))return By("Unsupported field value:",e,t),Gb(t,e);if(t instanceof kh)return function(r,i){if(!qb(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let h=Sc(c,i.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=ks(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=sn.fromDate(r);return{timestampValue:Lf(i.serializer,a)}}if(r instanceof sn){const a=new sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lf(i.serializer,a)}}if(r instanceof Ly)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yl)return{bytesValue:pb(i.serializer,r._byteString)};if(r instanceof Fn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_y(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jy)return function(l,c){return{mapValue:{fields:{[zT]:{stringValue:HT},[Of]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return my(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Sh(r)}`)}(t,e)}function Gb(t,e){const n={};return LT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{const a=Sc(i,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Kb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof sn||t instanceof Ly||t instanceof yl||t instanceof Fn||t instanceof kh||t instanceof jy)}function By(t,e,n){if(!Kb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sh(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function bg(t,e,n){if((e=ks(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return zy(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const EV=new RegExp("[~\\*/\\[\\]]");function zy(t,e,n){if(e.search(EV)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Ne(oe.INVALID_ARGUMENT,c+t+h)}function Qb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xV extends Yb{data(){return super.data()}}function Hy(t,e){return typeof e=="string"?zy(t,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class TV extends Wy{}function Xb(t,e,...n){let r=[];e instanceof Wy&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof qy).length,c=a.filter(h=>h instanceof Nh).length;if(l>1||l>0&&c>0)throw new Ne(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nh extends TV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nh(e,n,r)}_apply(e){const n=this._parse(e);return e1(e._query,n),new sa(e.firestore,e.converter,hg(e._query,n))}_parse(e){const n=Uy(e.firestore);return function(a,l,c,h,p,g,v){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ne(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){hE(v,g);const T=[];for(const b of v)T.push(fE(h,a,b));E={arrayValue:{values:T}}}else E=fE(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||hE(v,g),E=wV(c,l,v,g==="in"||g==="not-in");return Jt.create(p,g,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jb(t,e,n){const r=e,i=Hy("where",t);return Nh._create(i,r,n)}class qy extends Wy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)e1(l,h),l=hg(l,h)}(e._query,n),new sa(e.firestore,e.converter,hg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fE(t,e,n){if(typeof(n=ks(n))=="string"){if(n==="")throw new Ne(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(e)&&n.indexOf("/")!==-1)throw new Ne(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!Fe.isDocumentKey(r))throw new Ne(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Aw(t,new Fe(r))}if(n instanceof Fn)return Aw(t,n._key);throw new Ne(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function hE(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(t,e){const n=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bV{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Of].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>qt(l.doubleValue));return new jy(a)}convertGeoPoint(e){return new Ly(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const n=ro(e);return new sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);Et(wb(r));const i=new Yu(r.get(1),r.get(3)),a=new Fe(r.popFirst(5));return i.isEqual(n)||ui(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t1 extends Yb{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pf extends t1{data(e={}){return super.data(e)}}class n1{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pf(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new pf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new pf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:SV(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){t=Or(t,Fn);const e=Or(t.firestore,lo);return lV(Rh(e),t._key).then(n=>i1(e,t,n))}class Gy extends bV{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function r1(t){t=Or(t,sa);const e=Or(t.firestore,lo),n=Rh(e),r=new Gy(e);return Zb(t._query),uV(n,t._query).then(i=>new n1(e,r,t,i))}function AV(t,e,n,...r){t=Or(t,Fn);const i=Or(t.firestore,lo),a=Uy(i);let l;return l=typeof(e=ks(e))=="string"||e instanceof Ih?_V(a,"updateDoc",t._key,e,n,r):vV(a,"updateDoc",t._key,e),Ky(i,[l.toMutation(t._key,ts.exists(!0))])}function RV(t){return Ky(Or(t.firestore,lo),[new gy(t._key,ts.none())])}function s1(t,e){const n=Or(t.firestore,lo),r=ia(t),i=CV(t.converter,e);return Ky(n,[yV(Uy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ts.exists(!1))]).then(()=>r)}function IV(t,...e){var n,r,i;t=ks(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||dE(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(dE(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let h,p,g;if(t instanceof Fn)p=Or(t.firestore,lo),g=yh(t._key.path),h={next:v=>{e[l]&&e[l](i1(p,t,v))},error:e[l+1],complete:e[l+2]};else{const v=Or(t,sa);p=Or(v.firestore,lo),g=v._query;const E=new Gy(p);h={next:w=>{e[l]&&e[l](new n1(p,E,v,w))},error:e[l+1],complete:e[l+2]},Zb(t._query)}return function(E,w,T,b){const A=new Vy(b),k=new Oy(w,A,T);return E.asyncQueue.enqueueAndForget(async()=>ky(await $f(E),k)),()=>{A.su(),E.asyncQueue.enqueueAndForget(async()=>Py(await $f(E),k))}}(Rh(p),g,c,h)}function Ky(t,e){return function(r,i){const a=new si;return r.asyncQueue.enqueueAndForget(async()=>YM(await aV(r),i,a)),a.promise}(Rh(t),e)}function i1(t,e,n){const r=n.docs.get(e._key),i=new Gy(t);return new t1(t,i,e._key,r,new bu(n.hasPendingWrites,n.fromCache),e.converter)}function Cg(){return new $y("serverTimestamp")}(function(e,n=!0){(function(i){Rl=i})(iO),kf(new Wu("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new lo(new _O(r.getProvider("auth-internal")),new xO(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ne(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),il(gw,yw,e),il(gw,yw,"esm2017")})();var kV="firebase",PV="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */il(kV,PV,"app");const NV={apiKey:"AIzaSyDoxXQl7UKBapdaL8k7Nu-4nVD2s619Bso",authDomain:"ai-mock-inter.firebaseapp.com",projectId:"ai-mock-inter",storageBucket:"ai-mock-inter.firebasestorage.app",messagingSenderId:"247815260196",appId:"1:247815260196:web:f157b9f00c68c47607f0b1"},OV=oO.length>0?CT():bT(NV),as=fV(OV);var DV=t=>{switch(t){case"success":return LV;case"info":return FV;case"warning":return jV;case"error":return UV;default:return null}},MV=Array(12).fill(0),VV=({visible:t,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},se.createElement("div",{className:"sonner-spinner"},MV.map((n,r)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),LV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$V=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BV=()=>{let[t,e]=se.useState(document.hidden);return se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Sg=1,zV=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Sg++,a=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...r,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,a,l=r.then(async h=>{if(a=["resolve",h],se.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(WV(h)&&!h.ok){i=!1;let p=typeof e.error=="function"?await e.error(`HTTP error! status: ${h.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${h.status}`):e.description;this.create({id:n,type:"error",message:p,description:g})}else if(e.success!==void 0){i=!1;let p=typeof e.success=="function"?await e.success(h):e.success,g=typeof e.description=="function"?await e.description(h):e.description;this.create({id:n,type:"success",message:p,description:g})}}).catch(async h=>{if(a=["reject",h],e.error!==void 0){i=!1;let p=typeof e.error=="function"?await e.error(h):e.error,g=typeof e.description=="function"?await e.description(h):e.description;this.create({id:n,type:"error",message:p,description:g})}}).finally(()=>{var h;i&&(this.dismiss(n),n=void 0),(h=e.finally)==null||h.call(e)}),c=()=>new Promise((h,p)=>l.then(()=>a[0]==="reject"?p(a[1]):h(a[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Sg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},nr=new zV,HV=(t,e)=>{let n=(e==null?void 0:e.id)||Sg++;return nr.addToast({title:t,...e,id:n}),n},WV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qV=HV,GV=()=>nr.toasts,KV=()=>nr.getActiveToasts(),_n=Object.assign(qV,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:GV,getToasts:KV});function QV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}QV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jd(t){return t.label!==void 0}var YV=3,ZV="32px",XV="16px",pE=4e3,JV=356,eL=14,tL=20,nL=200;function Yr(...t){return t.filter(Boolean).join(" ")}function rL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var sL=t=>{var e,n,r,i,a,l,c,h,p,g,v;let{invert:E,toast:w,unstyled:T,interacting:b,setHeights:A,visibleToasts:k,heights:V,index:F,toasts:z,expanded:q,removeToast:J,defaultRichColors:O,closeButton:I,style:N,cancelButtonStyle:L,actionButtonStyle:U,className:M="",descriptionClassName:D="",duration:we,position:Le,gap:Ce,loadingIcon:xe,expandByDefault:re,classNames:ne,icons:ae,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:Z}=t,[he,ge]=se.useState(null),[be,ve]=se.useState(null),[Se,Be]=se.useState(!1),[je,st]=se.useState(!1),[ht,pt]=se.useState(!1),[yt,zt]=se.useState(!1),[$t,$n]=se.useState(!1),[or,$]=se.useState(0),[K,ee]=se.useState(0),ye=se.useRef(w.duration||we||pE),pe=se.useRef(null),le=se.useRef(null),ke=F===0,qe=F+1<=k,ze=w.type,Ye=w.dismissible!==!1,Qt=w.className||"",Ms=w.descriptionClassName||"",fn=se.useMemo(()=>V.findIndex(He=>He.toastId===w.id)||0,[V,w.id]),ar=se.useMemo(()=>{var He;return(He=w.closeButton)!=null?He:I},[w.closeButton,I]),_r=se.useMemo(()=>w.duration||we||pE,[w.duration,we]),wr=se.useRef(0),Bn=se.useRef(0),Mr=se.useRef(0),Er=se.useRef(null),[_o,Vs]=Le.split("-"),Ls=se.useMemo(()=>V.reduce((He,it,vt)=>vt>=fn?He:He+it.height,0),[V,fn]),js=BV(),zn=w.invert||E,Hn=ze==="loading";Bn.current=se.useMemo(()=>fn*Ce+Ls,[fn,Ls]),se.useEffect(()=>{ye.current=_r},[_r]),se.useEffect(()=>{Be(!0)},[]),se.useEffect(()=>{let He=le.current;if(He){let it=He.getBoundingClientRect().height;return ee(it),A(vt=>[{toastId:w.id,height:it,position:w.position},...vt]),()=>A(vt=>vt.filter(Ht=>Ht.toastId!==w.id))}},[A,w.id]),se.useLayoutEffect(()=>{if(!Se)return;let He=le.current,it=He.style.height;He.style.height="auto";let vt=He.getBoundingClientRect().height;He.style.height=it,ee(vt),A(Ht=>Ht.find(hn=>hn.toastId===w.id)?Ht.map(hn=>hn.toastId===w.id?{...hn,height:vt}:hn):[{toastId:w.id,height:vt,position:w.position},...Ht])},[Se,w.title,w.description,A,w.id]);let On=se.useCallback(()=>{st(!0),$(Bn.current),A(He=>He.filter(it=>it.toastId!==w.id)),setTimeout(()=>{J(w)},nL)},[w,J,A,Bn]);se.useEffect(()=>{if(w.promise&&ze==="loading"||w.duration===1/0||w.type==="loading")return;let He;return q||b||Z&&js?(()=>{if(Mr.current<wr.current){let it=new Date().getTime()-wr.current;ye.current=ye.current-it}Mr.current=new Date().getTime()})():ye.current!==1/0&&(wr.current=new Date().getTime(),He=setTimeout(()=>{var it;(it=w.onAutoClose)==null||it.call(w,w),On()},ye.current)),()=>clearTimeout(He)},[q,b,w,ze,Z,js,On]),se.useEffect(()=>{w.delete&&On()},[On,w.delete]);function xr(){var He,it,vt;return ae!=null&&ae.loading?se.createElement("div",{className:Yr(ne==null?void 0:ne.loader,(He=w==null?void 0:w.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":ze==="loading"},ae.loading):xe?se.createElement("div",{className:Yr(ne==null?void 0:ne.loader,(it=w==null?void 0:w.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":ze==="loading"},xe):se.createElement(VV,{className:Yr(ne==null?void 0:ne.loader,(vt=w==null?void 0:w.classNames)==null?void 0:vt.loader),visible:ze==="loading"})}return se.createElement("li",{tabIndex:0,ref:le,className:Yr(M,Qt,ne==null?void 0:ne.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,ne==null?void 0:ne.default,ne==null?void 0:ne[ze],(n=w==null?void 0:w.classNames)==null?void 0:n[ze]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:O,"data-styled":!(w.jsx||w.unstyled||T),"data-mounted":Se,"data-promise":!!w.promise,"data-swiped":$t,"data-removed":je,"data-visible":qe,"data-y-position":_o,"data-x-position":Vs,"data-index":F,"data-front":ke,"data-swiping":ht,"data-dismissible":Ye,"data-type":ze,"data-invert":zn,"data-swipe-out":yt,"data-swipe-direction":be,"data-expanded":!!(q||re&&Se),style:{"--index":F,"--toasts-before":F,"--z-index":z.length-F,"--offset":`${je?or:Bn.current}px`,"--initial-height":re?"auto":`${K}px`,...N,...w.style},onDragEnd:()=>{pt(!1),ge(null),Er.current=null},onPointerDown:He=>{Hn||!Ye||(pe.current=new Date,$(Bn.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(pt(!0),Er.current={x:He.clientX,y:He.clientY}))},onPointerUp:()=>{var He,it,vt,Ht;if(yt||!Ye)return;Er.current=null;let hn=Number(((He=le.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_t=Number(((it=le.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wn=new Date().getTime()-((vt=pe.current)==null?void 0:vt.getTime()),Mt=he==="x"?hn:_t,xn=Math.abs(Mt)/Wn;if(Math.abs(Mt)>=tL||xn>.11){$(Bn.current),(Ht=w.onDismiss)==null||Ht.call(w,w),ve(he==="x"?hn>0?"right":"left":_t>0?"down":"up"),On(),zt(!0),$n(!1);return}pt(!1),ge(null)},onPointerMove:He=>{var it,vt,Ht,hn;if(!Er.current||!Ye||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;let _t=He.clientY-Er.current.y,Wn=He.clientX-Er.current.x,Mt=(vt=t.swipeDirections)!=null?vt:rL(Le);!he&&(Math.abs(Wn)>1||Math.abs(_t)>1)&&ge(Math.abs(Wn)>Math.abs(_t)?"x":"y");let xn={x:0,y:0};he==="y"?(Mt.includes("top")||Mt.includes("bottom"))&&(Mt.includes("top")&&_t<0||Mt.includes("bottom")&&_t>0)&&(xn.y=_t):he==="x"&&(Mt.includes("left")||Mt.includes("right"))&&(Mt.includes("left")&&Wn<0||Mt.includes("right")&&Wn>0)&&(xn.x=Wn),(Math.abs(xn.x)>0||Math.abs(xn.y)>0)&&$n(!0),(Ht=le.current)==null||Ht.style.setProperty("--swipe-amount-x",`${xn.x}px`),(hn=le.current)==null||hn.style.setProperty("--swipe-amount-y",`${xn.y}px`)}},ar&&!w.jsx?se.createElement("button",{"aria-label":H,"data-disabled":Hn,"data-close-button":!0,onClick:Hn||!Ye?()=>{}:()=>{var He;On(),(He=w.onDismiss)==null||He.call(w,w)},className:Yr(ne==null?void 0:ne.closeButton,(i=w==null?void 0:w.classNames)==null?void 0:i.closeButton)},(a=ae==null?void 0:ae.close)!=null?a:$V):null,w.jsx||C.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:se.createElement(se.Fragment,null,ze||w.icon||w.promise?se.createElement("div",{"data-icon":"",className:Yr(ne==null?void 0:ne.icon,(l=w==null?void 0:w.classNames)==null?void 0:l.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||xr():null,w.type!=="loading"?w.icon||(ae==null?void 0:ae[ze])||DV(ze):null):null,se.createElement("div",{"data-content":"",className:Yr(ne==null?void 0:ne.content,(c=w==null?void 0:w.classNames)==null?void 0:c.content)},se.createElement("div",{"data-title":"",className:Yr(ne==null?void 0:ne.title,(h=w==null?void 0:w.classNames)==null?void 0:h.title)},typeof w.title=="function"?w.title():w.title),w.description?se.createElement("div",{"data-description":"",className:Yr(D,Ms,ne==null?void 0:ne.description,(p=w==null?void 0:w.classNames)==null?void 0:p.description)},typeof w.description=="function"?w.description():w.description):null),C.isValidElement(w.cancel)?w.cancel:w.cancel&&Jd(w.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||L,onClick:He=>{var it,vt;Jd(w.cancel)&&Ye&&((vt=(it=w.cancel).onClick)==null||vt.call(it,He),On())},className:Yr(ne==null?void 0:ne.cancelButton,(g=w==null?void 0:w.classNames)==null?void 0:g.cancelButton)},w.cancel.label):null,C.isValidElement(w.action)?w.action:w.action&&Jd(w.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||U,onClick:He=>{var it,vt;Jd(w.action)&&((vt=(it=w.action).onClick)==null||vt.call(it,He),!He.defaultPrevented&&On())},className:Yr(ne==null?void 0:ne.actionButton,(v=w==null?void 0:w.classNames)==null?void 0:v.actionButton)},w.action.label):null))};function mE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function iL(t,e){let n={};return[t,e].forEach((r,i)=>{let a=i===1,l=a?"--mobile-offset":"--offset",c=a?XV:ZV;function h(p){["top","right","bottom","left"].forEach(g=>{n[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${l}-${p}`]=c:n[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(c)}),n}var oL=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:h,mobileOffset:p,theme:g="light",richColors:v,duration:E,style:w,visibleToasts:T=YV,toastOptions:b,dir:A=mE(),gap:k=eL,loadingIcon:V,icons:F,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:q}=t,[J,O]=se.useState([]),I=se.useMemo(()=>Array.from(new Set([r].concat(J.filter(Z=>Z.position).map(Z=>Z.position)))),[J,r]),[N,L]=se.useState([]),[U,M]=se.useState(!1),[D,we]=se.useState(!1),[Le,Ce]=se.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),xe=se.useRef(null),re=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=se.useRef(null),ae=se.useRef(!1),H=se.useCallback(Z=>{O(he=>{var ge;return(ge=he.find(be=>be.id===Z.id))!=null&&ge.delete||nr.dismiss(Z.id),he.filter(({id:be})=>be!==Z.id)})},[]);return se.useEffect(()=>nr.subscribe(Z=>{if(Z.dismiss){O(he=>he.map(ge=>ge.id===Z.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{xx.flushSync(()=>{O(he=>{let ge=he.findIndex(be=>be.id===Z.id);return ge!==-1?[...he.slice(0,ge),{...he[ge],...Z},...he.slice(ge+1)]:[Z,...he]})})})}),[]),se.useEffect(()=>{if(g!=="system"){Ce(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ce("dark"):Ce("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:he})=>{Ce(he?"dark":"light")})}catch{Z.addListener(({matches:ge})=>{try{Ce(ge?"dark":"light")}catch(be){console.error(be)}})}},[g]),se.useEffect(()=>{J.length<=1&&M(!1)},[J]),se.useEffect(()=>{let Z=he=>{var ge,be;i.every(ve=>he[ve]||he.code===ve)&&(M(!0),(ge=xe.current)==null||ge.focus()),he.code==="Escape"&&(document.activeElement===xe.current||(be=xe.current)!=null&&be.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[i]),se.useEffect(()=>{if(xe.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,ae.current=!1)}},[xe.current]),se.createElement("section",{ref:e,"aria-label":`${z} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((Z,he)=>{var ge;let[be,ve]=Z.split("-");return J.length?se.createElement("ol",{key:Z,dir:A==="auto"?mE():A,tabIndex:-1,ref:xe,className:c,"data-sonner-toaster":!0,"data-theme":Le,"data-y-position":be,"data-lifted":U&&J.length>1&&!a,"data-x-position":ve,style:{"--front-toast-height":`${((ge=N[0])==null?void 0:ge.height)||0}px`,"--width":`${JV}px`,"--gap":`${k}px`,...w,...iL(h,p)},onBlur:Se=>{ae.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(ae.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,ne.current=Se.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{D||M(!1)},onDragEnd:()=>M(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||we(!0)},onPointerUp:()=>we(!1)},J.filter(Se=>!Se.position&&he===0||Se.position===Z).map((Se,Be)=>{var je,st;return se.createElement(sL,{key:Se.id,icons:F,index:Be,toast:Se,defaultRichColors:v,duration:(je=b==null?void 0:b.duration)!=null?je:E,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:T,closeButton:(st=b==null?void 0:b.closeButton)!=null?st:l,interacting:D,position:Z,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:H,toasts:J.filter(ht=>ht.position==Se.position),heights:N.filter(ht=>ht.position==Se.position),setHeights:L,expandByDefault:a,gap:k,loadingIcon:V,expanded:U,pauseWhenPageIsHidden:q,swipeDirections:t.swipeDirections})})):null}))});const Qy=({interview:t,onMockPage:e=!1})=>{const n=mo(),{id:r,position:i,description:a,techStack:l,createdAt:c}=t||{},h=g=>{r&&n(g,{replace:!0})},p=async()=>{if(!r){_n.error("Interview ID not found.");return}try{await RV(ia(as,"interviews",r)),_n.success("Interview deleted successfully.")}catch(g){console.error("Error deleting interview:",g),_n.error("Failed to delete interview.")}};return S.jsxs(Pu,{className:"p-4 rounded-md shadow-none hover:shadow-md shadow-gray-100 cursor-pointer transition-all space-y-4",children:[S.jsx(Nu,{className:"text-lg",children:i}),S.jsx(Ou,{children:a}),l&&S.jsx("div",{className:"w-full flex items-center gap-2 flex-wrap",children:l.split(",").map((g,v)=>S.jsx(qI,{variant:"outline",className:"text-xs text-muted-foreground hover:border-emerald-400 hover:bg-emerald-50 hover:text-emerald-900",children:g},v))}),S.jsxs(kx,{className:Xe("w-full flex items-center p-0",e?"justify-end":"justify-between"),children:[S.jsx("p",{className:"text-[12px] text-muted-foreground truncate whitespace-nowrap",children:c?`${new Date(c.toDate()).toLocaleDateString("en-US",{dateStyle:"long"})} - ${new Date(c.toDate()).toLocaleTimeString("en-US",{timeStyle:"short"})}`:"Unknown Date"}),!e&&r&&S.jsxs("div",{className:"flex items-center justify-center",children:[S.jsx(ni,{content:"View",buttonVariant:"ghost",onClick:()=>h(`/generate/interview/${r}`),disabled:!1,buttonClassName:"hover:text-sky-500",icon:S.jsx(oN,{}),loading:!1}),S.jsx(ni,{content:"Feedback",buttonVariant:"ghost",onClick:()=>h(`/generate/feedback/${r}`),disabled:!1,buttonClassName:"hover:text-yellow-500",icon:S.jsx(pN,{}),loading:!1}),S.jsx(ni,{content:"Start",buttonVariant:"ghost",onClick:()=>h(`/generate/interview/${r}/start`),disabled:!1,buttonClassName:"hover:text-sky-500",icon:S.jsx(mT,{}),loading:!1}),S.jsx(ni,{content:"Delete",buttonVariant:"ghost",onClick:p,disabled:!1,buttonClassName:"hover:text-red-500",icon:S.jsx(SN,{}),loading:!1})]})]})]})};var aL="Separator",gE="horizontal",lL=["horizontal","vertical"],o1=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=gE,...i}=t,a=uL(r)?r:gE,c=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return S.jsx(bt.div,{"data-orientation":a,...c,...i,ref:e})});o1.displayName=aL;function uL(t){return lL.includes(t)}var a1=o1;const Yy=C.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>S.jsx(a1,{ref:i,decorative:n,orientation:e,className:Xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Yy.displayName=a1.displayName;function cL({className:t,...e}){return S.jsx("div",{className:Xe("animate-pulse rounded-md bg-muted",t),...e})}const dL=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0);return C.useEffect(()=>{const i=tc(as,"interviews"),a=IV(i,l=>{const c=l.docs.map(h=>({id:h.id,...h.data()}));e(c),r(!1)},l=>{console.error("Error fetching interviews:",l),_n.error("Something went wrong. Try again later."),r(!1)});return()=>a()},[]),S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex w-full items-center justify-between",children:[S.jsx(Tf,{title:"Dashboard",description:"Create and start your AI Mock interview"}),S.jsx(Yi,{to:"/generate/create",children:S.jsxs(es,{size:"sm",children:[S.jsx(sw,{})," Add New"]})})]}),S.jsx(Yy,{className:"my-8"}),S.jsx("div",{className:"md:grid md:grid-cols-3 gap-3 py-4",children:n?Array.from({length:6}).map((i,a)=>S.jsx(cL,{className:"h-24 md:h-32 rounded-md"},a)):t.length>0?t.map(i=>S.jsx(Qy,{interview:i},i.id)):S.jsxs("div",{className:"md:col-span-3 w-full flex flex-grow items-center justify-center h-96 flex-col",children:[S.jsx("h2",{className:"text-lg font-semibold text-muted-foreground",children:"No Data Found"}),S.jsx("p",{className:"w-full md:w-96 text-center text-sm text-neutral-400 mt-4",children:"There are no available interviews. Please add a new mock interview."}),S.jsx(Yi,{to:"/generate/create",className:"mt-4",children:S.jsxs(es,{size:"sm",children:[S.jsx(sw,{className:"min-w-5 min-h-5 mr-1"}),"Add New"]})})]})})]})};var ft;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of a)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},t.find=(i,a)=>{for(const l of i)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ft||(ft={}));var Ag;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ag||(Ag={}));const Re=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ti=t=>{switch(typeof t){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(t)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(t)?Re.array:t===null?Re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Re.promise:typeof Map<"u"&&t instanceof Map?Re.map:typeof Set<"u"&&t instanceof Set?Re.set:typeof Date<"u"&&t instanceof Date?Re.date:Re.object;default:return Re.unknown}},fe=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fL=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class vr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,h=0;for(;h<l.path.length;){const p=l.path[h];h===l.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(n(l))):c[p]=c[p]||{_errors:[]},c=c[p],h++}}};return i(this),r}static assert(e){if(!(e instanceof vr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}vr.create=t=>new vr(t);const vl=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===Re.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let l1=vl;function hL(t){l1=t}function zf(){return l1}const Hf=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const h=r.filter(p=>!!p).slice().reverse();for(const p of h)c=p(l,{data:e,defaultError:c}).message;return{...i,path:a,message:c}},pL=[];function Te(t,e){const n=zf(),r=Hf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===vl?void 0:vl].filter(i=>!!i)});t.common.issues.push(r)}class Nn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ge;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,l=await i.value;r.push({key:a,value:l})}return Nn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return Ge;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const Ge=Object.freeze({status:"aborted"}),el=t=>({status:"dirty",value:t}),Un=t=>({status:"valid",value:t}),Rg=t=>t.status==="aborted",Ig=t=>t.status==="dirty",Qo=t=>t.status==="valid",nc=t=>typeof Promise<"u"&&t instanceof Promise;function Wf(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function u1(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ve||(Ve={}));var Cu,Su;class Ns{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yE=(t,e)=>{if(Qo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vr(t.common.issues);return this._error=n,this._error}}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{var h,p;const{message:g}=t;return l.code==="invalid_enum_value"?{message:g??c.defaultError}:typeof c.data>"u"?{message:(h=g??r)!==null&&h!==void 0?h:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(p=g??n)!==null&&p!==void 0?p:c.defaultError}},description:i}}class nt{get description(){return this._def.description}_getType(e){return ti(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ti(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nn,ctx:{common:e.parent.common,data:e.data,parsedType:ti(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(nc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ti(e)},a=this._parseSync({data:e,path:i.path,parent:i});return yE(i,a)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ti(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return Qo(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>Qo(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ti(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(nc(i)?i:Promise.resolve(i));return yE(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const l=e(i),c=()=>a.addIssue({code:fe.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ls({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Rs.create(this,this._def)}nullable(){return ho.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ns.create(this)}promise(){return wl.create(this,this._def)}or(e){return oc.create([this,e],this._def)}and(e){return ac.create(this,e,this._def)}transform(e){return new ls({...et(this._def),schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fc({...et(this._def),innerType:this,defaultValue:n,typeName:We.ZodDefault})}brand(){return new Zy({typeName:We.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hc({...et(this._def),innerType:this,catchValue:n,typeName:We.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ac.create(this,e)}readonly(){return pc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mL=/^c[^\s-]{8,}$/i,gL=/^[0-9a-z]+$/,yL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_L=/^[a-z0-9_-]{21}$/i,wL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,TL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dm;const bL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,AL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,IL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,c1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kL=new RegExp(`^${c1}$`);function d1(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function PL(t){return new RegExp(`^${d1(t)}$`)}function f1(t){let e=`${c1}T${d1(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function NL(t,e){return!!((e==="v4"||!e)&&bL.test(t)||(e==="v6"||!e)&&SL.test(t))}function OL(t,e){if(!wL.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function DL(t,e){return!!((e==="v4"||!e)&&CL.test(t)||(e==="v6"||!e)&&AL.test(t))}class Jr extends nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const a=this._getOrReturnCtx(e);return Te(a,{code:fe.invalid_type,expected:Re.string,received:a.parsedType}),Ge}const r=new Nn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?Te(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Te(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")xL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"email",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Dm||(Dm=new RegExp(TL,"u")),Dm.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"emoji",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")vL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"uuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")_L.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"nanoid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")mL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")gL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid2",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")yL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ulid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Te(i,{validation:"url",code:fe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"regex",code:fe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?f1(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?kL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?PL(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?EL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"duration",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?NL(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ip",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?OL(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"jwt",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?DL(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cidr",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?RL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?IL.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64url",code:fe.invalid_string,message:a.message}),r.dirty()):ft.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:fe.invalid_string,...Ve.errToObj(r)})}_addCheck(e){return new Jr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ve.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ve.errToObj(n)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jr.create=t=>{var e;return new Jr({checks:[],typeName:We.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...et(t)})};function ML(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return a%l/Math.pow(10,i)}class uo extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const a=this._getOrReturnCtx(e);return Te(a,{code:fe.invalid_type,expected:Re.number,received:a.parsedType}),Ge}let r;const i=new Nn;for(const a of this._def.checks)a.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?ML(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.not_finite,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ve.toString(n))}setLimit(e,n,r,i){return new uo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ve.toString(i)}]})}_addCheck(e){return new uo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}uo.create=t=>new uo({checks:[],typeName:We.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class co extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Re.bigint)return this._getInvalidInput(e);let r;const i=new Nn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Te(n,{code:fe.invalid_type,expected:Re.bigint,received:n.parsedType}),Ge}gte(e,n){return this.setLimit("min",e,!0,Ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ve.toString(n))}setLimit(e,n,r,i){return new co({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ve.toString(i)}]})}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}co.create=t=>{var e;return new co({checks:[],typeName:We.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...et(t)})};class rc extends nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:fe.invalid_type,expected:Re.boolean,received:r.parsedType}),Ge}return Un(e.data)}}rc.create=t=>new rc({typeName:We.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Yo extends nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const a=this._getOrReturnCtx(e);return Te(a,{code:fe.invalid_type,expected:Re.date,received:a.parsedType}),Ge}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Te(a,{code:fe.invalid_date}),Ge}const r=new Nn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ft.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yo.create=t=>new Yo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:We.ZodDate,...et(t)});class qf extends nt{_parse(e){if(this._getType(e)!==Re.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:fe.invalid_type,expected:Re.symbol,received:r.parsedType}),Ge}return Un(e.data)}}qf.create=t=>new qf({typeName:We.ZodSymbol,...et(t)});class sc extends nt{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:fe.invalid_type,expected:Re.undefined,received:r.parsedType}),Ge}return Un(e.data)}}sc.create=t=>new sc({typeName:We.ZodUndefined,...et(t)});class ic extends nt{_parse(e){if(this._getType(e)!==Re.null){const r=this._getOrReturnCtx(e);return Te(r,{code:fe.invalid_type,expected:Re.null,received:r.parsedType}),Ge}return Un(e.data)}}ic.create=t=>new ic({typeName:We.ZodNull,...et(t)});class _l extends nt{constructor(){super(...arguments),this._any=!0}_parse(e){return Un(e.data)}}_l.create=t=>new _l({typeName:We.ZodAny,...et(t)});class Wo extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Un(e.data)}}Wo.create=t=>new Wo({typeName:We.ZodUnknown,...et(t)});class di extends nt{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:fe.invalid_type,expected:Re.never,received:n.parsedType}),Ge}}di.create=t=>new di({typeName:We.ZodNever,...et(t)});class Gf extends nt{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:fe.invalid_type,expected:Re.void,received:r.parsedType}),Ge}return Un(e.data)}}Gf.create=t=>new Gf({typeName:We.ZodVoid,...et(t)});class ns extends nt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Re.array)return Te(n,{code:fe.invalid_type,expected:Re.array,received:n.parsedType}),Ge;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(l||c)&&(Te(n,{code:l?fe.too_big:fe.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Te(n,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Te(n,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>i.type._parseAsync(new Ns(n,l,n.path,c)))).then(l=>Nn.mergeArray(r,l));const a=[...n.data].map((l,c)=>i.type._parseSync(new Ns(n,l,n.path,c)));return Nn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ns({...this._def,minLength:{value:e,message:Ve.toString(n)}})}max(e,n){return new ns({...this._def,maxLength:{value:e,message:Ve.toString(n)}})}length(e,n){return new ns({...this._def,exactLength:{value:e,message:Ve.toString(n)}})}nonempty(e){return this.min(1,e)}}ns.create=(t,e)=>new ns({type:t,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray,...et(e)});function Ja(t){if(t instanceof jt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Rs.create(Ja(r))}return new jt({...t._def,shape:()=>e})}else return t instanceof ns?new ns({...t._def,type:Ja(t.element)}):t instanceof Rs?Rs.create(Ja(t.unwrap())):t instanceof ho?ho.create(Ja(t.unwrap())):t instanceof Os?Os.create(t.items.map(e=>Ja(e))):t}class jt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Re.object){const p=this._getOrReturnCtx(e);return Te(p,{code:fe.invalid_type,expected:Re.object,received:p.parsedType}),Ge}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof di&&this._def.unknownKeys==="strip"))for(const p in i.data)l.includes(p)||c.push(p);const h=[];for(const p of l){const g=a[p],v=i.data[p];h.push({key:{status:"valid",value:p},value:g._parse(new Ns(i,v,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof di){const p=this._def.unknownKeys;if(p==="passthrough")for(const g of c)h.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(p==="strict")c.length>0&&(Te(i,{code:fe.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const g of c){const v=i.data[g];h.push({key:{status:"valid",value:g},value:p._parse(new Ns(i,v,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const g of h){const v=await g.key,E=await g.value;p.push({key:v,value:E,alwaysSet:g.alwaysSet})}return p}).then(p=>Nn.mergeObjectSync(r,p)):Nn.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new jt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,l,c;const h=(l=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=Ve.errToObj(e).message)!==null&&c!==void 0?c:h}:{message:h}}}:{}})}strip(){return new jt({...this._def,unknownKeys:"strip"})}passthrough(){return new jt({...this._def,unknownKeys:"passthrough"})}extend(e){return new jt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:We.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new jt({...this._def,catchall:e})}pick(e){const n={};return ft.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new jt({...this._def,shape:()=>n})}omit(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new jt({...this._def,shape:()=>n})}deepPartial(){return Ja(this)}partial(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new jt({...this._def,shape:()=>n})}required(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Rs;)a=a._def.innerType;n[r]=a}}),new jt({...this._def,shape:()=>n})}keyof(){return h1(ft.objectKeys(this.shape))}}jt.create=(t,e)=>new jt({shape:()=>t,unknownKeys:"strip",catchall:di.create(),typeName:We.ZodObject,...et(e)});jt.strictCreate=(t,e)=>new jt({shape:()=>t,unknownKeys:"strict",catchall:di.create(),typeName:We.ZodObject,...et(e)});jt.lazycreate=(t,e)=>new jt({shape:t,unknownKeys:"strip",catchall:di.create(),typeName:We.ZodObject,...et(e)});class oc extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new vr(c.ctx.common.issues));return Te(n,{code:fe.invalid_union,unionErrors:l}),Ge}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const h of r){const p={...n,common:{...n.common,issues:[]},parent:null},g=h._parseSync({data:n.data,path:n.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(h=>new vr(h));return Te(n,{code:fe.invalid_union,unionErrors:c}),Ge}}get options(){return this._def.options}}oc.create=(t,e)=>new oc({options:t,typeName:We.ZodUnion,...et(e)});const ei=t=>t instanceof uc?ei(t.schema):t instanceof ls?ei(t.innerType()):t instanceof cc?[t.value]:t instanceof fo?t.options:t instanceof dc?ft.objectValues(t.enum):t instanceof fc?ei(t._def.innerType):t instanceof sc?[void 0]:t instanceof ic?[null]:t instanceof Rs?[void 0,...ei(t.unwrap())]:t instanceof ho?[null,...ei(t.unwrap())]:t instanceof Zy||t instanceof pc?ei(t.unwrap()):t instanceof hc?ei(t._def.innerType):[];class Dh extends nt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.object)return Te(n,{code:fe.invalid_type,expected:Re.object,received:n.parsedType}),Ge;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Te(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const l=ei(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,a)}}return new Dh({typeName:We.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...et(r)})}}function kg(t,e){const n=ti(t),r=ti(e);if(t===e)return{valid:!0,data:t};if(n===Re.object&&r===Re.object){const i=ft.objectKeys(e),a=ft.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(const c of a){const h=kg(t[c],e[c]);if(!h.valid)return{valid:!1};l[c]=h.data}return{valid:!0,data:l}}else if(n===Re.array&&r===Re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const l=t[a],c=e[a],h=kg(l,c);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return n===Re.date&&r===Re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ac extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,l)=>{if(Rg(a)||Rg(l))return Ge;const c=kg(a.value,l.value);return c.valid?((Ig(a)||Ig(l))&&n.dirty(),{status:n.value,value:c.data}):(Te(r,{code:fe.invalid_intersection_types}),Ge)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ac.create=(t,e,n)=>new ac({left:t,right:e,typeName:We.ZodIntersection,...et(n)});class Os extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.array)return Te(r,{code:fe.invalid_type,expected:Re.array,received:r.parsedType}),Ge;if(r.data.length<this._def.items.length)return Te(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,c)=>{const h=this._def.items[c]||this._def.rest;return h?h._parse(new Ns(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>Nn.mergeArray(n,l)):Nn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Os({...this._def,rest:e})}}Os.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Os({items:t,typeName:We.ZodTuple,rest:null,...et(e)})};class lc extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.object)return Te(r,{code:fe.invalid_type,expected:Re.object,received:r.parsedType}),Ge;const i=[],a=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new Ns(r,c,r.path,c)),value:l._parse(new Ns(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Nn.mergeObjectAsync(n,i):Nn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof nt?new lc({keyType:e,valueType:n,typeName:We.ZodRecord,...et(r)}):new lc({keyType:Jr.create(),valueType:e,typeName:We.ZodRecord,...et(n)})}}class Kf extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.map)return Te(r,{code:fe.invalid_type,expected:Re.map,received:r.parsedType}),Ge;const i=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([c,h],p)=>({key:i._parse(new Ns(r,c,r.path,[p,"key"])),value:a._parse(new Ns(r,h,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const h of l){const p=await h.key,g=await h.value;if(p.status==="aborted"||g.status==="aborted")return Ge;(p.status==="dirty"||g.status==="dirty")&&n.dirty(),c.set(p.value,g.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const h of l){const p=h.key,g=h.value;if(p.status==="aborted"||g.status==="aborted")return Ge;(p.status==="dirty"||g.status==="dirty")&&n.dirty(),c.set(p.value,g.value)}return{status:n.value,value:c}}}}Kf.create=(t,e,n)=>new Kf({valueType:e,keyType:t,typeName:We.ZodMap,...et(n)});class Zo extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.set)return Te(r,{code:fe.invalid_type,expected:Re.set,received:r.parsedType}),Ge;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Te(r,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Te(r,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function l(h){const p=new Set;for(const g of h){if(g.status==="aborted")return Ge;g.status==="dirty"&&n.dirty(),p.add(g.value)}return{status:n.value,value:p}}const c=[...r.data.values()].map((h,p)=>a._parse(new Ns(r,h,r.path,p)));return r.common.async?Promise.all(c).then(h=>l(h)):l(c)}min(e,n){return new Zo({...this._def,minSize:{value:e,message:Ve.toString(n)}})}max(e,n){return new Zo({...this._def,maxSize:{value:e,message:Ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zo.create=(t,e)=>new Zo({valueType:t,minSize:null,maxSize:null,typeName:We.ZodSet,...et(e)});class al extends nt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.function)return Te(n,{code:fe.invalid_type,expected:Re.function,received:n.parsedType}),Ge;function r(c,h){return Hf({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zf(),vl].filter(p=>!!p),issueData:{code:fe.invalid_arguments,argumentsError:h}})}function i(c,h){return Hf({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zf(),vl].filter(p=>!!p),issueData:{code:fe.invalid_return_type,returnTypeError:h}})}const a={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof wl){const c=this;return Un(async function(...h){const p=new vr([]),g=await c._def.args.parseAsync(h,a).catch(w=>{throw p.addIssue(r(h,w)),p}),v=await Reflect.apply(l,this,g);return await c._def.returns._def.type.parseAsync(v,a).catch(w=>{throw p.addIssue(i(v,w)),p})})}else{const c=this;return Un(function(...h){const p=c._def.args.safeParse(h,a);if(!p.success)throw new vr([r(h,p.error)]);const g=Reflect.apply(l,this,p.data),v=c._def.returns.safeParse(g,a);if(!v.success)throw new vr([i(g,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new al({...this._def,args:Os.create(e).rest(Wo.create())})}returns(e){return new al({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new al({args:e||Os.create([]).rest(Wo.create()),returns:n||Wo.create(),typeName:We.ZodFunction,...et(r)})}}class uc extends nt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uc.create=(t,e)=>new uc({getter:t,typeName:We.ZodLazy,...et(e)});class cc extends nt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}cc.create=(t,e)=>new cc({value:t,typeName:We.ZodLiteral,...et(e)});function h1(t,e){return new fo({values:t,typeName:We.ZodEnum,...et(e)})}class fo extends nt{constructor(){super(...arguments),Cu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{expected:ft.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Ge}if(Wf(this,Cu)||u1(this,Cu,new Set(this._def.values)),!Wf(this,Cu).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Ge}return Un(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return fo.create(e,{...this._def,...n})}exclude(e,n=this._def){return fo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cu=new WeakMap;fo.create=h1;class dc extends nt{constructor(){super(...arguments),Su.set(this,void 0)}_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Re.string&&r.parsedType!==Re.number){const i=ft.objectValues(n);return Te(r,{expected:ft.joinValues(i),received:r.parsedType,code:fe.invalid_type}),Ge}if(Wf(this,Su)||u1(this,Su,new Set(ft.getValidEnumValues(this._def.values))),!Wf(this,Su).has(e.data)){const i=ft.objectValues(n);return Te(r,{received:r.data,code:fe.invalid_enum_value,options:i}),Ge}return Un(e.data)}get enum(){return this._def.values}}Su=new WeakMap;dc.create=(t,e)=>new dc({values:t,typeName:We.ZodNativeEnum,...et(e)});class wl extends nt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.promise&&n.common.async===!1)return Te(n,{code:fe.invalid_type,expected:Re.promise,received:n.parsedType}),Ge;const r=n.parsedType===Re.promise?n.data:Promise.resolve(n.data);return Un(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wl.create=(t,e)=>new wl({type:t,typeName:We.ZodPromise,...et(e)});class ls extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:l=>{Te(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return Ge;const h=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return h.status==="aborted"?Ge:h.status==="dirty"||n.value==="dirty"?el(h.value):h});{if(n.value==="aborted")return Ge;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ge:c.status==="dirty"||n.value==="dirty"?el(c.value):c}}if(i.type==="refinement"){const l=c=>{const h=i.refinement(c,a);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Ge:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Ge:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qo(l))return l;const c=i.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Qo(l)?Promise.resolve(i.transform(l.value,a)).then(c=>({status:n.value,value:c})):l);ft.assertNever(i)}}ls.create=(t,e,n)=>new ls({schema:t,typeName:We.ZodEffects,effect:e,...et(n)});ls.createWithPreprocess=(t,e,n)=>new ls({schema:e,effect:{type:"preprocess",transform:t},typeName:We.ZodEffects,...et(n)});class Rs extends nt{_parse(e){return this._getType(e)===Re.undefined?Un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rs.create=(t,e)=>new Rs({innerType:t,typeName:We.ZodOptional,...et(e)});class ho extends nt{_parse(e){return this._getType(e)===Re.null?Un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ho.create=(t,e)=>new ho({innerType:t,typeName:We.ZodNullable,...et(e)});class fc extends nt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fc.create=(t,e)=>new fc({innerType:t,typeName:We.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class hc extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return nc(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hc.create=(t,e)=>new hc({innerType:t,typeName:We.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class Qf extends nt{_parse(e){if(this._getType(e)!==Re.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:fe.invalid_type,expected:Re.nan,received:r.parsedType}),Ge}return{status:"valid",value:e.data}}}Qf.create=t=>new Qf({typeName:We.ZodNaN,...et(t)});const VL=Symbol("zod_brand");class Zy extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ac extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ge:a.status==="dirty"?(n.dirty(),el(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ge:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ac({in:e,out:n,typeName:We.ZodPipeline})}}class pc extends nt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Qo(i)&&(i.value=Object.freeze(i.value)),i);return nc(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}pc.create=(t,e)=>new pc({innerType:t,typeName:We.ZodReadonly,...et(e)});function vE(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function p1(t,e={},n){return t?_l.create().superRefine((r,i)=>{var a,l;const c=t(r);if(c instanceof Promise)return c.then(h=>{var p,g;if(!h){const v=vE(e,r),E=(g=(p=v.fatal)!==null&&p!==void 0?p:n)!==null&&g!==void 0?g:!0;i.addIssue({code:"custom",...v,fatal:E})}});if(!c){const h=vE(e,r),p=(l=(a=h.fatal)!==null&&a!==void 0?a:n)!==null&&l!==void 0?l:!0;i.addIssue({code:"custom",...h,fatal:p})}}):_l.create()}const LL={object:jt.lazycreate};var We;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(We||(We={}));const jL=(t,e={message:`Input not instance of ${t.name}`})=>p1(n=>n instanceof t,e),m1=Jr.create,g1=uo.create,FL=Qf.create,UL=co.create,y1=rc.create,$L=Yo.create,BL=qf.create,zL=sc.create,HL=ic.create,WL=_l.create,qL=Wo.create,GL=di.create,KL=Gf.create,QL=ns.create,YL=jt.create,ZL=jt.strictCreate,XL=oc.create,JL=Dh.create,e4=ac.create,t4=Os.create,n4=lc.create,r4=Kf.create,s4=Zo.create,i4=al.create,o4=uc.create,a4=cc.create,l4=fo.create,u4=dc.create,c4=wl.create,_E=ls.create,d4=Rs.create,f4=ho.create,h4=ls.createWithPreprocess,p4=Ac.create,m4=()=>m1().optional(),g4=()=>g1().optional(),y4=()=>y1().optional(),v4={string:t=>Jr.create({...t,coerce:!0}),number:t=>uo.create({...t,coerce:!0}),boolean:t=>rc.create({...t,coerce:!0}),bigint:t=>co.create({...t,coerce:!0}),date:t=>Yo.create({...t,coerce:!0})},_4=Ge;var vu=Object.freeze({__proto__:null,defaultErrorMap:vl,setErrorMap:hL,getErrorMap:zf,makeIssue:Hf,EMPTY_PATH:pL,addIssueToContext:Te,ParseStatus:Nn,INVALID:Ge,DIRTY:el,OK:Un,isAborted:Rg,isDirty:Ig,isValid:Qo,isAsync:nc,get util(){return ft},get objectUtil(){return Ag},ZodParsedType:Re,getParsedType:ti,ZodType:nt,datetimeRegex:f1,ZodString:Jr,ZodNumber:uo,ZodBigInt:co,ZodBoolean:rc,ZodDate:Yo,ZodSymbol:qf,ZodUndefined:sc,ZodNull:ic,ZodAny:_l,ZodUnknown:Wo,ZodNever:di,ZodVoid:Gf,ZodArray:ns,ZodObject:jt,ZodUnion:oc,ZodDiscriminatedUnion:Dh,ZodIntersection:ac,ZodTuple:Os,ZodRecord:lc,ZodMap:Kf,ZodSet:Zo,ZodFunction:al,ZodLazy:uc,ZodLiteral:cc,ZodEnum:fo,ZodNativeEnum:dc,ZodPromise:wl,ZodEffects:ls,ZodTransformer:ls,ZodOptional:Rs,ZodNullable:ho,ZodDefault:fc,ZodCatch:hc,ZodNaN:Qf,BRAND:VL,ZodBranded:Zy,ZodPipeline:Ac,ZodReadonly:pc,custom:p1,Schema:nt,ZodSchema:nt,late:LL,get ZodFirstPartyTypeKind(){return We},coerce:v4,any:WL,array:QL,bigint:UL,boolean:y1,date:$L,discriminatedUnion:JL,effect:_E,enum:l4,function:i4,instanceof:jL,intersection:e4,lazy:o4,literal:a4,map:r4,nan:FL,nativeEnum:u4,never:GL,null:HL,nullable:f4,number:g1,object:YL,oboolean:y4,onumber:g4,optional:d4,ostring:m4,pipeline:p4,preprocess:h4,promise:c4,record:n4,set:s4,strictObject:ZL,string:m1,symbol:BL,transformer:_E,tuple:t4,undefined:zL,union:XL,unknown:qL,void:KL,NEVER:_4,ZodIssueCode:fe,quotelessJson:fL,ZodError:vr}),Rc=t=>t.type==="checkbox",Ho=t=>t instanceof Date,jn=t=>t==null;const v1=t=>typeof t=="object";var Kt=t=>!jn(t)&&!Array.isArray(t)&&v1(t)&&!Ho(t),_1=t=>Kt(t)&&t.target?Rc(t.target)?t.target.checked:t.target.value:t,w4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,w1=(t,e)=>t.has(w4(e)),E4=t=>{const e=t.constructor&&t.constructor.prototype;return Kt(e)&&e.hasOwnProperty("isPrototypeOf")},Xy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function er(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Xy&&(t instanceof Blob||r))&&(n||Kt(t)))if(e=n?[]:{},!n&&!E4(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=er(t[i]));else return t;return e}var Mh=t=>Array.isArray(t)?t.filter(Boolean):[],Gt=t=>t===void 0,Ee=(t,e,n)=>{if(!e||!Kt(t))return n;const r=Mh(e.split(/[,[\].]+?/)).reduce((i,a)=>jn(i)?i:i[a],t);return Gt(r)||r===t?Gt(t[e])?n:t[e]:r},Nr=t=>typeof t=="boolean",Jy=t=>/^\w*$/.test(t),E1=t=>Mh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(t,e,n)=>{let r=-1;const i=Jy(e)?[e]:E1(e),a=i.length,l=a-1;for(;++r<a;){const c=i[r];let h=n;if(r!==l){const p=t[c];h=Kt(p)||Array.isArray(p)?p:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=h,t=t[c]}return t};const Yf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},x1=se.createContext(null),Vh=()=>se.useContext(x1),x4=t=>{const{children:e,...n}=t;return se.createElement(x1.Provider,{value:n},e)};var T1=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Xr.all&&(e._proxyFormState[l]=!r||Xr.all),n&&(n[l]=!0),t[l]}});return i},tr=t=>Kt(t)&&!Object.keys(t).length,b1=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return tr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!r||Xr.all))},ju=t=>Array.isArray(t)?t:[t],C1=(t,e,n)=>!t||!e||t===e||ju(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ev(t){const e=se.useRef(t);e.current=t,se.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function T4(t){const e=Vh(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[l,c]=se.useState(n._formState),h=se.useRef(!0),p=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=se.useRef(i);return g.current=i,ev({disabled:r,next:v=>h.current&&C1(g.current,v.name,a)&&b1(v,p.current,n._updateFormState)&&c({...n._formState,...v}),subject:n._subjects.state}),se.useEffect(()=>(h.current=!0,p.current.isValid&&n._updateValid(!0),()=>{h.current=!1}),[n]),se.useMemo(()=>T1(l,n,p.current,!1),[l,n])}var bs=t=>typeof t=="string",S1=(t,e,n,r,i)=>bs(t)?(r&&e.watch.add(t),Ee(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Ee(n,a))):(r&&(e.watchAll=!0),n);function b4(t){const e=Vh(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:l}=t||{},c=se.useRef(r);c.current=r,ev({disabled:a,subject:n._subjects.values,next:g=>{C1(c.current,g.name,l)&&p(er(S1(c.current,n._names,g.values||n._formValues,!1,i)))}});const[h,p]=se.useState(n._getWatch(r,i));return se.useEffect(()=>n._removeUnmounted()),h}function C4(t){const e=Vh(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a}=t,l=w1(i._names.array,n),c=b4({control:i,name:n,defaultValue:Ee(i._formValues,n,Ee(i._defaultValues,n,t.defaultValue)),exact:!0}),h=T4({control:i,name:n,exact:!0}),p=se.useRef(i.register(n,{...t.rules,value:c,...Nr(t.disabled)?{disabled:t.disabled}:{}})),g=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ee(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ee(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ee(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ee(h.validatingFields,n)},error:{enumerable:!0,get:()=>Ee(h.errors,n)}}),[h,n]),v=se.useMemo(()=>({name:n,value:c,...Nr(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:E=>p.current.onChange({target:{value:_1(E),name:n},type:Yf.CHANGE}),onBlur:()=>p.current.onBlur({target:{value:Ee(i._formValues,n),name:n},type:Yf.BLUR}),ref:E=>{const w=Ee(i._fields,n);w&&E&&(w._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:T=>E.setCustomValidity(T),reportValidity:()=>E.reportValidity()})}}),[n,i._formValues,r,h.disabled,c,i._fields]);return se.useEffect(()=>{const E=i._options.shouldUnregister||a,w=(T,b)=>{const A=Ee(i._fields,T);A&&A._f&&(A._f.mount=b)};if(w(n,!0),E){const T=er(Ee(i._options.defaultValues,n));wt(i._defaultValues,n,T),Gt(Ee(i._formValues,n))&&wt(i._formValues,n,T)}return!l&&i.register(n),()=>{(l?E&&!i._state.action:E)?i.unregister(n):w(n,!1)}},[n,i,l,a]),se.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),se.useMemo(()=>({field:v,formState:h,fieldState:g}),[v,h,g])}const S4=t=>t.render(C4(t));var A1=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},wE=t=>({isOnSubmit:!t||t===Xr.onSubmit,isOnBlur:t===Xr.onBlur,isOnChange:t===Xr.onChange,isOnAll:t===Xr.all,isOnTouch:t===Xr.onTouched}),EE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Fu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=Ee(t,i);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(Fu(c,e))break}else if(Kt(c)&&Fu(c,e))break}}};var A4=(t,e,n)=>{const r=ju(Ee(t,n));return wt(r,"root",e[n]),wt(t,n,r),t},tv=t=>t.type==="file",xs=t=>typeof t=="function",Zf=t=>{if(!Xy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mf=t=>bs(t),nv=t=>t.type==="radio",Xf=t=>t instanceof RegExp;const xE={value:!1,isValid:!1},TE={value:!0,isValid:!0};var R1=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Gt(t[0].attributes.value)?Gt(t[0].value)||t[0].value===""?TE:{value:t[0].value,isValid:!0}:TE:xE}return xE};const bE={isValid:!1,value:null};var I1=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,bE):bE;function CE(t,e,n="validate"){if(mf(t)||Array.isArray(t)&&t.every(mf)||Nr(t)&&!t)return{type:n,message:mf(t)?t:"",ref:e}}var za=t=>Kt(t)&&!Xf(t)?t:{value:t,message:""},SE=async(t,e,n,r,i,a)=>{const{ref:l,refs:c,required:h,maxLength:p,minLength:g,min:v,max:E,pattern:w,validate:T,name:b,valueAsNumber:A,mount:k}=t._f,V=Ee(n,b);if(!k||e.has(b))return{};const F=c?c[0]:l,z=M=>{i&&F.reportValidity&&(F.setCustomValidity(Nr(M)?"":M||""),F.reportValidity())},q={},J=nv(l),O=Rc(l),I=J||O,N=(A||tv(l))&&Gt(l.value)&&Gt(V)||Zf(l)&&l.value===""||V===""||Array.isArray(V)&&!V.length,L=A1.bind(null,b,r,q),U=(M,D,we,Le=Js.maxLength,Ce=Js.minLength)=>{const xe=M?D:we;q[b]={type:M?Le:Ce,message:xe,ref:l,...L(M?Le:Ce,xe)}};if(a?!Array.isArray(V)||!V.length:h&&(!I&&(N||jn(V))||Nr(V)&&!V||O&&!R1(c).isValid||J&&!I1(c).isValid)){const{value:M,message:D}=mf(h)?{value:!!h,message:h}:za(h);if(M&&(q[b]={type:Js.required,message:D,ref:F,...L(Js.required,D)},!r))return z(D),q}if(!N&&(!jn(v)||!jn(E))){let M,D;const we=za(E),Le=za(v);if(!jn(V)&&!isNaN(V)){const Ce=l.valueAsNumber||V&&+V;jn(we.value)||(M=Ce>we.value),jn(Le.value)||(D=Ce<Le.value)}else{const Ce=l.valueAsDate||new Date(V),xe=ae=>new Date(new Date().toDateString()+" "+ae),re=l.type=="time",ne=l.type=="week";bs(we.value)&&V&&(M=re?xe(V)>xe(we.value):ne?V>we.value:Ce>new Date(we.value)),bs(Le.value)&&V&&(D=re?xe(V)<xe(Le.value):ne?V<Le.value:Ce<new Date(Le.value))}if((M||D)&&(U(!!M,we.message,Le.message,Js.max,Js.min),!r))return z(q[b].message),q}if((p||g)&&!N&&(bs(V)||a&&Array.isArray(V))){const M=za(p),D=za(g),we=!jn(M.value)&&V.length>+M.value,Le=!jn(D.value)&&V.length<+D.value;if((we||Le)&&(U(we,M.message,D.message),!r))return z(q[b].message),q}if(w&&!N&&bs(V)){const{value:M,message:D}=za(w);if(Xf(M)&&!V.match(M)&&(q[b]={type:Js.pattern,message:D,ref:l,...L(Js.pattern,D)},!r))return z(D),q}if(T){if(xs(T)){const M=await T(V,n),D=CE(M,F);if(D&&(q[b]={...D,...L(Js.validate,D.message)},!r))return z(D.message),q}else if(Kt(T)){let M={};for(const D in T){if(!tr(M)&&!r)break;const we=CE(await T[D](V,n),F,D);we&&(M={...we,...L(D,we.message)},z(we.message),r&&(q[b]=M))}if(!tr(M)&&(q[b]={ref:F,...M},!r))return q}}return z(!0),q};function R4(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Gt(t)?r++:t[e[r++]];return t}function I4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Gt(t[e]))return!1;return!0}function rn(t,e){const n=Array.isArray(e)?e:Jy(e)?[e]:E1(e),r=n.length===1?t:R4(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Kt(r)&&tr(r)||Array.isArray(r)&&I4(r))&&rn(t,n.slice(0,-1)),t}var Mm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Pg=t=>jn(t)||!v1(t);function Ui(t,e){if(Pg(t)||Pg(e))return t===e;if(Ho(t)&&Ho(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Ho(a)&&Ho(l)||Kt(a)&&Kt(l)||Array.isArray(a)&&Array.isArray(l)?!Ui(a,l):a!==l)return!1}}return!0}var k1=t=>t.type==="select-multiple",k4=t=>nv(t)||Rc(t),Vm=t=>Zf(t)&&t.isConnected,P1=t=>{for(const e in t)if(xs(t[e]))return!0;return!1};function Jf(t,e={}){const n=Array.isArray(t);if(Kt(t)||n)for(const r in t)Array.isArray(t[r])||Kt(t[r])&&!P1(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Jf(t[r],e[r])):jn(t[r])||(e[r]=!0);return e}function N1(t,e,n){const r=Array.isArray(t);if(Kt(t)||r)for(const i in t)Array.isArray(t[i])||Kt(t[i])&&!P1(t[i])?Gt(e)||Pg(n[i])?n[i]=Array.isArray(t[i])?Jf(t[i],[]):{...Jf(t[i])}:N1(t[i],jn(e)?{}:e[i],n[i]):n[i]=!Ui(t[i],e[i]);return n}var _u=(t,e)=>N1(t,e,Jf(e)),O1=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Gt(t)?t:e?t===""?NaN:t&&+t:n&&bs(t)?new Date(t):r?r(t):t;function Lm(t){const e=t.ref;return tv(e)?e.files:nv(e)?I1(t.refs).value:k1(e)?[...e.selectedOptions].map(({value:n})=>n):Rc(e)?R1(t.refs).value:O1(Gt(e.value)?t.ref.value:e.value,t)}var P4=(t,e,n,r)=>{const i={};for(const a of t){const l=Ee(e,a);l&&wt(i,a,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},wu=t=>Gt(t)?t:Xf(t)?t.source:Kt(t)?Xf(t.value)?t.value.source:t.value:t;const AE="AsyncFunction";var N4=t=>!!t&&!!t.validate&&!!(xs(t.validate)&&t.validate.constructor.name===AE||Kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===AE)),O4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function RE(t,e,n){const r=Ee(t,n);if(r||Jy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),l=Ee(e,a),c=Ee(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(c&&c.type)return{name:a,error:c};i.pop()}return{name:n}}var D4=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,M4=(t,e)=>!Mh(Ee(t,e)).length&&rn(t,e);const V4={mode:Xr.onSubmit,reValidateMode:Xr.onChange,shouldFocusError:!0};function L4(t={}){let e={...V4,...t},n={submitCount:0,isDirty:!1,isLoading:xs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Kt(e.defaultValues)||Kt(e.values)?er(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:er(i),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Mm(),array:Mm(),state:Mm()},E=wE(e.mode),w=wE(e.reValidateMode),T=e.criteriaMode===Xr.all,b=$=>K=>{clearTimeout(p),p=setTimeout($,K)},A=async $=>{if(!e.disabled&&(g.isValid||$)){const K=e.resolver?tr((await I()).errors):await L(r,!0);K!==n.isValid&&v.state.next({isValid:K})}},k=($,K)=>{!e.disabled&&(g.isValidating||g.validatingFields)&&(($||Array.from(c.mount)).forEach(ee=>{ee&&(K?wt(n.validatingFields,ee,K):rn(n.validatingFields,ee))}),v.state.next({validatingFields:n.validatingFields,isValidating:!tr(n.validatingFields)}))},V=($,K=[],ee,ye,pe=!0,le=!0)=>{if(ye&&ee&&!e.disabled){if(l.action=!0,le&&Array.isArray(Ee(r,$))){const ke=ee(Ee(r,$),ye.argA,ye.argB);pe&&wt(r,$,ke)}if(le&&Array.isArray(Ee(n.errors,$))){const ke=ee(Ee(n.errors,$),ye.argA,ye.argB);pe&&wt(n.errors,$,ke),M4(n.errors,$)}if(g.touchedFields&&le&&Array.isArray(Ee(n.touchedFields,$))){const ke=ee(Ee(n.touchedFields,$),ye.argA,ye.argB);pe&&wt(n.touchedFields,$,ke)}g.dirtyFields&&(n.dirtyFields=_u(i,a)),v.state.next({name:$,isDirty:M($,K),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wt(a,$,K)},F=($,K)=>{wt(n.errors,$,K),v.state.next({errors:n.errors})},z=$=>{n.errors=$,v.state.next({errors:n.errors,isValid:!1})},q=($,K,ee,ye)=>{const pe=Ee(r,$);if(pe){const le=Ee(a,$,Gt(ee)?Ee(i,$):ee);Gt(le)||ye&&ye.defaultChecked||K?wt(a,$,K?le:Lm(pe._f)):Le($,le),l.mount&&A()}},J=($,K,ee,ye,pe)=>{let le=!1,ke=!1;const qe={name:$};if(!e.disabled){const ze=!!(Ee(r,$)&&Ee(r,$)._f&&Ee(r,$)._f.disabled);if(!ee||ye){g.isDirty&&(ke=n.isDirty,n.isDirty=qe.isDirty=M(),le=ke!==qe.isDirty);const Ye=ze||Ui(Ee(i,$),K);ke=!!(!ze&&Ee(n.dirtyFields,$)),Ye||ze?rn(n.dirtyFields,$):wt(n.dirtyFields,$,!0),qe.dirtyFields=n.dirtyFields,le=le||g.dirtyFields&&ke!==!Ye}if(ee){const Ye=Ee(n.touchedFields,$);Ye||(wt(n.touchedFields,$,ee),qe.touchedFields=n.touchedFields,le=le||g.touchedFields&&Ye!==ee)}le&&pe&&v.state.next(qe)}return le?qe:{}},O=($,K,ee,ye)=>{const pe=Ee(n.errors,$),le=g.isValid&&Nr(K)&&n.isValid!==K;if(e.delayError&&ee?(h=b(()=>F($,ee)),h(e.delayError)):(clearTimeout(p),h=null,ee?wt(n.errors,$,ee):rn(n.errors,$)),(ee?!Ui(pe,ee):pe)||!tr(ye)||le){const ke={...ye,...le&&Nr(K)?{isValid:K}:{},errors:n.errors,name:$};n={...n,...ke},v.state.next(ke)}},I=async $=>{k($,!0);const K=await e.resolver(a,e.context,P4($||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return k($),K},N=async $=>{const{errors:K}=await I($);if($)for(const ee of $){const ye=Ee(K,ee);ye?wt(n.errors,ee,ye):rn(n.errors,ee)}else n.errors=K;return K},L=async($,K,ee={valid:!0})=>{for(const ye in $){const pe=$[ye];if(pe){const{_f:le,...ke}=pe;if(le){const qe=c.array.has(le.name),ze=pe._f&&N4(pe._f);ze&&g.validatingFields&&k([ye],!0);const Ye=await SE(pe,c.disabled,a,T,e.shouldUseNativeValidation&&!K,qe);if(ze&&g.validatingFields&&k([ye]),Ye[le.name]&&(ee.valid=!1,K))break;!K&&(Ee(Ye,le.name)?qe?A4(n.errors,Ye,le.name):wt(n.errors,le.name,Ye[le.name]):rn(n.errors,le.name))}!tr(ke)&&await L(ke,K,ee)}}return ee.valid},U=()=>{for(const $ of c.unMount){const K=Ee(r,$);K&&(K._f.refs?K._f.refs.every(ee=>!Vm(ee)):!Vm(K._f.ref))&&ve($)}c.unMount=new Set},M=($,K)=>!e.disabled&&($&&K&&wt(a,$,K),!Ui(H(),i)),D=($,K,ee)=>S1($,c,{...l.mount?a:Gt(K)?i:bs($)?{[$]:K}:K},ee,K),we=$=>Mh(Ee(l.mount?a:i,$,e.shouldUnregister?Ee(i,$,[]):[])),Le=($,K,ee={})=>{const ye=Ee(r,$);let pe=K;if(ye){const le=ye._f;le&&(!le.disabled&&wt(a,$,O1(K,le)),pe=Zf(le.ref)&&jn(K)?"":K,k1(le.ref)?[...le.ref.options].forEach(ke=>ke.selected=pe.includes(ke.value)):le.refs?Rc(le.ref)?le.refs.length>1?le.refs.forEach(ke=>(!ke.defaultChecked||!ke.disabled)&&(ke.checked=Array.isArray(pe)?!!pe.find(qe=>qe===ke.value):pe===ke.value)):le.refs[0]&&(le.refs[0].checked=!!pe):le.refs.forEach(ke=>ke.checked=ke.value===pe):tv(le.ref)?le.ref.value="":(le.ref.value=pe,le.ref.type||v.values.next({name:$,values:{...a}})))}(ee.shouldDirty||ee.shouldTouch)&&J($,pe,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&ae($)},Ce=($,K,ee)=>{for(const ye in K){const pe=K[ye],le=`${$}.${ye}`,ke=Ee(r,le);(c.array.has($)||Kt(pe)||ke&&!ke._f)&&!Ho(pe)?Ce(le,pe,ee):Le(le,pe,ee)}},xe=($,K,ee={})=>{const ye=Ee(r,$),pe=c.array.has($),le=er(K);wt(a,$,le),pe?(v.array.next({name:$,values:{...a}}),(g.isDirty||g.dirtyFields)&&ee.shouldDirty&&v.state.next({name:$,dirtyFields:_u(i,a),isDirty:M($,le)})):ye&&!ye._f&&!jn(le)?Ce($,le,ee):Le($,le,ee),EE($,c)&&v.state.next({...n}),v.values.next({name:l.mount?$:void 0,values:{...a}})},re=async $=>{l.mount=!0;const K=$.target;let ee=K.name,ye=!0;const pe=Ee(r,ee),le=()=>K.type?Lm(pe._f):_1($),ke=qe=>{ye=Number.isNaN(qe)||Ho(qe)&&isNaN(qe.getTime())||Ui(qe,Ee(a,ee,qe))};if(pe){let qe,ze;const Ye=le(),Qt=$.type===Yf.BLUR||$.type===Yf.FOCUS_OUT,Ms=!O4(pe._f)&&!e.resolver&&!Ee(n.errors,ee)&&!pe._f.deps||D4(Qt,Ee(n.touchedFields,ee),n.isSubmitted,w,E),fn=EE(ee,c,Qt);wt(a,ee,Ye),Qt?(pe._f.onBlur&&pe._f.onBlur($),h&&h(0)):pe._f.onChange&&pe._f.onChange($);const ar=J(ee,Ye,Qt,!1),_r=!tr(ar)||fn;if(!Qt&&v.values.next({name:ee,type:$.type,values:{...a}}),Ms)return g.isValid&&(e.mode==="onBlur"&&Qt?A():Qt||A()),_r&&v.state.next({name:ee,...fn?{}:ar});if(!Qt&&fn&&v.state.next({...n}),e.resolver){const{errors:wr}=await I([ee]);if(ke(Ye),ye){const Bn=RE(n.errors,r,ee),Mr=RE(wr,r,Bn.name||ee);qe=Mr.error,ee=Mr.name,ze=tr(wr)}}else k([ee],!0),qe=(await SE(pe,c.disabled,a,T,e.shouldUseNativeValidation))[ee],k([ee]),ke(Ye),ye&&(qe?ze=!1:g.isValid&&(ze=await L(r,!0)));ye&&(pe._f.deps&&ae(pe._f.deps),O(ee,ze,qe,ar))}},ne=($,K)=>{if(Ee(n.errors,K)&&$.focus)return $.focus(),1},ae=async($,K={})=>{let ee,ye;const pe=ju($);if(e.resolver){const le=await N(Gt($)?$:pe);ee=tr(le),ye=$?!pe.some(ke=>Ee(le,ke)):ee}else $?(ye=(await Promise.all(pe.map(async le=>{const ke=Ee(r,le);return await L(ke&&ke._f?{[le]:ke}:ke)}))).every(Boolean),!(!ye&&!n.isValid)&&A()):ye=ee=await L(r);return v.state.next({...!bs($)||g.isValid&&ee!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:ee}:{},errors:n.errors}),K.shouldFocus&&!ye&&Fu(r,ne,$?pe:c.mount),ye},H=$=>{const K={...l.mount?a:i};return Gt($)?K:bs($)?Ee(K,$):$.map(ee=>Ee(K,ee))},Z=($,K)=>({invalid:!!Ee((K||n).errors,$),isDirty:!!Ee((K||n).dirtyFields,$),error:Ee((K||n).errors,$),isValidating:!!Ee(n.validatingFields,$),isTouched:!!Ee((K||n).touchedFields,$)}),he=$=>{$&&ju($).forEach(K=>rn(n.errors,K)),v.state.next({errors:$?n.errors:{}})},ge=($,K,ee)=>{const ye=(Ee(r,$,{_f:{}})._f||{}).ref,pe=Ee(n.errors,$)||{},{ref:le,message:ke,type:qe,...ze}=pe;wt(n.errors,$,{...ze,...K,ref:ye}),v.state.next({name:$,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&ye&&ye.focus&&ye.focus()},be=($,K)=>xs($)?v.values.subscribe({next:ee=>$(D(void 0,K),ee)}):D($,K,!0),ve=($,K={})=>{for(const ee of $?ju($):c.mount)c.mount.delete(ee),c.array.delete(ee),K.keepValue||(rn(r,ee),rn(a,ee)),!K.keepError&&rn(n.errors,ee),!K.keepDirty&&rn(n.dirtyFields,ee),!K.keepTouched&&rn(n.touchedFields,ee),!K.keepIsValidating&&rn(n.validatingFields,ee),!e.shouldUnregister&&!K.keepDefaultValue&&rn(i,ee);v.values.next({values:{...a}}),v.state.next({...n,...K.keepDirty?{isDirty:M()}:{}}),!K.keepIsValid&&A()},Se=({disabled:$,name:K,field:ee,fields:ye})=>{(Nr($)&&l.mount||$||c.disabled.has(K))&&($?c.disabled.add(K):c.disabled.delete(K),J(K,Lm(ee?ee._f:Ee(ye,K)._f),!1,!1,!0))},Be=($,K={})=>{let ee=Ee(r,$);const ye=Nr(K.disabled)||Nr(e.disabled);return wt(r,$,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:$}},name:$,mount:!0,...K}}),c.mount.add($),ee?Se({field:ee,disabled:Nr(K.disabled)?K.disabled:e.disabled,name:$}):q($,!0,K.value),{...ye?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:wu(K.min),max:wu(K.max),minLength:wu(K.minLength),maxLength:wu(K.maxLength),pattern:wu(K.pattern)}:{},name:$,onChange:re,onBlur:re,ref:pe=>{if(pe){Be($,K),ee=Ee(r,$);const le=Gt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,ke=k4(le),qe=ee._f.refs||[];if(ke?qe.find(ze=>ze===le):le===ee._f.ref)return;wt(r,$,{_f:{...ee._f,...ke?{refs:[...qe.filter(Vm),le,...Array.isArray(Ee(i,$))?[{}]:[]],ref:{type:le.type,name:$}}:{ref:le}}}),q($,!1,void 0,le)}else ee=Ee(r,$,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(w1(c.array,$)&&l.action)&&c.unMount.add($)}}},je=()=>e.shouldFocusError&&Fu(r,ne,c.mount),st=$=>{Nr($)&&(v.state.next({disabled:$}),Fu(r,(K,ee)=>{const ye=Ee(r,ee);ye&&(K.disabled=ye._f.disabled||$,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(pe=>{pe.disabled=ye._f.disabled||$}))},0,!1))},ht=($,K)=>async ee=>{let ye;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let pe=er(a);if(c.disabled.size)for(const le of c.disabled)wt(pe,le,void 0);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:ke}=await I();n.errors=le,pe=ke}else await L(r);if(rn(n.errors,"root"),tr(n.errors)){v.state.next({errors:{}});try{await $(pe,ee)}catch(le){ye=le}}else K&&await K({...n.errors},ee),je(),setTimeout(je);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tr(n.errors)&&!ye,submitCount:n.submitCount+1,errors:n.errors}),ye)throw ye},pt=($,K={})=>{Ee(r,$)&&(Gt(K.defaultValue)?xe($,er(Ee(i,$))):(xe($,K.defaultValue),wt(i,$,er(K.defaultValue))),K.keepTouched||rn(n.touchedFields,$),K.keepDirty||(rn(n.dirtyFields,$),n.isDirty=K.defaultValue?M($,er(Ee(i,$))):M()),K.keepError||(rn(n.errors,$),g.isValid&&A()),v.state.next({...n}))},yt=($,K={})=>{const ee=$?er($):i,ye=er(ee),pe=tr($),le=pe?i:ye;if(K.keepDefaultValues||(i=ee),!K.keepValues){if(K.keepDirtyValues){const ke=new Set([...c.mount,...Object.keys(_u(i,a))]);for(const qe of Array.from(ke))Ee(n.dirtyFields,qe)?wt(le,qe,Ee(a,qe)):xe(qe,Ee(le,qe))}else{if(Xy&&Gt($))for(const ke of c.mount){const qe=Ee(r,ke);if(qe&&qe._f){const ze=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Zf(ze)){const Ye=ze.closest("form");if(Ye){Ye.reset();break}}}}r={}}a=e.shouldUnregister?K.keepDefaultValues?er(i):{}:er(le),v.array.next({values:{...le}}),v.values.next({values:{...le}})}c={mount:K.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!K.keepIsValid||!!K.keepDirtyValues,l.watch=!!e.shouldUnregister,v.state.next({submitCount:K.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:K.keepDirty?n.isDirty:!!(K.keepDefaultValues&&!Ui($,i)),isSubmitted:K.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:K.keepDirtyValues?K.keepDefaultValues&&a?_u(i,a):n.dirtyFields:K.keepDefaultValues&&$?_u(i,$):K.keepDirty?n.dirtyFields:{},touchedFields:K.keepTouched?n.touchedFields:{},errors:K.keepErrors?n.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},zt=($,K)=>yt(xs($)?$(a):$,K);return{control:{register:Be,unregister:ve,getFieldState:Z,handleSubmit:ht,setError:ge,_executeSchema:I,_getWatch:D,_getDirty:M,_updateValid:A,_removeUnmounted:U,_updateFieldArray:V,_updateDisabledField:Se,_getFieldArray:we,_reset:yt,_resetDefaultValues:()=>xs(e.defaultValues)&&e.defaultValues().then($=>{zt($,e.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:$=>{n={...n,...$}},_disableForm:st,_subjects:v,_proxyFormState:g,_setErrors:z,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state($){l=$},get _defaultValues(){return i},get _names(){return c},set _names($){c=$},get _formState(){return n},set _formState($){n=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:ae,register:Be,handleSubmit:ht,watch:be,setValue:xe,getValues:H,reset:zt,resetField:pt,clearErrors:he,unregister:ve,setError:ge,setFocus:($,K={})=>{const ee=Ee(r,$),ye=ee&&ee._f;if(ye){const pe=ye.refs?ye.refs[0]:ye.ref;pe.focus&&(pe.focus(),K.shouldSelect&&xs(pe.select)&&pe.select())}},getFieldState:Z}}function j4(t={}){const e=se.useRef(void 0),n=se.useRef(void 0),[r,i]=se.useState({isDirty:!1,isValidating:!1,isLoading:xs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:xs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...L4(t),formState:r});const a=e.current.control;return a._options=t,ev({subject:a._subjects.state,next:l=>{b1(l,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),se.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),se.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),se.useEffect(()=>{t.values&&!Ui(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),se.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),se.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),se.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=T1(r,a),e.current}const IE=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ee(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},D1=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?IE(r.ref,n,t):r.refs&&r.refs.forEach(i=>IE(i,n,t))}},F4=(t,e)=>{e.shouldUseNativeValidation&&D1(t,e);const n={};for(const r in t){const i=Ee(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(U4(e.names||Object.keys(t),r)){const l=Object.assign({},Ee(n,r));wt(l,"root",a),wt(n,r,l)}else wt(n,r,a)}return n},U4=(t,e)=>t.some(n=>n.startsWith(e+"."));var $4=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[l]={message:c.message,type:c.code}}else n[l]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(g){return g.errors.forEach(function(v){return t.push(v)})}),e){var h=n[l].types,p=h&&h[r.code];n[l]=A1(l,e,n,i,p?[].concat(p,r.message):r.message)}t.shift()}return n},B4=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(l,c){try{var h=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(p){return a.shouldUseNativeValidation&&D1({},a),{errors:{},values:n.raw?r:p}})}catch(p){return c(p)}return h&&h.then?h.then(void 0,c):h}(0,function(l){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(l))return{values:{},errors:F4($4(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const M1=C.forwardRef(({...t},e)=>S.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));M1.displayName="Breadcrumb";const V1=C.forwardRef(({className:t,...e},n)=>S.jsx("ol",{ref:n,className:Xe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));V1.displayName="BreadcrumbList";const gf=C.forwardRef(({className:t,...e},n)=>S.jsx("li",{ref:n,className:Xe("inline-flex items-center gap-1.5",t),...e}));gf.displayName="BreadcrumbItem";const z4=C.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?Zi:"a";return S.jsx(i,{ref:r,className:Xe("transition-colors hover:text-foreground",e),...n})});z4.displayName="BreadcrumbLink";const L1=C.forwardRef(({className:t,...e},n)=>S.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:Xe("font-normal text-foreground",t),...e}));L1.displayName="BreadcrumbPage";const Ng=({children:t,className:e,...n})=>S.jsx("li",{role:"presentation","aria-hidden":"true",className:Xe("[&>svg]:w-3.5 [&>svg]:h-3.5",e),...n,children:t??S.jsx(tN,{})});Ng.displayName="BreadcrumbSeparator";const Lh=({breadCrumbPage:t,breadCrumpItems:e})=>S.jsx(M1,{children:S.jsxs(V1,{children:[S.jsx(gf,{children:S.jsxs(Yi,{to:"/",className:"flex items-center justify-center text-sm font-medium transition-colors hover:text-emerald-500",children:[S.jsx(lN,{className:"w-3 h-3 mr-2"}),"Home"]})}),e&&e.map((n,r)=>S.jsxs(se.Fragment,{children:[S.jsx(Ng,{}),S.jsx(gf,{children:S.jsx(Yi,{to:n.link,className:"text-sm font-medium transition-colors hover:text-emerald-500",children:n.label})})]},r)),S.jsx(Ng,{}),S.jsx(gf,{children:S.jsx(L1,{children:t})})]})});var H4="Label",j1=C.forwardRef((t,e)=>S.jsx(bt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));j1.displayName=H4;var F1=j1;const W4=ih("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U1=C.forwardRef(({className:t,...e},n)=>S.jsx(F1,{ref:n,className:Xe(W4(),t),...e}));U1.displayName=F1.displayName;const $1=C.createContext({}),ef=({...t})=>S.jsx($1.Provider,{value:{name:t.name},children:S.jsx(S4,{...t})}),jh=()=>{const t=C.useContext($1),e=C.useContext(B1),{getFieldState:n,formState:r}=Vh(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},B1=C.createContext({}),Au=C.forwardRef(({className:t,...e},n)=>{const r=C.useId();return S.jsx(B1.Provider,{value:{id:r},children:S.jsx("div",{ref:n,className:Xe("space-y-2",t),...e})})});Au.displayName="FormItem";const Ru=C.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=jh();return S.jsx(U1,{ref:n,className:Xe(r&&"text-destructive",t),htmlFor:i,...e})});Ru.displayName="FormLabel";const Iu=C.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=jh();return S.jsx(Zi,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});Iu.displayName="FormControl";const q4=C.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=jh();return S.jsx("p",{ref:n,id:r,className:Xe("text-sm text-muted-foreground",t),...e})});q4.displayName="FormDescription";const ku=C.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=jh(),l=i?String(i==null?void 0:i.message):e;return l?S.jsx("p",{ref:r,id:a,className:Xe("text-sm font-medium text-destructive",t),...n,children:l}):null});ku.displayName="FormMessage";const Og=C.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:Xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Og.displayName="Input";const Dg=C.forwardRef(({className:t,...e},n)=>S.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Dg.displayName="Textarea";var kE;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(kE||(kE={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PE;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(PE||(PE={}));var NE;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(NE||(NE={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=["user","model","function","system"];var tl;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(tl||(tl={}));var nl;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nl||(nl={}));var DE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(DE||(DE={}));var ME;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(ME||(ME={}));var Uu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(Uu||(Uu={}));var VE;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(VE||(VE={}));var LE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(LE||(LE={}));var jE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jE||(jE={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ha extends ir{constructor(e,n){super(e),this.response=n}}class z1 extends ir{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Ki extends ir{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="https://generativelanguage.googleapis.com",K4="v1beta",Q4="0.21.0",Y4="genai-js";var Xo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Xo||(Xo={}));class Z4{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||K4;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||G4}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function X4(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Y4}/${Q4}`),e.join(" ")}async function J4(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",X4(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ki(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Ki(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ki(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function ej(t,e,n,r,i,a){const l=new Z4(t,e,n,r,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},sj(a)),{method:"POST",headers:await J4(l),body:i})}}async function Ic(t,e,n,r,i,a={},l=fetch){const{url:c,fetchOptions:h}=await ej(t,e,n,r,i,a);return tj(c,h,l)}async function tj(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){nj(i,t)}return r.ok||await rj(r,t),r}function nj(t,e){let n=t;throw t instanceof z1||t instanceof Ki||(n=new ir(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function rj(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new z1(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function sj(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),yf(t.candidates[0]))throw new Ha(`${Fi(t)}`,t);return ij(t)}else if(t.promptFeedback)throw new Ha(`Text not available. ${Fi(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yf(t.candidates[0]))throw new Ha(`${Fi(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),FE(t)[0]}else if(t.promptFeedback)throw new Ha(`Function call not available. ${Fi(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yf(t.candidates[0]))throw new Ha(`${Fi(t)}`,t);return FE(t)}else if(t.promptFeedback)throw new Ha(`Function call not available. ${Fi(t)}`,t)},t}function ij(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function FE(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const oj=[Uu.RECITATION,Uu.SAFETY,Uu.LANGUAGE];function yf(t){return!!t.finishReason&&oj.includes(t.finishReason)}function Fi(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];yf(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function mc(t){return this instanceof mc?(this.v=t,this):new mc(t)}function aj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(E){r[E]&&(i[E]=function(w){return new Promise(function(T,b){a.push([E,w,T,b])>1||c(E,w)})})}function c(E,w){try{h(r[E](w))}catch(T){v(a[0][3],T)}}function h(E){E.value instanceof mc?Promise.resolve(E.value.v).then(p,g):v(a[0][2],E)}function p(E){c("next",E)}function g(E){c("throw",E)}function v(E,w){E(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function lj(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=dj(e),[r,i]=n.tee();return{stream:cj(r),response:uj(i)}}async function uj(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return rv(fj(e));e.push(i)}}function cj(t){return aj(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield mc(n.read());if(i)break;yield yield mc(rv(r))}})}function dj(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:l,done:c})=>{if(c){if(i.trim()){r.error(new ir("Failed to parse stream"));return}r.close();return}i+=l;let h=i.match(UE),p;for(;h;){try{p=JSON.parse(h[1])}catch{r.error(new ir(`Error parsing JSON response: "${h[1]}"`));return}r.enqueue(p),i=i.substring(h[0].length),h=i.match(UE)}return a()})}}})}function fj(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const i of r.candidates){const a=i.index;if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].groundingMetadata=i.groundingMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const l={};for(const c of i.content.parts)c.text&&(l.text=c.text),c.functionCall&&(l.functionCall=c.functionCall),c.executableCode&&(l.executableCode=c.executableCode),c.codeExecutionResult&&(l.codeExecutionResult=c.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[a].content.parts.push(l)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(t,e,n,r){const i=await Ic(e,Xo.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return lj(i)}async function W1(t,e,n,r){const a=await(await Ic(e,Xo.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:rv(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function gc(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return hj(e)}function hj(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new ir("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new ir("No content is provided for sending chat message.");return r?e:n}function pj(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Ki("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=gc(t);r.contents=[a]}return{generateContentRequest:r}}function $E(t){let e;return t.contents?e=t:e={contents:[gc(t)]},t.systemInstruction&&(e.systemInstruction=q1(t.systemInstruction)),e}function mj(t){return typeof t=="string"||Array.isArray(t)?{content:gc(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],gj={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function yj(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new ir(`First content should be with role 'user', got ${r}`);if(!OE.includes(r))throw new ir(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(OE)}`);if(!Array.isArray(i))throw new ir("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ir("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of i)for(const h of BE)h in c&&(a[h]+=1);const l=gj[r];for(const c of BE)if(!l.includes(c)&&a[c]>0)throw new ir(`Content with role '${r}' can't contain '${c}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="SILENT_ERROR";class vj{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(yj(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,a,l,c,h;await this._sendPromise;const p=gc(e),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),n);let E;return this._sendPromise=this._sendPromise.then(()=>W1(this._apiKey,this.model,g,v)).then(w=>{var T;if(w.response.candidates&&w.response.candidates.length>0){this._history.push(p);const b=Object.assign({parts:[],role:"model"},(T=w.response.candidates)===null||T===void 0?void 0:T[0].content);this._history.push(b)}else{const b=Fi(w.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}E=w}),await this._sendPromise,E}async sendMessageStream(e,n={}){var r,i,a,l,c,h;await this._sendPromise;const p=gc(e),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),n),E=H1(this._apiKey,this.model,g,v);return this._sendPromise=this._sendPromise.then(()=>E).catch(w=>{throw new Error(zE)}).then(w=>w.response).then(w=>{if(w.candidates&&w.candidates.length>0){this._history.push(p);const T=Object.assign({},w.candidates[0].content);T.role||(T.role="model"),this._history.push(T)}else{const T=Fi(w);T&&console.warn(`sendMessageStream() was unsuccessful. ${T}. Inspect response object for details.`)}}).catch(w=>{w.message!==zE&&console.error(w)}),E}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e,n,r){return(await Ic(e,Xo.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e,n,r){return(await Ic(e,Xo.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function Ej(t,e,n,r){const i=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await Ic(e,Xo.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=q1(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=$E(e),a=Object.assign(Object.assign({},this._requestOptions),n);return W1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(e,n={}){var r;const i=$E(e),a=Object.assign(Object.assign({},this._requestOptions),n);return H1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(e){var n;return new vj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=pj(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return _j(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=mj(e),i=Object.assign(Object.assign({},this._requestOptions),n);return wj(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Ej(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ir("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new HE(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Ki("Cached content must contain a `name` field.");if(!e.model)throw new Ki("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const l of i)if(n!=null&&n[l]&&e[l]&&(n==null?void 0:n[l])!==e[l]){if(l==="model"){const c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,h=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(c===h)continue}throw new Ki(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new HE(this.apiKey,a,r)}}const Tj="AIzaSyCVlF_915ItKryckBetsBu5JqrCtuKCEbs",bj=new xj(Tj),Cj=bj.getGenerativeModel({model:"gemini-2.0-flash-exp"}),Sj={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"text/plain"},Aj=[{category:tl.HARM_CATEGORY_HARASSMENT,threshold:nl.BLOCK_MEDIUM_AND_ABOVE},{category:tl.HARM_CATEGORY_HATE_SPEECH,threshold:nl.BLOCK_MEDIUM_AND_ABOVE},{category:tl.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:nl.BLOCK_MEDIUM_AND_ABOVE},{category:tl.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:nl.BLOCK_MEDIUM_AND_ABOVE}],Mg=Cj.startChat({generationConfig:Sj,safetySettings:Aj}),Rj=vu.object({position:vu.string().min(1,"Position is required").max(100),description:vu.string().min(10,"Description is required"),experience:vu.coerce.number().min(0,"Experience cannot be negative"),techStack:vu.string().min(1,"Tech stack must be at least a character")}),Ij=({initialData:t,onSuccess:e})=>{const n=j4({resolver:B4(Rj),defaultValues:{position:(t==null?void 0:t.position)||"",description:(t==null?void 0:t.description)||"",experience:(t==null?void 0:t.experience)??0,techStack:(t==null?void 0:t.techStack)||""}}),{isValid:r,isSubmitting:i}=n.formState,[a,l]=C.useState(!1),c=mo(),h=v=>{try{let E=v.trim().replace(/(json|```|`)/g,"");const w=JSON.parse(E);if(Array.isArray(w))return w.map(T=>({question:T.question||"No question provided",answer:T.answer||"No answer provided"}));throw new Error("AI response is not an array")}catch(E){return console.error("Error parsing AI response:",E),[{question:"Default question",answer:"Default answer"}]}},p=async v=>{const E=`
      Generate 5 technical interview questions for ${v.position} based on the following:
      - Job Description: ${v.description}
      - Experience: ${v.experience} years
      - Tech Stack: ${v.techStack}
      Return the result as a JSON array where each item has "question" and "answer" fields.
      Example: [{"question": "What is React?", "answer": "React is a JavaScript library for building user interfaces."}, ...]
    `;try{const w=await Mg.sendMessage(E),T=h(w.response.text());return console.log("Generated Questions:",T),T}catch(w){return console.error("Error generating AI questions:",w),_n.error("Failed to generate questions from AI."),[{question:"Default question",answer:"Default answer"}]}},g=async v=>{try{l(!0);const E=await p(v);if(t)await AV(ia(as,"interviews",t.id),{questions:E,...v,updatedAt:Cg()});else{const w=await s1(tc(as,"interviews"),{...v,questions:E,createdAt:Cg()});console.log("New Interview ID:",w.id)}_n.success("Success!",{description:"Mock interview saved."}),setTimeout(e||(()=>c("/dashboard",{replace:!0})),500)}catch(E){console.error(E),_n.error("Error",{description:"Something went wrong."})}finally{l(!1)}};return C.useEffect(()=>{t&&n.reset({position:t.position||"",description:t.description||"",experience:t.experience??0,techStack:t.techStack||""})},[t,n]),S.jsxs("div",{className:"w-full flex-col space-y-4",children:[S.jsx(Lh,{breadCrumbPage:t?t.position:"Create",breadCrumpItems:[{label:"Mock Interviews",link:"/generate"}]}),S.jsxs("div",{className:"mt-4 flex items-center justify-between w-full",children:[S.jsx(Tf,{title:t?t.position:"Create a new mock interview",isSubHeading:!0}),t&&S.jsx(es,{size:"icon",variant:"ghost",children:S.jsx(bN,{className:"text-red-500"})})]}),S.jsx(Yy,{className:"my-4"}),S.jsx(x4,{...n,children:S.jsxs("form",{onSubmit:n.handleSubmit(g),className:"w-full p-8 rounded-lg flex-col flex items-start gap-6 shadow-md",children:[S.jsx(ef,{control:n.control,name:"position",render:({field:v})=>S.jsxs(Au,{className:"w-full space-y-4",children:[S.jsx(Ru,{children:"Job Role"}),S.jsx(Iu,{children:S.jsx(Og,{disabled:a,placeholder:"Full Stack Developer",...v,value:v.value||""})}),S.jsx(ku,{})]})}),S.jsx(ef,{control:n.control,name:"description",render:({field:v})=>S.jsxs(Au,{className:"w-full space-y-4",children:[S.jsx(Ru,{children:"Job Description"}),S.jsx(Iu,{children:S.jsx(Dg,{disabled:a,placeholder:"Describe the job role",...v,value:v.value||""})}),S.jsx(ku,{})]})}),S.jsx(ef,{control:n.control,name:"experience",render:({field:v})=>S.jsxs(Au,{className:"w-full space-y-4",children:[S.jsx(Ru,{children:"Years of Experience"}),S.jsx(Iu,{children:S.jsx(Og,{type:"number",disabled:a,placeholder:"5",...v,value:v.value??0})}),S.jsx(ku,{})]})}),S.jsx(ef,{control:n.control,name:"techStack",render:({field:v})=>S.jsxs(Au,{className:"w-full space-y-4",children:[S.jsx(Ru,{children:"Tech Stacks"}),S.jsx(Iu,{children:S.jsx(Dg,{disabled:a,placeholder:"React, Typescript...",...v,value:v.value||""})}),S.jsx(ku,{})]})}),S.jsxs("div",{className:"w-full flex items-center justify-end gap-6",children:[S.jsx(es,{type:"reset",variant:"outline",disabled:i||a,children:"Reset"}),S.jsx(es,{type:"submit",disabled:i||!r||a,children:a?S.jsx(hh,{className:"animate-spin"}):t?"Save Changes":"Create"})]})]})})]})},kj=()=>{const{interviewId:t}=vc(),[e,n]=C.useState(null),r=mo();return C.useEffect(()=>{(async()=>{if(t)try{const a=await Oh(ia(as,"interviews",t));a.exists()&&n({id:a.id,...a.data()})}catch(a){console.error("Error fetching interview:",a)}})()},[t]),S.jsx("div",{className:"my-4 flex-col w-full",children:S.jsx(Ij,{initialData:e,onSuccess:()=>{setTimeout(()=>{r("/generate",{replace:!0})},500)}})})},sv=({className:t})=>S.jsx("div",{className:Xe("w-screen h-screen flex items-center justify-center bg-transparent z-50",t),children:S.jsx(hh,{className:"w-6 h-6 min-w-6 min-h-6 animate-spin"})}),Pj=ih("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),iv=C.forwardRef(({className:t,variant:e,...n},r)=>S.jsx("div",{ref:r,role:"alert",className:Xe(Pj({variant:e}),t),...n}));iv.displayName="Alert";const ov=C.forwardRef(({className:t,...e},n)=>S.jsx("h5",{ref:n,className:Xe("mb-1 font-medium leading-none tracking-tight",t),...e}));ov.displayName="AlertTitle";const av=C.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xe("text-sm [&_p]:leading-relaxed",t),...e}));av.displayName="AlertDescription";var vf={exports:{}},Nj=vf.exports,WE;function Oj(){return WE||(WE=1,function(t,e){(function(r,i){t.exports=i(nh())})(Nj,function(n){return function(r){var i={};function a(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return r[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=r,a.c=i,a.d=function(l,c,h){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:h})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(c&1&&(l=a(l)),c&8||c&4&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(a.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),c&2&&typeof l!="string")for(var p in l)a.d(h,p,(function(g){return l[g]}).bind(null,p));return h},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,a){a.r(i);var l=a("react"),c=function(){var E=function(w,T){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var k in A)A.hasOwnProperty(k)&&(b[k]=A[k])},E(w,T)};return function(w,T){E(w,T);function b(){this.constructor=w}w.prototype=T===null?Object.create(T):(b.prototype=T.prototype,new b)}}(),h=function(){return h=Object.assign||function(E){for(var w,T=1,b=arguments.length;T<b;T++){w=arguments[T];for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(E[A]=w[A])}return E},h.apply(this,arguments)},p=function(E,w){var T={};for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&w.indexOf(b)<0&&(T[b]=E[b]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,b=Object.getOwnPropertySymbols(E);A<b.length;A++)w.indexOf(b[A])<0&&Object.prototype.propertyIsEnumerable.call(E,b[A])&&(T[b[A]]=E[b[A]]);return T};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(w){var T=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return T?new Promise(function(b,A){T.call(navigator,w,b,A)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function g(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var v=function(E){c(w,E);function w(T){var b=E.call(this,T)||this;return b.canvas=null,b.ctx=null,b.requestUserMediaId=0,b.unmounted=!1,b.state={hasUserMedia:!1},b}return w.prototype.componentDidMount=function(){var T=this,b=T.state,A=T.props;if(this.unmounted=!1,!g()){A.onUserMediaError("getUserMedia not supported");return}b.hasUserMedia||this.requestUserMedia(),A.children&&typeof A.children!="function"&&console.warn("children must be a function")},w.prototype.componentDidUpdate=function(T){var b=this.props;if(!g()){b.onUserMediaError("getUserMedia not supported");return}var A=JSON.stringify(T.audioConstraints)!==JSON.stringify(b.audioConstraints),k=JSON.stringify(T.videoConstraints)!==JSON.stringify(b.videoConstraints),V=T.minScreenshotWidth!==b.minScreenshotWidth,F=T.minScreenshotHeight!==b.minScreenshotHeight;(k||V||F)&&(this.canvas=null,this.ctx=null),(A||k)&&(this.stopAndCleanup(),this.requestUserMedia())},w.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},w.stopMediaStream=function(T){T&&(T.getVideoTracks&&T.getAudioTracks?(T.getVideoTracks().map(function(b){T.removeTrack(b),b.stop()}),T.getAudioTracks().map(function(b){T.removeTrack(b),b.stop()})):T.stop())},w.prototype.stopAndCleanup=function(){var T=this.state;T.hasUserMedia&&(w.stopMediaStream(this.stream),T.src&&window.URL.revokeObjectURL(T.src))},w.prototype.getScreenshot=function(T){var b=this,A=b.state,k=b.props;if(!A.hasUserMedia)return null;var V=this.getCanvas(T);return V&&V.toDataURL(k.screenshotFormat,k.screenshotQuality)},w.prototype.getCanvas=function(T){var b=this,A=b.state,k=b.props;if(!this.video||!A.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var V=this.video.videoWidth,F=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var z=V/F;V=k.minScreenshotWidth||this.video.clientWidth,F=V/z,k.minScreenshotHeight&&F<k.minScreenshotHeight&&(F=k.minScreenshotHeight,V=F*z)}this.canvas=document.createElement("canvas"),this.canvas.width=(T==null?void 0:T.width)||V,this.canvas.height=(T==null?void 0:T.height)||F,this.ctx=this.canvas.getContext("2d")}var q=this,J=q.ctx,O=q.canvas;return J&&O&&(O.width=(T==null?void 0:T.width)||O.width,O.height=(T==null?void 0:T.height)||O.height,k.mirrored&&(J.translate(O.width,0),J.scale(-1,1)),J.imageSmoothingEnabled=k.imageSmoothing,J.drawImage(this.video,0,0,(T==null?void 0:T.width)||O.width,(T==null?void 0:T.height)||O.height),k.mirrored&&(J.scale(-1,1),J.translate(-O.width,0))),O},w.prototype.requestUserMedia=function(){var T=this,b=this.props,A=function(F,z){var q={video:typeof z<"u"?z:!0};b.audio&&(q.audio=typeof F<"u"?F:!0),T.requestUserMediaId++;var J=T.requestUserMediaId;navigator.mediaDevices.getUserMedia(q).then(function(O){T.unmounted||J!==T.requestUserMediaId?w.stopMediaStream(O):T.handleUserMedia(null,O)}).catch(function(O){T.handleUserMedia(O)})};if("mediaDevices"in navigator)A(b.audioConstraints,b.videoConstraints);else{var k=function(F){return{optional:[{sourceId:F}]}},V=function(F){var z=F.deviceId;return typeof z=="string"?z:Array.isArray(z)&&z.length>0?z[0]:typeof z=="object"&&z.ideal?z.ideal:null};MediaStreamTrack.getSources(function(F){var z=null,q=null;F.forEach(function(I){I.kind==="audio"?z=I.id:I.kind==="video"&&(q=I.id)});var J=V(b.audioConstraints);J&&(z=J);var O=V(b.videoConstraints);O&&(q=O),A(k(z),k(q))})}},w.prototype.handleUserMedia=function(T,b){var A=this.props;if(T||!b){this.setState({hasUserMedia:!1}),A.onUserMediaError(T);return}this.stream=b;try{this.video&&(this.video.srcObject=b),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(b)})}A.onUserMedia(b)},w.prototype.render=function(){var T=this,b=this,A=b.state,k=b.props,V=k.audio;k.forceScreenshotSourceSize;var F=k.disablePictureInPicture;k.onUserMedia,k.onUserMediaError,k.screenshotFormat,k.screenshotQuality,k.minScreenshotWidth,k.minScreenshotHeight,k.audioConstraints,k.videoConstraints,k.imageSmoothing;var z=k.mirrored,q=k.style,J=q===void 0?{}:q,O=k.children,I=p(k,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),N=z?h(h({},J),{transform:(J.transform||"")+" scaleX(-1)"}):J,L={getScreenshot:this.getScreenshot.bind(this)};return l.createElement(l.Fragment,null,l.createElement("video",h({autoPlay:!0,disablePictureInPicture:F,src:A.src,muted:!V,playsInline:!0,ref:function(U){T.video=U},style:N},I)),O&&O(L))},w.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},w}(l.Component);i.default=v},react:function(r,i){r.exports=n}}).default})}(vf)),vf.exports}var Dj=Oj();const G1=Ug(Dj),Mj=()=>{const{interviewId:t}=vc(),[e,n]=C.useState(null),[r,i]=C.useState(!0),[a,l]=C.useState(!1),c=mo();return C.useEffect(()=>{if(!t){c("/generate",{replace:!0});return}(async()=>{try{const p=await Oh(ia(as,"interviews",t));p.exists()?n({id:p.id,...p.data()}):setTimeout(()=>c("/generate",{replace:!0}),3e3)}catch(p){console.error("Error fetching interview:",p),setTimeout(()=>c("/generate",{replace:!0}),3e3)}finally{i(!1)}})()},[t,c]),r?S.jsx(sv,{className:"w-full h-[70vh]"}):e?S.jsxs("div",{className:"flex flex-col w-full gap-8 py-5",children:[S.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[S.jsx(Lh,{breadCrumbPage:(e==null?void 0:e.position)||"",breadCrumpItems:[{label:"Mock Interviews",link:"/generate"}]}),S.jsx(Yi,{to:`/generate/interview/${t}/start`,children:S.jsxs(es,{size:"sm",children:["Start ",S.jsx(mT,{className:"ml-2"})]})})]}),e&&S.jsx(Qy,{interview:e,onMockPage:!0}),S.jsxs(iv,{className:"bg-yellow-100/50 border-yellow-200 p-4 rounded-lg flex items-start gap-3 -mt-3",children:[S.jsx(pT,{className:"h-5 w-5 text-yellow-600"}),S.jsxs("div",{children:[S.jsx(ov,{className:"text-yellow-800 font-semibold",children:"Important Information"}),S.jsxs(av,{className:"text-sm text-yellow-700 mt-1",children:["Please enable your webcam and microphone to start the AI-generated mock interview. The interview consists of five questions. You’ll receive a personalized report based on your responses at the end.",S.jsx("br",{}),S.jsx("br",{}),S.jsx("span",{className:"font-medium",children:"Note:"})," Your video is"," ",S.jsx("strong",{children:"never recorded"}),". You can disable your webcam at any time."]})]})]}),S.jsx("div",{className:"flex items-center justify-center w-full",children:S.jsx("div",{className:"w-full h-[400px] md:w-96 flex flex-col items-center justify-center border p-4 bg-gray-50 rounded-md",children:a?S.jsx(G1,{onUserMedia:()=>l(!0),onUserMediaError:()=>l(!1),className:"w-full h-full object-cover rounded-md"}):S.jsx(gT,{className:"min-w-24 min-h-24 text-muted-foreground"})})}),S.jsx("div",{className:"flex items-center justify-center",children:S.jsx(es,{onClick:()=>l(!a),variant:a?"destructive":"default",children:a?"Disable Webcam":"Enable Webcam"})})]}):S.jsx("div",{className:"w-full flex justify-center items-center h-[70vh]",children:S.jsx("p",{className:"text-red-500 text-lg font-semibold",children:"Interview not found. Redirecting..."})})};function K1(t){const e=t+"CollectionProvider",[n,r]=go(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:T,children:b}=w,A=se.useRef(null),k=se.useRef(new Map).current;return S.jsx(i,{scope:T,itemMap:k,collectionRef:A,children:b})};l.displayName=e;const c=t+"CollectionSlot",h=se.forwardRef((w,T)=>{const{scope:b,children:A}=w,k=a(c,b),V=Pn(T,k.collectionRef);return S.jsx(Zi,{ref:V,children:A})});h.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=se.forwardRef((w,T)=>{const{scope:b,children:A,...k}=w,V=se.useRef(null),F=Pn(T,V),z=a(p,b);return se.useEffect(()=>(z.itemMap.set(V,{ref:V,...k}),()=>void z.itemMap.delete(V))),S.jsx(Zi,{[g]:"",ref:F,children:A})});v.displayName=p;function E(w){const T=a(t+"CollectionConsumer",w);return se.useCallback(()=>{const A=T.collectionRef.current;if(!A)return[];const k=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((z,q)=>k.indexOf(z.ref.current)-k.indexOf(q.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},E,r]}var Vj=C.createContext(void 0);function lv(t){const e=C.useContext(Vj);return t||e||"ltr"}var jm="rovingFocusGroup.onEntryFocus",Lj={bubbles:!1,cancelable:!0},Fh="RovingFocusGroup",[Vg,Q1,jj]=K1(Fh),[Fj,Y1]=go(Fh,[jj]),[Uj,$j]=Fj(Fh),Z1=C.forwardRef((t,e)=>S.jsx(Vg.Provider,{scope:t.__scopeRovingFocusGroup,children:S.jsx(Vg.Slot,{scope:t.__scopeRovingFocusGroup,children:S.jsx(Bj,{...t,ref:e})})}));Z1.displayName=Fh;var Bj=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...v}=t,E=C.useRef(null),w=Pn(e,E),T=lv(a),[b=null,A]=ta({prop:l,defaultProp:c,onChange:h}),[k,V]=C.useState(!1),F=ii(p),z=Q1(n),q=C.useRef(!1),[J,O]=C.useState(0);return C.useEffect(()=>{const I=E.current;if(I)return I.addEventListener(jm,F),()=>I.removeEventListener(jm,F)},[F]),S.jsx(Uj,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:b,onItemFocus:C.useCallback(I=>A(I),[A]),onItemShiftTab:C.useCallback(()=>V(!0),[]),onFocusableItemAdd:C.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:C.useCallback(()=>O(I=>I-1),[]),children:S.jsx(bt.div,{tabIndex:k||J===0?-1:0,"data-orientation":r,...v,ref:w,style:{outline:"none",...t.style},onMouseDown:kt(t.onMouseDown,()=>{q.current=!0}),onFocus:kt(t.onFocus,I=>{const N=!q.current;if(I.target===I.currentTarget&&N&&!k){const L=new CustomEvent(jm,Lj);if(I.currentTarget.dispatchEvent(L),!L.defaultPrevented){const U=z().filter(Ce=>Ce.focusable),M=U.find(Ce=>Ce.active),D=U.find(Ce=>Ce.id===b),Le=[M,D,...U].filter(Boolean).map(Ce=>Ce.ref.current);eC(Le,g)}}q.current=!1}),onBlur:kt(t.onBlur,()=>V(!1))})})}),X1="RovingFocusGroupItem",J1=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...l}=t,c=zi(),h=a||c,p=$j(X1,n),g=p.currentTabStopId===h,v=Q1(n),{onFocusableItemAdd:E,onFocusableItemRemove:w}=p;return C.useEffect(()=>{if(r)return E(),()=>w()},[r,E,w]),S.jsx(Vg.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:S.jsx(bt.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:kt(t.onMouseDown,T=>{r?p.onItemFocus(h):T.preventDefault()}),onFocus:kt(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:kt(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const b=Wj(T,p.orientation,p.dir);if(b!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let k=v().filter(V=>V.focusable).map(V=>V.ref.current);if(b==="last")k.reverse();else if(b==="prev"||b==="next"){b==="prev"&&k.reverse();const V=k.indexOf(T.currentTarget);k=p.loop?qj(k,V+1):k.slice(V+1)}setTimeout(()=>eC(k))}})})})});J1.displayName=X1;var zj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hj(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Wj(t,e,n){const r=Hj(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return zj[r]}function eC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qj(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Gj=Z1,Kj=J1,uv="Tabs",[Qj,Z9]=go(uv,[Y1]),tC=Y1(),[Yj,cv]=Qj(uv),nC=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:h="automatic",...p}=t,g=lv(c),[v,E]=ta({prop:r,onChange:i,defaultProp:a});return S.jsx(Yj,{scope:n,baseId:zi(),value:v,onValueChange:E,orientation:l,dir:g,activationMode:h,children:S.jsx(bt.div,{dir:g,"data-orientation":l,...p,ref:e})})});nC.displayName=uv;var rC="TabsList",sC=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=cv(rC,n),l=tC(n);return S.jsx(Gj,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:S.jsx(bt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});sC.displayName=rC;var iC="TabsTrigger",oC=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,l=cv(iC,n),c=tC(n),h=uC(l.baseId,r),p=cC(l.baseId,r),g=r===l.value;return S.jsx(Kj,{asChild:!0,...c,focusable:!i,active:g,children:S.jsx(bt.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...a,ref:e,onMouseDown:kt(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:kt(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:kt(t.onFocus,()=>{const v=l.activationMode!=="manual";!g&&!i&&v&&l.onValueChange(r)})})})});oC.displayName=iC;var aC="TabsContent",lC=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...l}=t,c=cv(aC,n),h=uC(c.baseId,r),p=cC(c.baseId,r),g=r===c.value,v=C.useRef(g);return C.useEffect(()=>{const E=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(E)},[]),S.jsx(ea,{present:i||g,children:({present:E})=>S.jsx(bt.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":h,hidden:!E,id:p,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:E&&a})})});lC.displayName=aC;function uC(t,e){return`${t}-trigger-${e}`}function cC(t,e){return`${t}-content-${e}`}var Zj=nC,dC=sC,fC=oC,hC=lC;const Xj=Zj,pC=C.forwardRef(({className:t,...e},n)=>S.jsx(dC,{ref:n,className:Xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));pC.displayName=dC.displayName;const mC=C.forwardRef(({className:t,...e},n)=>S.jsx(fC,{ref:n,className:Xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mC.displayName=fC.displayName;const gC=C.forwardRef(({className:t,...e},n)=>S.jsx(hC,{ref:n,className:Xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gC.displayName=hC.displayName;var yC=function(){return(yC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function qE(t,e,n,r){return new(n||(n=Promise))(function(i,a){function l(p){try{h(r.next(p))}catch(g){a(g)}}function c(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){var g;p.done?i(p.value):(g=p.value,g instanceof n?g:new n(function(v){v(g)})).then(l,c)}h((r=r.apply(t,[])).next())})}function GE(t,e){var n,r,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(p){return function(g){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&g[0]?r.return:g[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,g[1])).done)return i;switch(r=0,i&&(g=[2&g[0],i.value]),g[0]){case 0:case 1:i=g;break;case 4:return l.label++,{value:g[1],done:!1};case 5:l.label++,r=g[1],g=[0];continue;case 7:g=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!((i=i.length>0&&i[i.length-1])||g[0]!==6&&g[0]!==2)){l=0;continue}if(g[0]===3&&(!i||g[1]>i[0]&&g[1]<i[3])){l.label=g[1];break}if(g[0]===6&&l.label<i[1]){l.label=i[1],i=g;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(g);break}i[2]&&l.ops.pop(),l.trys.pop();continue}g=e.call(t,l)}catch(v){g=[6,v],r=0}finally{n=i=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,p])}}}function Wa(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],l=0,c=a.length;l<c;l++,i++)r[i]=a[l];return r}var Lg,Jj=_f;function _f(){}_f.mixin=function(t){var e=t.prototype||t;e.isWildEmitter=!0,e.on=function(n,r,i){this.callbacks=this.callbacks||{};var a=arguments.length===3,l=a?arguments[1]:void 0,c=a?arguments[2]:arguments[1];return c._groupName=l,(this.callbacks[n]=this.callbacks[n]||[]).push(c),this},e.once=function(n,r,i){var a=this,l=arguments.length===3,c=l?arguments[1]:void 0,h=l?arguments[2]:arguments[1];function p(){a.off(n,p),h.apply(this,arguments)}return this.on(n,c,p),this},e.releaseGroup=function(n){var r,i,a,l;for(r in this.callbacks=this.callbacks||{},this.callbacks)for(i=0,a=(l=this.callbacks[r]).length;i<a;i++)l[i]._groupName===n&&(l.splice(i,1),i--,a--);return this},e.off=function(n,r){this.callbacks=this.callbacks||{};var i,a=this.callbacks[n];return a?arguments.length===1?(delete this.callbacks[n],this):((i=a.indexOf(r))!==-1&&(a.splice(i,1),a.length===0&&delete this.callbacks[n]),this):this},e.emit=function(n){this.callbacks=this.callbacks||{};var r,i,a,l=[].slice.call(arguments,1),c=this.callbacks[n],h=this.getWildcardCallbacks(n);if(c)for(r=0,i=(a=c.slice()).length;r<i&&a[r];++r)a[r].apply(this,l);if(h)for(i=h.length,r=0,i=(a=h.slice()).length;r<i&&a[r];++r)a[r].apply(this,[n].concat(l));return this},e.getWildcardCallbacks=function(n){this.callbacks=this.callbacks||{};var r,i,a=[];for(r in this.callbacks)i=r.split("*"),(r==="*"||i.length===2&&n.slice(0,i[0].length)===i[0])&&(a=a.concat(this.callbacks[r]));return a}},_f.mixin(_f),typeof window<"u"&&(Lg=window.AudioContext||window.webkitAudioContext);var Zr=null,$i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eF=!!($i===$i.window&&$i.URL&&$i.Blob&&$i.Worker);function vC(t,e){var n,r=this;if(e=e||{},eF)return n=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new $i.Worker($i.URL.createObjectURL(new $i.Blob([n],{type:"text/javascript"})));this.self=e,this.self.postMessage=function(i){setTimeout(function(){r.onmessage({data:i})},0)},setTimeout(t.bind(e,e),0)}vC.prototype.postMessage=function(t){var e=this;setTimeout(function(){e.self.onmessage({data:t})},0)};var tF=vC;class _C{constructor(e,n){this.config={bufferLen:4096,numChannels:1,mimeType:"audio/wav",...n},this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=r=>{if(this.recording){for(var i=[],a=0;a<this.config.numChannels;a++)i.push(r.inputBuffer.getChannelData(a));this.worker.postMessage({command:"record",buffer:i})}},e.connect(this.node),this.node.connect(this.context.destination),this.worker=new tF(function(){let r,i,a,l=0,c=[];function h(){for(let v=0;v<i;v++)c[v]=[]}function p(v,E){let w=new Float32Array(E),T=0;for(let b=0;b<v.length;b++)w.set(v[b],T),T+=v[b].length;return w}function g(v,E,w){for(let T=0;T<w.length;T++)v.setUint8(E+T,w.charCodeAt(T))}this.onmessage=function(v){switch(v.data.command){case"init":E=v.data.config,r=E.sampleRate,i=E.numChannels,h(),a=r>48e3?48e3:r;break;case"record":(function(w){for(var T=0;T<i;T++)c[T].push(w[T]);l+=w[0].length})(v.data.buffer);break;case"exportWAV":(function(w){let T,b=[];for(let V=0;V<i;V++)b.push(p(c[V],l));T=i===2?function(V,F){let z=V.length+F.length,q=new Float32Array(z),J=0,O=0;for(;J<z;)q[J++]=V[O],q[J++]=F[O],O++;return q}(b[0],b[1]):b[0];let A=function(V){let F=new ArrayBuffer(44+2*V.length),z=new DataView(F);return g(z,0,"RIFF"),z.setUint32(4,36+2*V.length,!0),g(z,8,"WAVE"),g(z,12,"fmt "),z.setUint32(16,16,!0),z.setUint16(20,1,!0),z.setUint16(22,i,!0),z.setUint32(24,a,!0),z.setUint32(28,4*a,!0),z.setUint16(32,2*i,!0),z.setUint16(34,16,!0),g(z,36,"data"),z.setUint32(40,2*V.length,!0),function(q,J,O){for(let I=0;I<O.length;I++,J+=2){let N=Math.max(-1,Math.min(1,O[I]));q.setInt16(J,N<0?32768*N:32767*N,!0)}}(z,44,V),z}(function(V,F){if(F==r)return V;if(F>r)throw"downsampling rate show be smaller than original sample rate";for(var z=r/F,q=Math.round(V.length/z),J=new Float32Array(q),O=0,I=0;O<J.length;){for(var N=Math.round((O+1)*z),L=0,U=0,M=I;M<N&&M<V.length;M++)L+=V[M],U++;J[O]=L/U,O++,I=N}return J}(T,a)),k=new Blob([A],{type:w});this.postMessage({command:"exportWAV",data:k})})(v.data.type);break;case"getBuffer":(function(){let w=[];for(let T=0;T<i;T++)w.push(p(c[T],l));this.postMessage({command:"getBuffer",data:w})})();break;case"clear":l=0,c=[],h()}var E}},{}),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=r=>{let i=this.callbacks[r.data.command].pop();typeof i=="function"&&i(r.data.data)}}record(){this.recording=!0}stop(){this.recording=!1}clear(){this.worker.postMessage({command:"clear"})}getBuffer(e){if(!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(e),this.worker.postMessage({command:"getBuffer"})}exportWAV(e,n){if(n=n||this.config.mimeType,!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(e),this.worker.postMessage({command:"exportWAV",type:n})}static forceDownload(e,n){let r=(window.URL||window.webkitURL).createObjectURL(e),i=window.document.createElement("a");i.href=r,i.download=n||"output.wav";let a=document.createEvent("Event");a.initEvent("click",!0,!0),i.dispatchEvent(a)}}let wC,KE,$u=_C;async function nF({audioContext:t,errHandler:e,onStreamLoad:n}){try{const r=await navigator.mediaDevices.getUserMedia({audio:!0});return n&&n(),wC=r,KE=t.createMediaStreamSource(r),$u=new _C(KE),$u.record(),r}catch(r){console.log(r),e&&e()}}function Fm({exportWAV:t,wavCallback:e}){$u.stop(),wC.getAudioTracks()[0].stop(),t&&e&&$u.exportWAV(n=>e(n)),$u.clear()}var Rn,rF=navigator.userAgent.indexOf("Edg/")!==-1,sF=window.AudioContext||window.webkitAudioContext,QE=window.SpeechRecognition||window.webkitSpeechRecognition;function iF(t){var e=this,n=t.continuous,r=t.crossBrowser,i=t.googleApiKey,a=t.googleCloudRecognitionConfig,l=t.onStartSpeaking,c=t.onStoppedSpeaking,h=t.speechRecognitionProperties,p=h===void 0?{interimResults:!0}:h,g=t.timeout,v=g===void 0?1e4:g,E=t.useOnlyGoogleCloud,w=E!==void 0&&E,T=C.useState(!1),b=T[0],A=T[1],k=C.useRef(),V=C.useState([]);V[0];var F=V[1],z=C.useState([]),q=z[0],J=z[1],O=C.useState(),I=O[0],N=O[1],L=C.useState(""),U=L[0],M=L[1],D=C.useRef(),we=C.useRef();C.useEffect(function(){var ne;r||Rn||M("Speech Recognition API is only available on Chrome"),!((ne=navigator==null?void 0:navigator.mediaDevices)===null||ne===void 0)&&ne.getUserMedia||M("getUserMedia is not supported on this device/browser :("),!r&&!w||i||console.error("No google cloud API key was passed, google API will not be able to process speech"),k.current||(k.current=new sF)},[]);var Le=function(){return qE(e,void 0,void 0,function(){var ne,ae,H,Z;return GE(this,function(he){switch(he.label){case 0:return!w&&Rn?(function(){if(Rn){Rn.continuous=!0;var ge=p||{},be=ge.grammars,ve=ge.interimResults,Se=ge.lang,Be=ge.maxAlternatives;be&&(Rn.grammars=be),Se&&(Rn.lang=Se),Rn.interimResults=ve||!1,Rn.maxAlternatives=Be||1,Rn.start(),Rn.onresult=function(je){var st=je.results[je.results.length-1],ht=st[0].transcript,pt=Math.floor(Date.now()/1e3);if(ve)if(st.isFinal)N(void 0),J(function($t){return Wa($t,[{transcript:ht,timestamp:pt}])}),F(function($t){return Wa($t,[ht])});else{for(var yt="",zt=je.resultIndex;zt<je.results.length;zt++)yt+=je.results[zt][0].transcript;N(yt)}else J(function($t){return Wa($t,[{transcript:ht,timestamp:pt}])}),F(function($t){return Wa($t,[ht])})},Rn.onaudiostart=function(){return A(!0)},Rn.onend=function(){A(!1)}}}(),[2]):r||w?(((H=k.current)===null||H===void 0?void 0:H.state)==="suspended"&&((Z=k.current)===null||Z===void 0||Z.resume()),[4,nF({errHandler:function(){return M("Microphone permission was denied")},audioContext:k.current})]):[2];case 1:return ne=he.sent(),A(!0),v&&(clearTimeout(D.current),Ce()),we.current&&re(),we.current=ne.clone(),(ae=function(ge,be){var ve=new Jj;if(!Lg)return ve;var Se,Be,je,st=(be=be||{}).smoothing||.1,ht=be.interval||50,pt=be.threshold,yt=be.play,zt=be.history||10,$t=!0;Zr=be.audioContext||Zr||new Lg,(je=Zr.createAnalyser()).fftSize=512,je.smoothingTimeConstant=st,Be=new Float32Array(je.frequencyBinCount),ge.jquery&&(ge=ge[0]),ge instanceof HTMLAudioElement||ge instanceof HTMLVideoElement?(Se=Zr.createMediaElementSource(ge),yt===void 0&&(yt=!0),pt=pt||-50):(Se=Zr.createMediaStreamSource(ge),pt=pt||-50),Se.connect(je),yt&&je.connect(Zr.destination),ve.speaking=!1,ve.suspend=function(){return Zr.suspend()},ve.resume=function(){return Zr.resume()},Object.defineProperty(ve,"state",{get:function(){return Zr.state}}),Zr.onstatechange=function(){ve.emit("state_change",Zr.state)},ve.setThreshold=function($){pt=$},ve.setInterval=function($){ht=$},ve.stop=function(){$t=!1,ve.emit("volume_change",-100,pt),ve.speaking&&(ve.speaking=!1,ve.emit("stopped_speaking")),je.disconnect(),Se.disconnect()},ve.speakingHistory=[];for(var $n=0;$n<zt;$n++)ve.speakingHistory.push(0);var or=function(){setTimeout(function(){if($t){var $=function(ye,pe){var le=-1/0;ye.getFloatFrequencyData(pe);for(var ke=4,qe=pe.length;ke<qe;ke++)pe[ke]>le&&pe[ke]<0&&(le=pe[ke]);return le}(je,Be);ve.emit("volume_change",$,pt);var K=0;if($>pt&&!ve.speaking){for(var ee=ve.speakingHistory.length-3;ee<ve.speakingHistory.length;ee++)K+=ve.speakingHistory[ee];K>=2&&(ve.speaking=!0,ve.emit("speaking"))}else if($<pt&&ve.speaking){for(ee=0;ee<ve.speakingHistory.length;ee++)K+=ve.speakingHistory[ee];K==0&&(ve.speaking=!1,ve.emit("stopped_speaking"))}ve.speakingHistory.shift(),ve.speakingHistory.push(0+($>pt)),or()}},ht)};return or(),ve}(we.current,{audioContext:k.current})).on("speaking",function(){l&&l(),clearTimeout(D.current)}),ae.on("stopped_speaking",function(){c&&c(),Fm({exportWAV:!0,wavCallback:function(ge){return xe({blob:ge,continuous:n})}})}),[2]}})})},Ce=function(){D.current=window.setTimeout(function(){A(!1),re(),Fm({exportWAV:!1})},v)},xe=function(ne){var ae=ne.blob,H=ne.continuous,Z=new FileReader;Z.readAsDataURL(ae),Z.onloadend=function(){return qE(e,void 0,void 0,function(){var he,ge,be,ve,Se,Be,je,st,ht;return GE(this,function(pt){switch(pt.label){case 0:return he=Z.result,(ge=(st=k.current)===null||st===void 0?void 0:st.sampleRate)&&ge>48e3&&(ge=48e3),be={content:""},ve=yC({encoding:"LINEAR16",languageCode:"en-US",sampleRateHertz:ge},a),Se={config:ve,audio:be},be.content=he.substr(he.indexOf(",")+1),[4,fetch("https://speech.googleapis.com/v1/speech:recognize?key="+i,{method:"POST",body:JSON.stringify(Se)})];case 1:return[4,pt.sent().json()];case 2:return Be=pt.sent(),((ht=Be.results)===null||ht===void 0?void 0:ht.length)>0&&(je=Be.results[0].alternatives[0].transcript,F(function(yt){return Wa(yt,[je])}),J(function(yt){return Wa(yt,[{speechBlob:ae,transcript:je,timestamp:Math.floor(Date.now()/1e3)}])})),H?Le():(re(),A(!1)),[2]}})})}},re=function(){var ne;(ne=we.current)===null||ne===void 0||ne.getAudioTracks()[0].stop()};return{error:U,interimResult:I,isRecording:b,results:q,setResults:J,startSpeechToText:Le,stopSpeechToText:function(){Rn&&!w?Rn.stop():(A(!1),re(),Fm({exportWAV:!0,wavCallback:function(ne){return xe({blob:ne,continuous:!1})}}))}}}navigator.brave&&navigator.brave.isBrave().then(function(t){t&&(Rn=null)}),!rF&&QE&&(Rn=new QE);var Um="focusScope.autoFocusOnMount",$m="focusScope.autoFocusOnUnmount",YE={bubbles:!1,cancelable:!0},oF="FocusScope",EC=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[c,h]=C.useState(null),p=ii(i),g=ii(a),v=C.useRef(null),E=Pn(e,b=>h(b)),w=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let b=function(F){if(w.paused||!c)return;const z=F.target;c.contains(z)?v.current=z:ji(v.current,{select:!0})},A=function(F){if(w.paused||!c)return;const z=F.relatedTarget;z!==null&&(c.contains(z)||ji(v.current,{select:!0}))},k=function(F){if(document.activeElement===document.body)for(const q of F)q.removedNodes.length>0&&ji(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",A);const V=new MutationObserver(k);return c&&V.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",A),V.disconnect()}}},[r,c,w.paused]),C.useEffect(()=>{if(c){XE.add(w);const b=document.activeElement;if(!c.contains(b)){const k=new CustomEvent(Um,YE);c.addEventListener(Um,p),c.dispatchEvent(k),k.defaultPrevented||(aF(fF(xC(c)),{select:!0}),document.activeElement===b&&ji(c))}return()=>{c.removeEventListener(Um,p),setTimeout(()=>{const k=new CustomEvent($m,YE);c.addEventListener($m,g),c.dispatchEvent(k),k.defaultPrevented||ji(b??document.body,{select:!0}),c.removeEventListener($m,g),XE.remove(w)},0)}}},[c,p,g,w]);const T=C.useCallback(b=>{if(!n&&!r||w.paused)return;const A=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,k=document.activeElement;if(A&&k){const V=b.currentTarget,[F,z]=lF(V);F&&z?!b.shiftKey&&k===z?(b.preventDefault(),n&&ji(F,{select:!0})):b.shiftKey&&k===F&&(b.preventDefault(),n&&ji(z,{select:!0})):k===V&&b.preventDefault()}},[n,r,w.paused]);return S.jsx(bt.div,{tabIndex:-1,...l,ref:E,onKeyDown:T})});EC.displayName=oF;function aF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ji(r,{select:e}),document.activeElement!==n)return}function lF(t){const e=xC(t),n=ZE(e,t),r=ZE(e.reverse(),t);return[n,r]}function xC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZE(t,e){for(const n of t)if(!uF(n,{upTo:e}))return n}function uF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cF(t){return t instanceof HTMLInputElement&&"select"in t}function ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cF(t)&&e&&t.select()}}var XE=dF();function dF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=JE(t,e),t.unshift(e)},remove(e){var n;t=JE(t,e),(n=t[0])==null||n.resume()}}}function JE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function fF(t){return t.filter(e=>e.tagName!=="A")}var Bm=0;function hF(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ex()),document.body.insertAdjacentElement("beforeend",t[1]??ex()),Bm++,()=>{Bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bm--}},[])}function ex(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ts=function(){return Ts=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ts.apply(this,arguments)};function TC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pF(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var wf="right-scroll-bar-position",Ef="width-before-scroll-bar",mF="with-scroll-bars-hidden",gF="--removed-body-scroll-bar-size";function zm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yF(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var vF=typeof window<"u"?C.useLayoutEffect:C.useEffect,tx=new WeakMap;function _F(t,e){var n=yF(null,function(r){return t.forEach(function(i){return zm(i,r)})});return vF(function(){var r=tx.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(c){a.has(c)||zm(c,null)}),a.forEach(function(c){i.has(c)||zm(c,l)})}tx.set(n,t)},[t]),n}function wF(t){return t}function EF(t,e){e===void 0&&(e=wF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(a),l=n}var h=function(){var g=l;l=[],g.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),n}}}};return i}function xF(t){t===void 0&&(t={});var e=EF(null);return e.options=Ts({async:!0,ssr:!1},t),e}var bC=function(t){var e=t.sideCar,n=TC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Ts({},n))};bC.isSideCarExport=!0;function TF(t,e){return t.useMedium(e),bC}var CC=xF(),Hm=function(){},Uh=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:Hm,onWheelCapture:Hm,onTouchMoveCapture:Hm}),i=r[0],a=r[1],l=t.forwardProps,c=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,v=t.shards,E=t.sideCar,w=t.noIsolation,T=t.inert,b=t.allowPinchZoom,A=t.as,k=A===void 0?"div":A,V=t.gapMode,F=TC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=E,q=_F([n,e]),J=Ts(Ts({},F),i);return C.createElement(C.Fragment,null,g&&C.createElement(z,{sideCar:CC,removeScrollBar:p,shards:v,noIsolation:w,inert:T,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:V}),l?C.cloneElement(C.Children.only(c),Ts(Ts({},J),{ref:q})):C.createElement(k,Ts({},J,{className:h,ref:q}),c))});Uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uh.classNames={fullWidth:Ef,zeroRight:wf};var bF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bF();return e&&t.setAttribute("nonce",e),t}function SF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=CF())&&(SF(e,n),AF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},IF=function(){var t=RF();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},SC=function(){var t=IF(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},kF={left:0,top:0,right:0,gap:0},Wm=function(t){return parseInt(t||"",10)||0},PF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Wm(n),Wm(r),Wm(i)]},NF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kF;var e=PF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},OF=SC(),ll="data-scroll-locked",DF=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ll,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ef,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ll,`] {
    `).concat(gF,": ").concat(c,`px;
  }
`)},nx=function(){var t=parseInt(document.body.getAttribute(ll)||"0",10);return isFinite(t)?t:0},MF=function(){C.useEffect(function(){return document.body.setAttribute(ll,(nx()+1).toString()),function(){var t=nx()-1;t<=0?document.body.removeAttribute(ll):document.body.setAttribute(ll,t.toString())}},[])},VF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;MF();var a=C.useMemo(function(){return NF(i)},[i]);return C.createElement(OF,{styles:DF(a,!e,i,n?"":"!important")})},jg=!1;if(typeof window<"u")try{var tf=Object.defineProperty({},"passive",{get:function(){return jg=!0,!0}});window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{jg=!1}var qa=jg?{passive:!1}:!1,LF=function(t){return t.tagName==="TEXTAREA"},AC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!LF(t)&&n[e]==="visible")},jF=function(t){return AC(t,"overflowY")},FF=function(t){return AC(t,"overflowX")},rx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=RC(t,r);if(i){var a=IC(t,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$F=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},RC=function(t,e){return t==="v"?jF(e):FF(e)},IC=function(t,e){return t==="v"?UF(e):$F(e)},BF=function(t,e){return t==="h"&&e==="rtl"?-1:1},zF=function(t,e,n,r,i){var a=BF(t,window.getComputedStyle(e).direction),l=a*r,c=n.target,h=e.contains(c),p=!1,g=l>0,v=0,E=0;do{var w=IC(t,c),T=w[0],b=w[1],A=w[2],k=b-A-a*T;(T||k)&&RC(t,c)&&(v+=k,E+=T),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(g&&Math.abs(v)<1||!g&&Math.abs(E)<1)&&(p=!0),p},nf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sx=function(t){return[t.deltaX,t.deltaY]},ix=function(t){return t&&"current"in t?t.current:t},HF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},WF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qF=0,Ga=[];function GF(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(qF++)[0],a=C.useState(SC)[0],l=C.useRef(t);C.useEffect(function(){l.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=pF([t.lockRef.current],(t.shards||[]).map(ix)).filter(Boolean);return b.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=C.useCallback(function(b,A){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var k=nf(b),V=n.current,F="deltaX"in b?b.deltaX:V[0]-k[0],z="deltaY"in b?b.deltaY:V[1]-k[1],q,J=b.target,O=Math.abs(F)>Math.abs(z)?"h":"v";if("touches"in b&&O==="h"&&J.type==="range")return!1;var I=rx(O,J);if(!I)return!0;if(I?q=O:(q=O==="v"?"h":"v",I=rx(O,J)),!I)return!1;if(!r.current&&"changedTouches"in b&&(F||z)&&(r.current=q),!q)return!0;var N=r.current||q;return zF(N,A,b,N==="h"?F:z)},[]),h=C.useCallback(function(b){var A=b;if(!(!Ga.length||Ga[Ga.length-1]!==a)){var k="deltaY"in A?sx(A):nf(A),V=e.current.filter(function(q){return q.name===A.type&&(q.target===A.target||A.target===q.shadowParent)&&HF(q.delta,k)})[0];if(V&&V.should){A.cancelable&&A.preventDefault();return}if(!V){var F=(l.current.shards||[]).map(ix).filter(Boolean).filter(function(q){return q.contains(A.target)}),z=F.length>0?c(A,F[0]):!l.current.noIsolation;z&&A.cancelable&&A.preventDefault()}}},[]),p=C.useCallback(function(b,A,k,V){var F={name:b,delta:A,target:k,should:V,shadowParent:KF(k)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(z){return z!==F})},1)},[]),g=C.useCallback(function(b){n.current=nf(b),r.current=void 0},[]),v=C.useCallback(function(b){p(b.type,sx(b),b.target,c(b,t.lockRef.current))},[]),E=C.useCallback(function(b){p(b.type,nf(b),b.target,c(b,t.lockRef.current))},[]);C.useEffect(function(){return Ga.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",h,qa),document.addEventListener("touchmove",h,qa),document.addEventListener("touchstart",g,qa),function(){Ga=Ga.filter(function(b){return b!==a}),document.removeEventListener("wheel",h,qa),document.removeEventListener("touchmove",h,qa),document.removeEventListener("touchstart",g,qa)}},[]);var w=t.removeScrollBar,T=t.inert;return C.createElement(C.Fragment,null,T?C.createElement(a,{styles:WF(i)}):null,w?C.createElement(VF,{gapMode:t.gapMode}):null)}function KF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QF=TF(CC,GF);var kC=C.forwardRef(function(t,e){return C.createElement(Uh,Ts({},t,{ref:e,sideCar:QF}))});kC.classNames=Uh.classNames;var YF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ka=new WeakMap,rf=new WeakMap,sf={},qm=0,PC=function(t){return t&&(t.host||PC(t.parentNode))},ZF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=PC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},XF=function(t,e,n,r){var i=ZF(e,Array.isArray(t)?t:[t]);sf[n]||(sf[n]=new WeakMap);var a=sf[n],l=[],c=new Set,h=new Set(i),p=function(v){!v||c.has(v)||(c.add(v),p(v.parentNode))};i.forEach(p);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(E){if(c.has(E))g(E);else try{var w=E.getAttribute(r),T=w!==null&&w!=="false",b=(Ka.get(E)||0)+1,A=(a.get(E)||0)+1;Ka.set(E,b),a.set(E,A),l.push(E),b===1&&T&&rf.set(E,!0),A===1&&E.setAttribute(n,"true"),T||E.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",E,k)}})};return g(e),c.clear(),qm++,function(){l.forEach(function(v){var E=Ka.get(v)-1,w=a.get(v)-1;Ka.set(v,E),a.set(v,w),E||(rf.has(v)||v.removeAttribute(r),rf.delete(v)),w||v.removeAttribute(n)}),qm--,qm||(Ka=new WeakMap,Ka=new WeakMap,rf=new WeakMap,sf={})}},JF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=YF(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),XF(r,i,n,"aria-hidden")):function(){return null}},dv="Dialog",[NC,X9]=go(dv),[e9,cs]=NC(dv),OC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=C.useRef(null),h=C.useRef(null),[p=!1,g]=ta({prop:r,defaultProp:i,onChange:a});return S.jsx(e9,{scope:e,triggerRef:c,contentRef:h,contentId:zi(),titleId:zi(),descriptionId:zi(),open:p,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(v=>!v),[g]),modal:l,children:n})};OC.displayName=dv;var DC="DialogTrigger",t9=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=cs(DC,n),a=Pn(e,i.triggerRef);return S.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pv(i.open),...r,ref:a,onClick:kt(t.onClick,i.onOpenToggle)})});t9.displayName=DC;var fv="DialogPortal",[n9,MC]=NC(fv,{forceMount:void 0}),VC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=cs(fv,e);return S.jsx(n9,{scope:e,forceMount:n,children:C.Children.map(r,l=>S.jsx(ea,{present:n||a.open,children:S.jsx(nT,{asChild:!0,container:i,children:l})}))})};VC.displayName=fv;var eh="DialogOverlay",LC=C.forwardRef((t,e)=>{const n=MC(eh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=cs(eh,t.__scopeDialog);return a.modal?S.jsx(ea,{present:r||a.open,children:S.jsx(r9,{...i,ref:e})}):null});LC.displayName=eh;var r9=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=cs(eh,n);return S.jsx(kC,{as:Zi,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(bt.div,{"data-state":pv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Jo="DialogContent",jC=C.forwardRef((t,e)=>{const n=MC(Jo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=cs(Jo,t.__scopeDialog);return S.jsx(ea,{present:r||a.open,children:a.modal?S.jsx(s9,{...i,ref:e}):S.jsx(i9,{...i,ref:e})})});jC.displayName=Jo;var s9=C.forwardRef((t,e)=>{const n=cs(Jo,t.__scopeDialog),r=C.useRef(null),i=Pn(e,n.contentRef,r);return C.useEffect(()=>{const a=r.current;if(a)return JF(a)},[]),S.jsx(FC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:kt(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:kt(t.onFocusOutside,a=>a.preventDefault())})}),i9=C.forwardRef((t,e)=>{const n=cs(Jo,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return S.jsx(FC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),FC=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,c=cs(Jo,n),h=C.useRef(null),p=Pn(e,h);return hF(),S.jsxs(S.Fragment,{children:[S.jsx(EC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:S.jsx(Yg,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":pv(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(o9,{titleId:c.titleId}),S.jsx(l9,{contentRef:h,descriptionId:c.descriptionId})]})]})}),hv="DialogTitle",UC=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=cs(hv,n);return S.jsx(bt.h2,{id:i.titleId,...r,ref:e})});UC.displayName=hv;var $C="DialogDescription",BC=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=cs($C,n);return S.jsx(bt.p,{id:i.descriptionId,...r,ref:e})});BC.displayName=$C;var zC="DialogClose",HC=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=cs(zC,n);return S.jsx(bt.button,{type:"button",...r,ref:e,onClick:kt(t.onClick,()=>i.onOpenChange(!1))})});HC.displayName=zC;function pv(t){return t?"open":"closed"}var WC="DialogTitleWarning",[J9,qC]=GI(WC,{contentName:Jo,titleName:hv,docsSlug:"dialog"}),o9=({titleId:t})=>{const e=qC(WC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},a9="DialogDescriptionWarning",l9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qC(a9).contentName}}.`;return C.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},u9=OC,c9=VC,GC=LC,KC=jC,QC=UC,YC=BC,d9=HC;const f9=u9,h9=c9,ZC=C.forwardRef(({className:t,...e},n)=>S.jsx(GC,{ref:n,className:Xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ZC.displayName=GC.displayName;const XC=C.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(h9,{children:[S.jsx(ZC,{}),S.jsxs(KC,{ref:r,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,S.jsxs(d9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[S.jsx(LN,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));XC.displayName=KC.displayName;const JC=({className:t,...e})=>S.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});JC.displayName="DialogHeader";const eS=C.forwardRef(({className:t,...e},n)=>S.jsx(QC,{ref:n,className:Xe("text-lg font-semibold leading-none tracking-tight",t),...e}));eS.displayName=QC.displayName;const tS=C.forwardRef(({className:t,...e},n)=>S.jsx(YC,{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));tS.displayName=YC.displayName;const p9=({title:t,description:e,isOpen:n,onClose:r,children:i})=>{const a=l=>{l||r()};return S.jsx(f9,{open:n,onOpenChange:a,children:S.jsxs(XC,{children:[S.jsxs(JC,{children:[S.jsx(eS,{children:t}),S.jsx(tS,{children:e})]}),S.jsx("div",{children:i})]})})},m9=({isOpen:t,onClose:e,onConfirm:n,loading:r})=>S.jsx(p9,{title:"Are you sure?",description:"This action cannot be undone you can't edit or re-answer this question again!",isOpen:t,onClose:e,children:S.jsxs("div",{className:"pt-6 space-x-2 flex items-center justify-end w-full",children:[S.jsx(es,{disabled:r,variant:"outline",onClick:e,children:"Cancel"}),S.jsx(es,{disabled:r,className:"bg-emerald-600 hover:bg-emerald-800",onClick:n,children:"Continue"})]})}),g9=({question:t,isWebCam:e,setIsWebCam:n,onSave:r})=>{const{isRecording:i,results:a,startSpeechToText:l,stopSpeechToText:c}=iF({continuous:!0}),[h,p]=C.useState(""),[g,v]=C.useState(!1),[E,w]=C.useState(null),[T,b]=C.useState(!1),[A,k]=C.useState(!1),{interviewId:V}=vc();C.useEffect(()=>{(async()=>{try{const N=await Mg.sendMessage("Hello, can you respond?");console.log("Test ChatSession Response:",N),(!N||!N.response)&&console.warn("ChatSession test failed to return a valid response.")}catch(N){console.error("ChatSession Test Error:",N)}})()},[]);const F=async()=>{if(i){if(c(),console.log("User Answer:",h),h.length<30){_n.error("Error",{description:"Your answer should be more than 30 characters."});return}console.log("Generating AI Result...");const I=await q(t.question,t.answer,h);console.log("AI Result:",I),w(I)}else l()},z=I=>{let N=I.trim();const L=N.indexOf("{"),U=N.lastIndexOf("}")+1;if(L!==-1&&U!==-1)N=N.substring(L,U);else return console.error("No valid JSON found in response:",I),{ratings:0,feedback:"No valid feedback generated."};N=N.replace(/(json|```|`)/g,"").trim(),console.log("Cleaned Response Text:",N);try{const M=JSON.parse(N);return{ratings:typeof M.ratings=="number"?M.ratings:0,feedback:typeof M.feedback=="string"?M.feedback:"Invalid feedback format."}}catch(M){return console.error("JSON Parse Error:",M,"Text:",N),{ratings:0,feedback:"Unable to parse AI response."}}},q=async(I,N,L)=>{v(!0);const U=`
      Question: "${I}"
      User Answer: "${L}"
      Correct Answer: "${N}"
      Please compare the user's answer to the correct answer, provide a rating (1-10), and give feedback.
      Return the result as JSON with "ratings" (number) and "feedback" (string).
    `;console.log("Prompt:",U);try{const M=await Mg.sendMessage(U);if(console.log("Raw AI Response:",M),!M||!M.response)throw new Error("No response from AI");const D=M.response.text();if(!D||!D.includes("{")||!D.includes("}"))throw new Error("Invalid response format from AI");return z(D)}catch(M){const D=M;return console.error("Error in generateResult:",D),D.message.includes("429")?_n.error("Quota exceeded. Please wait 30 seconds or check your API plan at https://ai.google.dev/gemini-api/docs/rate-limits."):_n.error(`Error generating feedback: ${D.message}`),{ratings:0,feedback:`Error: ${D.message}`}}finally{v(!1)}},J=()=>{p(""),c(),l()},O=async()=>{if(k(!0),console.log("Saving User Answer, aiResult:",E),!E||!E.feedback||typeof E.ratings!="number"){_n.error("Invalid feedback data. Please record your answer again."),k(!1);return}try{const I=Xb(tc(as,"userAnswers"),Jb("question","==",t.question));if(!(await r1(I)).empty){_n.info("Already Answered",{description:"You have already answered this question."}),k(!1);return}await s1(tc(as,"userAnswers"),{mockIdRef:V,question:t.question,correct_ans:t.answer,user_ans:h,feedback:E.feedback,rating:E.ratings,createdAt:Cg()}),_n.success("Your answer has been saved."),r&&r()}catch(I){console.error("Save Error:",I),_n.error("An error occurred while saving your answer.")}finally{k(!1),b(!1)}};return C.useEffect(()=>{console.log("Results:",a);const I=a.filter(N=>typeof N!="string").map(N=>N.transcript).join(" ");p(I)},[a]),S.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mt-4",children:[S.jsx(m9,{isOpen:T,onClose:()=>b(!1),onConfirm:O,loading:A}),S.jsx("div",{className:"w-full h-[400px] md:w-96 flex flex-col items-center justify-center border p-4 bg-gray-50 rounded-md",children:e?S.jsx(G1,{onUserMedia:()=>n(!0),onUserMediaError:()=>n(!1),className:"w-full h-full object-cover rounded-md"}):S.jsx(gT,{className:"w-24 h-24 text-muted-foreground"})}),S.jsxs("div",{className:"flex items-center justify-center gap-3",children:[S.jsx(ni,{content:e?"Turn Off":"Turn On",icon:e?S.jsx(RN,{className:"w-5 h-5"}):S.jsx(kN,{className:"w-5 h-5"}),onClick:()=>n(!e)}),S.jsx(ni,{content:i?"Stop Recording":"Start Recording",icon:i?S.jsx(sN,{className:"w-5 h-5"}):S.jsx(fN,{className:"w-5 h-5"}),onClick:F}),S.jsx(ni,{content:"Record Again",icon:S.jsx(yN,{className:"w-5 h-5"}),onClick:J}),S.jsx(ni,{content:"Save Result",icon:g?S.jsx(hh,{className:"w-5 h-5 animate-spin"}):S.jsx(_N,{className:"w-5 h-5"}),onClick:()=>b(!0),disabled:!E})]}),S.jsxs("div",{className:"w-full mt-4 p-4 border rounded-md bg-gray-50",children:[S.jsx("h2",{className:"text-lg font-semibold",children:"Your Answer:"}),S.jsx("p",{className:"text-sm mt-2 text-gray-700 whitespace-normal",children:h||"Start recording to see your answer here."})]})]})},y9=({questions:t=[]})=>{var h;const[e,n]=C.useState(!1),[r,i]=C.useState(!1),[a,l]=C.useState(null);if(console.log("Questions Data:",t),!Array.isArray(t)||t.length===0)return S.jsx("p",{className:"text-center text-gray-500",children:"No questions available."});const c=p=>{if(e&&a)window.speechSynthesis.cancel(),n(!1),l(null);else if("speechSynthesis"in window){const g=new SpeechSynthesisUtterance(p);window.speechSynthesis.speak(g),n(!0),l(g),g.onend=()=>{n(!1),l(null)}}};return S.jsx("div",{className:"w-full min-h-96 border rounded-md p-4",children:S.jsxs(Xj,{defaultValue:(h=t[0])==null?void 0:h.question,className:"w-full space-y-12",orientation:"vertical",children:[S.jsx(pC,{className:"bg-transparent w-full flex flex-wrap items-center justify-start gap-4",children:t.map((p,g)=>S.jsx(mC,{className:Xe("data-[state=active]:bg-emerald-200 data-[state=active]:shadow-md text-xs px-2"),value:p.question,children:`Question #${g+1}`},p.question))}),t.map((p,g)=>S.jsxs(gC,{value:p.question,children:[S.jsx("p",{className:"text-base text-left tracking-wide text-neutral-500",children:p.question}),S.jsx("div",{className:"w-full flex items-center justify-end",children:S.jsx(ni,{content:e?"Stop":"Start",icon:e?S.jsx(DN,{className:"min-w-5 min-h-5 text-muted-foreground"}):S.jsx(NN,{className:"min-w-5 min-h-5 text-muted-foreground"}),onClick:()=>c(p.question)})}),S.jsx(g9,{question:p,isWebCam:r,setIsWebCam:i})]},g))]})})},v9=t=>`/generate/interview/${t}`,_9=()=>{const{interviewId:t}=vc(),[e,n]=C.useState(null),[r,i]=C.useState(!0),[a,l]=C.useState(null),c=mo(),h=p=>{if(typeof p!="string")return console.error("Questions text is not a string:",p),[];if(console.log("Raw questions data:",p),p.includes("json"))try{const w=p.match(/json\s*([\s\S]*?)\s*```/);if(w&&w[1]){const T=JSON.parse(w[1]);if(Array.isArray(T)){const b=T.map(A=>({question:A.question,answer:A.answer||"",topic:A.topic,difficulty:A.difficulty}));return console.log("Parsed JSON questions:",b),b}}}catch(w){console.error("Error parsing JSON questions:",w)}const g=/\\*Question:\\* \"(.*?)\"|\\*Question:\\* (.*?)(?:\r?\n|$)|Question: "(.*?)"|Question: (.*?)(?:\r?\n|$)/g,v=[];let E;for(;(E=g.exec(p))!==null;){const w=E[1]||E[2]||E[3]||E[4];w&&v.push({question:w.trim(),answer:""})}return console.log("Regex extracted questions:",v),v};return C.useEffect(()=>{if(!t){c("/dashboard",{replace:!0});return}(async()=>{try{i(!0),l(null);const g=await Oh(ia(as,"interviews",t));if(g.exists()){const v=g.data();console.log("Interview data from Firestore:",v);let E=[];v.questions?typeof v.questions=="string"?E=h(v.questions):Array.isArray(v.questions)?E=v.questions:(console.error("Questions data is not in expected format:",v.questions),E=[]):(console.error("Questions data is undefined"),E=[]),E.length===0&&l("No questions found for this interview."),n({...v,id:g.id,questions:E})}else l("Interview not found"),setTimeout(()=>c("/dashboard",{replace:!0}),3e3)}catch(g){console.error("Error fetching interview:",g),l("Failed to load interview data"),setTimeout(()=>c("/dashboard",{replace:!0}),3e3)}finally{i(!1)}})()},[t,c]),r?S.jsx(sv,{className:"w-full h-[70vh]"}):a?S.jsx("div",{className:"w-full flex justify-center items-center h-[70vh]",children:S.jsxs("p",{className:"text-red-500 text-lg font-semibold",children:[a," Redirecting..."]})}):e?S.jsxs("div",{className:"flex flex-col w-full gap-8 py-5",children:[S.jsx(Lh,{breadCrumbPage:"Start",breadCrumpItems:[{label:"Mock Interviews",link:"/dashboard"},{label:(e==null?void 0:e.position)||"Interview",link:t?v9(t):"/dashboard"}]}),S.jsx("div",{className:"w-full",children:S.jsxs(iv,{className:"bg-sky-100 border border-sky-200 p-4 rounded-lg flex items-start gap-3",children:[S.jsx(pT,{className:"h-5 w-5 text-sky-600"}),S.jsxs("div",{children:[S.jsx(ov,{className:"text-sky-800 font-semibold",children:"Important Note"}),S.jsxs(av,{className:"text-sm text-sky-700 mt-1 leading-relaxed",children:[`Press "Record Answer" to begin answering the question. Once you finish the interview, you'll receive feedback comparing your responses with the ideal answers.`,S.jsx("br",{}),S.jsx("br",{}),S.jsx("strong",{children:"Note:"})," ",S.jsx("span",{className:"font-medium",children:"Your video is never recorded."})," ","You can disable the webcam anytime if preferred."]})]})]})}),e!=null&&e.questions&&e.questions.length>0?S.jsx("div",{className:"mt-4 w-full flex flex-col items-start gap-4",children:S.jsx(y9,{questions:e.questions})}):S.jsx("p",{className:"text-center text-gray-500 py-8",children:"No questions available for this interview. Please try refreshing the page or select another interview."})]}):S.jsx("div",{className:"w-full flex justify-center items-center h-[70vh]",children:S.jsx("p",{className:"text-red-500 text-lg font-semibold",children:"Failed to load the interview. Redirecting..."})})};var mv="Collapsible",[w9,nS]=go(mv),[E9,gv]=w9(mv),rS=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:l,...c}=t,[h=!1,p]=ta({prop:r,defaultProp:i,onChange:l});return S.jsx(E9,{scope:n,disabled:a,contentId:zi(),open:h,onOpenToggle:C.useCallback(()=>p(g=>!g),[p]),children:S.jsx(bt.div,{"data-state":vv(h),"data-disabled":a?"":void 0,...c,ref:e})})});rS.displayName=mv;var sS="CollapsibleTrigger",iS=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=gv(sS,n);return S.jsx(bt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":vv(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:kt(t.onClick,i.onOpenToggle)})});iS.displayName=sS;var yv="CollapsibleContent",oS=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gv(yv,t.__scopeCollapsible);return S.jsx(ea,{present:n||i.open,children:({present:a})=>S.jsx(x9,{...r,ref:e,present:a})})});oS.displayName=yv;var x9=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=t,l=gv(yv,n),[c,h]=C.useState(r),p=C.useRef(null),g=Pn(e,p),v=C.useRef(0),E=v.current,w=C.useRef(0),T=w.current,b=l.open||c,A=C.useRef(b),k=C.useRef(void 0);return C.useEffect(()=>{const V=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(V)},[]),Xi(()=>{const V=p.current;if(V){k.current=k.current||{transitionDuration:V.style.transitionDuration,animationName:V.style.animationName},V.style.transitionDuration="0s",V.style.animationName="none";const F=V.getBoundingClientRect();v.current=F.height,w.current=F.width,A.current||(V.style.transitionDuration=k.current.transitionDuration,V.style.animationName=k.current.animationName),h(r)}},[l.open,r]),S.jsx(bt.div,{"data-state":vv(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!b,...a,ref:g,style:{"--radix-collapsible-content-height":E?`${E}px`:void 0,"--radix-collapsible-content-width":T?`${T}px`:void 0,...t.style},children:b&&i})});function vv(t){return t?"open":"closed"}var T9=rS,b9=iS,C9=oS,fi="Accordion",S9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[_v,A9,R9]=K1(fi),[$h,e5]=go(fi,[R9,nS]),wv=nS(),aS=se.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,a=r;return S.jsx(_v.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?S.jsx(N9,{...a,ref:e}):S.jsx(P9,{...i,ref:e})})});aS.displayName=fi;var[lS,I9]=$h(fi),[uS,k9]=$h(fi,{collapsible:!1}),P9=se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:a=!1,...l}=t,[c,h]=ta({prop:n,defaultProp:r,onChange:i});return S.jsx(lS,{scope:t.__scopeAccordion,value:c?[c]:[],onItemOpen:h,onItemClose:se.useCallback(()=>a&&h(""),[a,h]),children:S.jsx(uS,{scope:t.__scopeAccordion,collapsible:a,children:S.jsx(cS,{...l,ref:e})})})}),N9=se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=t,[l=[],c]=ta({prop:n,defaultProp:r,onChange:i}),h=se.useCallback(g=>c((v=[])=>[...v,g]),[c]),p=se.useCallback(g=>c((v=[])=>v.filter(E=>E!==g)),[c]);return S.jsx(lS,{scope:t.__scopeAccordion,value:l,onItemOpen:h,onItemClose:p,children:S.jsx(uS,{scope:t.__scopeAccordion,collapsible:!0,children:S.jsx(cS,{...a,ref:e})})})}),[O9,Bh]=$h(fi),cS=se.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:a="vertical",...l}=t,c=se.useRef(null),h=Pn(c,e),p=A9(n),v=lv(i)==="ltr",E=kt(t.onKeyDown,w=>{var I;if(!S9.includes(w.key))return;const T=w.target,b=p().filter(N=>{var L;return!((L=N.ref.current)!=null&&L.disabled)}),A=b.findIndex(N=>N.ref.current===T),k=b.length;if(A===-1)return;w.preventDefault();let V=A;const F=0,z=k-1,q=()=>{V=A+1,V>z&&(V=F)},J=()=>{V=A-1,V<F&&(V=z)};switch(w.key){case"Home":V=F;break;case"End":V=z;break;case"ArrowRight":a==="horizontal"&&(v?q():J());break;case"ArrowDown":a==="vertical"&&q();break;case"ArrowLeft":a==="horizontal"&&(v?J():q());break;case"ArrowUp":a==="vertical"&&J();break}const O=V%k;(I=b[O].ref.current)==null||I.focus()});return S.jsx(O9,{scope:n,disabled:r,direction:i,orientation:a,children:S.jsx(_v.Slot,{scope:n,children:S.jsx(bt.div,{...l,"data-orientation":a,ref:h,onKeyDown:r?void 0:E})})})}),th="AccordionItem",[D9,Ev]=$h(th),dS=se.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,a=Bh(th,n),l=I9(th,n),c=wv(n),h=zi(),p=r&&l.value.includes(r)||!1,g=a.disabled||t.disabled;return S.jsx(D9,{scope:n,open:p,disabled:g,triggerId:h,children:S.jsx(T9,{"data-orientation":a.orientation,"data-state":yS(p),...c,...i,ref:e,disabled:g,open:p,onOpenChange:v=>{v?l.onItemOpen(r):l.onItemClose(r)}})})});dS.displayName=th;var fS="AccordionHeader",hS=se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Bh(fi,n),a=Ev(fS,n);return S.jsx(bt.h3,{"data-orientation":i.orientation,"data-state":yS(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:e})});hS.displayName=fS;var Fg="AccordionTrigger",pS=se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Bh(fi,n),a=Ev(Fg,n),l=k9(Fg,n),c=wv(n);return S.jsx(_v.ItemSlot,{scope:n,children:S.jsx(b9,{"aria-disabled":a.open&&!l.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...c,...r,ref:e})})});pS.displayName=Fg;var mS="AccordionContent",gS=se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Bh(fi,n),a=Ev(mS,n),l=wv(n);return S.jsx(C9,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...l,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});gS.displayName=mS;function yS(t){return t?"open":"closed"}var M9=aS,V9=dS,L9=hS,vS=pS,_S=gS;const j9=M9,wS=C.forwardRef(({className:t,...e},n)=>S.jsx(V9,{ref:n,className:Xe("border-b",t),...e}));wS.displayName="AccordionItem";const ES=C.forwardRef(({className:t,children:e,...n},r)=>S.jsx(L9,{className:"flex",children:S.jsxs(vS,{ref:r,className:Xe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,S.jsx(JP,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ES.displayName=vS.displayName;const xS=C.forwardRef(({className:t,children:e,...n},r)=>S.jsx(_S,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:S.jsx("div",{className:Xe("pb-4 pt-0",t),children:e})}));xS.displayName=_S.displayName;const F9=()=>{const{interviewId:t}=vc(),[e,n]=C.useState(null),[r,i]=C.useState(!0),[a,l]=C.useState([]),[c,h]=C.useState(""),p=mo();C.useEffect(()=>{if(!t){p("/dashboard",{replace:!0});return}const v=async()=>{try{const w=await Oh(ia(as,"interviews",t));w.exists()?n({id:w.id,...w.data()}):(_n.error("Interview not found."),p("/dashboard",{replace:!0}))}catch(w){console.error("Error fetching interview:",w),_n.error("Failed to fetch interview.")}},E=async()=>{try{const w=Xb(tc(as,"userAnswers"),Jb("mockIdRef","==",t)),b=(await r1(w)).docs.map(A=>({id:A.id,...A.data()}));l(b)}catch(w){console.error("Error fetching feedback:",w),_n.error("Failed to load feedback.")}finally{i(!1)}};v(),E()},[t,p]);const g=C.useMemo(()=>a.length===0?"0.0":(a.reduce((E,w)=>E+w.rating,0)/a.length).toFixed(1),[a]);return r?S.jsx(sv,{className:"w-full h-[70vh]"}):S.jsxs("div",{className:"flex flex-col w-full gap-8 py-5",children:[S.jsx("div",{className:"flex items-center justify-between w-full gap-2",children:S.jsx(Lh,{breadCrumbPage:"Feedback",breadCrumpItems:[{label:"Mock Interviews",link:"/dashboard"},{label:`${e==null?void 0:e.position}`,link:`/interview/${e==null?void 0:e.id}`}]})}),S.jsx(Tf,{title:"Congratulations!",description:"Your personalized feedback is now available. Dive in to see your strengths, areas for improvement, and tips to help you ace your next interview."}),S.jsxs("p",{className:"text-base text-muted-foreground",children:["Your overall interview rating:"," ",S.jsxs("span",{className:"text-emerald-500 font-semibold text-xl",children:[g," / 10"]})]}),e&&S.jsx(Qy,{interview:e,onMockPage:!0}),S.jsx(Tf,{title:"Interview Feedback",isSubHeading:!0}),a.length>0?S.jsx(j9,{type:"single",collapsible:!0,className:"space-y-6",children:a.map(v=>S.jsxs(wS,{value:v.id,className:"border rounded-lg shadow-md",children:[S.jsx(ES,{onClick:()=>h(v.id),className:Xe("px-5 py-3 flex items-center justify-between text-base rounded-t-lg transition-colors hover:no-underline",c===v.id?"bg-gradient-to-r from-purple-50 to-blue-50":"hover:bg-gray-50"),children:S.jsx("span",{children:v.question})}),S.jsxs(xS,{className:"px-5 py-6 bg-white rounded-b-lg space-y-5 shadow-inner",children:[S.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:[S.jsx(xN,{className:"inline mr-2 text-yellow-400"}),"Rating: ",v.rating]}),S.jsxs(Pu,{className:"border-none space-y-3 p-4 bg-green-50 rounded-lg shadow-md",children:[S.jsxs(Nu,{className:"flex items-center text-lg",children:[S.jsx(Cm,{className:"mr-2 text-green-600"}),"Expected Answer"]}),S.jsx(Ou,{className:"font-medium text-gray-700",children:v.correct_ans})]}),S.jsxs(Pu,{className:"border-none space-y-3 p-4 bg-yellow-50 rounded-lg shadow-md",children:[S.jsxs(Nu,{className:"flex items-center text-lg",children:[S.jsx(Cm,{className:"mr-2 text-yellow-600"}),"Your Answer"]}),S.jsx(Ou,{className:"font-medium text-gray-700",children:v.user_ans})]}),S.jsxs(Pu,{className:"border-none space-y-3 p-4 bg-red-50 rounded-lg shadow-md",children:[S.jsxs(Nu,{className:"flex items-center text-lg",children:[S.jsx(Cm,{className:"mr-2 text-red-600"}),"Feedback"]}),S.jsx(Ou,{className:"font-medium text-gray-700",children:v.feedback})]})]})]},v.id))}):S.jsx("p",{className:"text-center text-gray-500",children:"No feedback available for this interview."})]})},U9=()=>S.jsx(XR,{children:S.jsxs(RR,{children:[S.jsx(ws,{path:"/",element:S.jsx(SR,{to:"/generate",replace:!0})}),S.jsxs(ws,{path:"/",element:S.jsx($I,{}),children:[S.jsxs(ws,{path:"generate",element:S.jsx(BI,{}),children:[S.jsx(ws,{index:!0,element:S.jsx(dL,{})}),S.jsx(ws,{path:"create",element:S.jsx(kj,{})}),S.jsx(ws,{path:"interview/:interviewId",element:S.jsx(Mj,{})}),S.jsx(ws,{path:"interview/:interviewId/start",element:S.jsx(_9,{})}),S.jsx(ws,{path:"feedback/:interviewId",element:S.jsx(F9,{})})]}),S.jsx(ws,{path:"*",element:S.jsx("div",{children:S.jsx("h2",{children:"404 - Page Not Found"})})})]})]})});var $9=(t,e,n,r,i,a,l,c)=>{let h=document.documentElement,p=["light","dark"];function g(w){(Array.isArray(t)?t:[t]).forEach(T=>{let b=T==="class",A=b&&a?i.map(k=>a[k]||k):i;b?(h.classList.remove(...A),h.classList.add(w)):h.setAttribute(T,w)}),v(w)}function v(w){c&&p.includes(w)&&(h.style.colorScheme=w)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let w=localStorage.getItem(e)||n,T=l&&w==="system"?E():w;g(T)}catch{}},B9=C.createContext(void 0),z9={setTheme:t=>{},themes:[]},H9=()=>{var t;return(t=C.useContext(B9))!=null?t:z9};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:l,themes:c,nonce:h,scriptProps:p})=>{let g=JSON.stringify([n,e,a,t,c,l,r,i]).slice(1,-1);return C.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${$9.toString()})(${g})`}})});const W9=({...t})=>{const{theme:e="system"}=H9();return S.jsx(oL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},q9=()=>S.jsx(W9,{theme:"light",richColors:!0,position:"top-right",duration:4e3,closeButton:!0,className:"bg-white shadow-md border border-gray-200 rounded-lg"});MA.createRoot(document.getElementById("root")).render(S.jsxs(C.StrictMode,{children:[S.jsx(U9,{}),S.jsx(q9,{})]}));
